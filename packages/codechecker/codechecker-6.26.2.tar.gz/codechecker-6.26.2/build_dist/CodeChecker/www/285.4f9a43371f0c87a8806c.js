/*! For license information please see 285.4f9a43371f0c87a8806c.js.LICENSE.txt */
(self.webpackChunkcodechecker=self.webpackChunkcodechecker||[]).push([[285],{59551:(t,e,r)=>{var n=r(31601),o=r(76314)(n);o.push([t.id,".report-hash[data-v-7a0a31fe]{text-decoration:none}.report-hash[data-v-7a0a31fe]:hover{text-decoration:underline}[data-v-7a0a31fe] .v-toolbar__content{padding:0}",""]),t.exports=o},68238:(t,e,r)=>{var n=r(59551);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,r(70534).A)("dd4e739a",n,!0,{})},78285:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>et});var n=r(72084),o=r(17733),i=r(13843),a=r(88533),s=(r(42762),r(52675),r(89463),r(2259),r(51629),r(23792),r(34782),r(62010),r(59904),r(84185),r(40875),r(10287),r(26099),r(3362),r(47764),r(23500),r(62953),r(23706)),u=r(55660),l=r(92674),c=(r(62062),r(2892),r(16034),r(58940),r(33708)),f=r(71841);const v={name:"SelectReviewStatus",components:{SelectReviewStatusItem:r(12908)._4},mixins:[f.ec],props:{value:{type:Number,default:null},label:{type:String,default:"Select review status"},clearable:{type:Boolean,default:!0},rules:{type:Array,default:function(){return[]}}},data:function(){return{items:[]}},computed:{reviewStatus:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},created:function(){var t=this;this.items=Object.values(c.ReviewStatus).map((function(e){return{id:e,label:t.reviewStatusFromCodeToString(parseInt(e))}}))},methods:{onChange:function(){this.$emit("change",this.value)}}};var h=r(14486);const p=(0,h.A)(v,(function(){var t=this,e=t._self._c;return e(l.A,{staticClass:"select-review-status small",attrs:{items:t.items,"hide-details":!0,"menu-props":{contentClass:"select-review-status-menu"},label:t.label,clearable:t.clearable,rules:t.rules,"item-text":"label","item-value":"id",height:"0",flat:"",dense:"",outlined:""},on:{change:t.onChange},scopedSlots:t._u([{key:"selection",fn:function(t){var r=t.item;return[e("select-review-status-item",{attrs:{item:r}})]}},{key:"item",fn:function(t){var r=t.item;return[e("select-review-status-item",{attrs:{item:r}})]}}]),model:{value:t.reviewStatus,callback:function(e){t.reviewStatus=e},expression:"reviewStatus"}})}),[],!1,null,null,null).exports;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(){m=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var i=r&&r.prototype instanceof v?r:v,a=Object.create(i.prototype);return u(a,"_invoke",function(e,r,n){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=_(s,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=c(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new A(o||[])),!0),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function v(){}function h(){}function p(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==r&&n.call(b,i)&&(y=b);var w=p.prototype=v.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function r(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==d(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(o,e.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[e.r]=a.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function O(t){this.tryEntries.push(t)}function x(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function A(t){this.tryEntries=[[-1]],t.forEach(O,this),this.reset(!0)}function C(e){if(null!=e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(d(e)+" is not iterable")}return h.prototype=p,u(w,"constructor",p),u(p,"constructor",h),u(p,s,h.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},S(R.prototype),u(R.prototype,a,(function(){return this})),e.AsyncIterator=R,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new R(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){a.type="throw",a.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],l=i[2];if(-1===i[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,n(u),!0;if(s<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:C(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function y(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){y(i,n,o,a,s,"next",t)}function s(t){y(i,n,o,a,s,"throw",t)}a(void 0)}))}}const b={name:"EditReviewStatusRuleDialog",components:{ConfirmDialog:u.TM,SelectReviewStatus:p},props:{value:{type:Boolean,default:!1},rule:{type:Object,default:function(){return null}}},data:function(){return{reportHash:null,status:null,message:null,rules:{reportHash:[function(t){return!!t||"Report hash is required"}],selectReviewStatus:[function(t){return!!t||"Review status is required"}]}}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("update:value",t)}}},watch:{dialog:function(){var t;this.dialog&&(null===(t=this.$refs.form)||void 0===t||t.resetValidation())},rule:function(){var t,e,r;this.reportHash=null===(t=this.rule)||void 0===t?void 0:t.reportHash,this.status=null===(e=this.rule)||void 0===e?void 0:e.status,this.message=null===(r=this.rule)||void 0===r?void 0:r.message}},methods:{saveReviewStatusRule:function(){var t=this;return g(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:s._f.getClient().addReviewStatusRule(t.reportHash,t.status,t.message,(0,s.sm)(g(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("on:confirm"),t.dialog=!1;case 2:case"end":return e.stop()}}),e)})))));case 3:case"end":return e.stop()}}),e)})))()}}},w=(0,h.A)(b,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"content-class":"edit-review-status-rule-dialog",scrollable:""},on:{confirm:t.saveReviewStatusRule},scopedSlots:t._u([{key:"title",fn:function(){return[t.rule?e("span",[t._v("\n      Edit review status rule\n    ")]):e("span",[t._v("\n      New review status rule\n    ")])]},proxy:!0},{key:"content",fn:function(){return[e(o.A,{ref:"form"},[e(i.A,{staticClass:"report-hash mb-2",attrs:{label:"Report hash*",autofocus:"",outlined:"",required:"","hide-details":!0,rules:t.rules.reportHash},model:{value:t.reportHash,callback:function(e){t.reportHash="string"==typeof e?e.trim():e},expression:"reportHash"}}),t._v(" "),e("select-review-status",{staticClass:"mb-2",attrs:{label:"Select review status*",clearable:!1,rules:t.rules.selectReviewStatus},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}}),t._v(" "),e(a.A,{staticClass:"message pa-0",attrs:{solo:"",flat:"",outlined:"",name:"reviewStatusMessage",label:"(Optionally) Explain the status change...","hide-details":!0},model:{value:t.message,callback:function(e){t.message="string"==typeof e?e.trim():e},expression:"message"}})],1)]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports;var S=r(56936),R=r(37873),_=r(22871),O=r(63559),x=r(69653),A=r(50649),C=r(85840);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(t,e,r){return(e=function(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(45700),r(2008),r(89572),r(67945),r(83851),r(81278),r(79432),r(27495),r(25440);var E=r(85471),T=r(98215);const H={name:"RemoveReviewStatusRuleDialog",components:{ConfirmDialog:u.TM},props:{value:{type:Boolean,default:!1},rule:{type:Object,default:function(){return null}}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("update:value",t)}}},methods:{removeReviewStatusRule:function(){var t=this,e=new c.ReviewStatusRuleFilter;e.reportHashes=[this.rule.reportHash],s._f.getClient().removeReviewStatusRules(e,(0,s.sm)((function(e){e&&(t.$emit("on:confirm",t.rule),t.dialog=!1)})))}}},F=(0,h.A)(H,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"content-class":"remove-review-status-rule-dialog","confirm-btn-label":"Remove"},on:{confirm:t.removeReviewStatusRule},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n    Remove review status rule\n  ")]},proxy:!0},{key:"content",fn:function(){return[t.rule?e(n.A,[t._v("\n      Are you sure that you would like to remove review status rule for\n      report hash "),e("b",[t._v(t._s(t.rule.reportHash))]),t._v("?\n\n      "),t.rule.associatedReportCount?e(T.A,{staticClass:"mt-2",attrs:{color:"error",border:"left",elevation:"2","colored-border":"",icon:"mdi-alert-outline"}},[t._v("\n        There\n        "),1===t.rule.associatedReportCount?e("span",[t._v("is")]):e("span",[t._v("are")]),t._v(" "),e("b",[t._v(t._s(t.rule.associatedReportCount))]),t._v(" matching\n        "),1===t.rule.associatedReportCount?e("span",[t._v("report")]):e("span",[t._v("reports")]),t._v("\n        associated with this rule. Removing a review status rule\n        will change the review statuses of these reports back to\n        "),e("i",[t._v("Unreviewed")]),t._v(", so they become outstanding at the current date.\n        This may affect statistics as well. The operation can't be undone.\n      ")]):t._e()],1):t._e()]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports,$={name:"RemoveFilteredRulesDialog",components:{ConfirmDialog:u.TM},props:{value:{type:Boolean,default:!1},filter:{type:Object,default:null},total:{type:Number,default:null}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("update:value",t)}}},methods:{removeReviewStatusRule:function(){var t=this;s._f.getClient().removeReviewStatusRules(this.filter,(0,s.sm)((function(e){e&&(t.$emit("on:confirm",t.rule),t.dialog=!1)})))}}},I=(0,h.A)($,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"content-class":"remove-filtered-rules-dialog","confirm-btn-label":"Remove"},on:{confirm:t.removeReviewStatusRule},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n    Remove filtered review status rules\n  ")]},proxy:!0},{key:"content",fn:function(){return[e(n.A,[e(T.A,{staticClass:"mt-2",attrs:{color:"error",border:"left",elevation:"2","colored-border":"",icon:"mdi-alert-outline"}},[t._v("\n        Are you sure that you would like to remove all the filtered review\n        status rules ("),e("b",[t._v(t._s(t.total))]),t._v(") from the database?\n        "),e("br"),e("br"),t._v(" "),e("b",[t._v("IMPORTANT**")]),t._v(": be careful when you delete rules because this\n        operation can not be undone.\n      ")])],1)]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports;var N=r(7349);const q={name:"ReviewStatusLabel",components:{ReviewStatusIcon:r(62198).iL},mixins:[f.ec],props:{value:{type:Number,required:!0}},computed:{label:function(){return this.reviewStatusFromCodeToString(this.value)}}},M=(0,h.A)(q,(function(){var t=this,e=t._self._c;return e("div",[e(N.A,{attrs:{left:"",size:16}},[e("review-status-icon",{attrs:{status:t.value,size:16}})],1),t._v(" "),t._t("label",(function(){return[t._v("\n    "+t._s(t.label)+"\n  ")]}))],2)}),[],!1,null,null,null).exports;var B=r(12853),G=r(2543),U=r.n(G);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return(e=function(t){var e=function(t){if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Y={name:"ReviewStatusRuleFilter",components:{SelectReviewStatus:p,TooltipHelpIcon:r(87747).A},mixins:[f.ec],props:{bus:{type:Object,required:!0}},data:function(){var t=this.$router.currentRoute.query,e=t["report-hash"],r=!!t["no-associated-reports"],n=t["review-status"]?this.reviewStatusFromStringToCode(t["review-status"]):null;return{author:t.author,reportHash:e,reviewStatus:n,noAssociatedReports:r}},computed:{status:function(){return null!==this.reviewStatus?this.reviewStatusFromCodeToString(this.reviewStatus):null},filter:function(){if(this.reportHash||this.noAssociatedReports||this.reviewStatus||this.author){var t=new c.ReviewStatusRuleFilter;return t.reportHashes=this.reportHash?["".concat(this.reportHash,"*")]:null,t.authors=this.author?["".concat(this.author,"*")]:null,t.reviewStatuses=null!==this.reviewStatus?[this.reviewStatus]:null,t.noAssociatedReports=this.noAssociatedReports,t}}},mounted:function(){var t=this;this.onFilterChanged(),this.bus.$on("clear",(function(){t.reportHash=null,t.author=null,t.reviewStatus=null,t.noAssociatedReports=null,t.onFilterChanged()}))},methods:{onTextFilterChanged:U().debounce((function(){this.onFilterChanged()}),400),onFilterChanged:function(){this.$emit("on:filter",this.filter),this.updateUrl({"report-hash":this.reportHash?this.reportHash:void 0,author:this.author?this.author:void 0,"no-associated-reports":this.noAssociatedReports?"on":void 0,"review-status":null!==this.status?this.status:void 0})},updateUrl:function(t){this.$router.replace({query:V(V({},this.$route.query),t)}).catch((function(){}))}}};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(Object(r),!0).forEach((function(e){X(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t,e,r){return(e=function(t){var e=function(t){if("object"!=J(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==J(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Z={name:"ListSourceComponents",components:{EditReviewStatusRuleDialog:w,RemoveFilteredRulesDialog:I,RemoveReviewStatusRuleDialog:F,ReviewStatusLabel:M,ReviewStatusRuleFilter:(0,h.A)(Y,(function(){var t=this,e=t._self._c;return e(n.A,{attrs:{fluid:""}},[e(A.A,{attrs:{align:"center"}},[e(_.A,{staticClass:"py-0"},[e(i.A,{staticClass:"report-hash",attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search by report hash...","single-line":"","hide-details":"",outlined:"",solo:"",flat:"",dense:"",clearable:""},on:{input:t.onTextFilterChanged},model:{value:t.reportHash,callback:function(e){t.reportHash=e},expression:"reportHash"}})],1),t._v(" "),e(_.A,{staticClass:"py-0"},[e("select-review-status",{attrs:{label:"Search by review status"},on:{change:t.onFilterChanged},model:{value:t.reviewStatus,callback:function(e){t.reviewStatus=e},expression:"reviewStatus"}})],1),t._v(" "),e(_.A,{staticClass:"py-0"},[e(i.A,{staticClass:"author",attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search by author...","single-line":"","hide-details":"",outlined:"",solo:"",flat:"",dense:"",clearable:""},on:{input:t.onTextFilterChanged},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}})],1),t._v(" "),e(_.A,{staticClass:"py-0"},[e(B.A,{staticClass:"no-associated-reports ma-0 py-0",attrs:{"hide-details":!0},on:{change:t.onFilterChanged},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          No associated reports\n          "),e("tooltip-help-icon",[t._v("\n            Show only review status rules which have no associated reports\n            and can be safely removed from the database without changing the\n            statistics.\n          ")])]},proxy:!0}]),model:{value:t.noAssociatedReports,callback:function(e){t.noAssociatedReports=e},expression:"noAssociatedReports"}})],1)],1)],1)}),[],!1,null,null,null).exports},mixins:[f.ec],data:function(){var t=[25,50,100],e=parseInt(this.$router.currentRoute.query.page)||1,r=parseInt(this.$router.currentRoute.query["items-per-page"])||t[0],n=this.$router.currentRoute.query["sort-by"],o=this.$router.currentRoute.query["sort-desc"];return{initialized:!1,pagination:{page:e,itemsPerPage:r,sortBy:n?[n]:[],sortDesc:void 0!==o?["true"===o]:[]},footerProps:{itemsPerPageOptions:t},totalItems:0,rules:[],filter:null,loading:!1,selected:null,editDialog:!1,removeDialog:!1,removeFilteredRuleDialog:!1,bus:new E.Ay,headers:[{text:"Report hash",value:"reportHash",sortable:!0},{text:"Review status",value:"status",sortable:!0},{text:"Message",value:"message",sortable:!1},{text:"Author",value:"author",sortable:!0},{text:"Date",value:"date",sortable:!0},{text:"Number of associated reports",value:"associatedReportCount",sortable:!0,align:"center"},{text:"Actions",value:"actions",sortable:!1}]}},watch:{pagination:{handler:function(){if(this.initialized){var t=this.footerProps.itemsPerPageOptions[0],e=this.pagination.itemsPerPage===t?void 0:this.pagination.itemsPerPage,r=1===this.pagination.page?void 0:this.pagination.page,n=this.pagination.sortBy.length?this.pagination.sortBy[0]:void 0,o=this.pagination.sortDesc.length?this.pagination.sortDesc[0]:void 0;this.updateUrl({"items-per-page":e,page:r,"sort-by":n,"sort-desc":o}),this.fetchReviewStatusRules()}},deep:!0}},methods:{updateUrl:function(t){this.$router.replace({query:Q(Q({},this.$route.query),t)}).catch((function(){}))},getSortMode:function(){var t=null;switch(this.pagination.sortBy[0]){case"reportHash":t=c.ReviewStatusRuleSortType.REPORT_HASH;break;case"status":t=c.ReviewStatusRuleSortType.STATUS;break;case"author":t=c.ReviewStatusRuleSortType.AUTHOR;break;case"associatedReportCount":t=c.ReviewStatusRuleSortType.ASSOCIATED_REPORTS_COUNT;break;default:t=c.ReviewStatusRuleSortType.DATE}var e=!1===this.pagination.sortDesc[0]?c.Order.ASC:c.Order.DESC;return new c.ReviewStatusRuleSortMode({type:t,ord:e})},filterReviewStatusRules:function(t){this.filter=t,this.fetchReviewStatusRules()},fetchReviewStatusRules:function(){var t=this;this.loading=!0,s._f.getClient().getReviewStatusRulesCount(this.filter,(0,s.sm)((function(e){t.totalItems=e.toNumber()})));var e=this.getSortMode(),r=this.pagination.itemsPerPage,n=r*(this.pagination.page-1);return new Promise((function(o){s._f.getClient().getReviewStatusRules(t.filter,e,r,n,(0,s.sm)((function(e){t.rules=e.map((function(t){return{reportHash:t.reportHash,status:t.reviewData.status,message:t.reviewData.comment,author:t.reviewData.author,date:t.reviewData.date,associatedReportCount:t.associatedReportCount.toNumber()}})),t.loading=!1,t.initialized=!0,o(t.rules)})))}))},clearAllFilters:function(){this.bus.$emit("clear")},editReviewStatusRule:function(t){this.selected=t,this.editDialog=!0},newReviewStatusRule:function(){this.selected=null,this.editDialog=!0},removeReviewStatusRule:function(t){this.selected=t,this.removeDialog=!0}}};r(68238);const tt={name:"ReviewStatusRules",components:{ListReviewStatusRules:(0,h.A)(Z,(function(){var t=this,e=t._self._c;return e(O.A,{attrs:{headers:t.headers,items:t.rules,loading:t.loading,"mobile-breakpoint":1e3,options:t.pagination,"loading-text":"Loading review status rules...","server-items-length":t.totalItems,"footer-props":t.footerProps,"item-key":"reportHash"},on:{"update:options":function(e){t.pagination=e},"update:serverItemsLength":function(e){t.totalItems=e},"update:server-items-length":function(e){t.totalItems=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("edit-review-status-rule-dialog",{attrs:{value:t.editDialog,rule:t.selected},on:{"update:value":function(e){t.editDialog=e},"on:confirm":t.fetchReviewStatusRules}}),t._v(" "),e("remove-review-status-rule-dialog",{attrs:{value:t.removeDialog,rule:t.selected},on:{"update:value":function(e){t.removeDialog=e},"on:confirm":t.fetchReviewStatusRules}}),t._v(" "),e("remove-filtered-rules-dialog",{attrs:{value:t.removeFilteredRuleDialog,total:t.totalItems,filter:t.filter},on:{"update:value":function(e){t.removeFilteredRuleDialog=e},"on:confirm":t.fetchReviewStatusRules}}),t._v(" "),e(C.A,{staticClass:"mb-4",attrs:{flat:""}},[e(n.A,{staticClass:"pa-0",attrs:{fluid:""}},[e(A.A,{attrs:{align:"center"}},[e(_.A,{staticClass:"pa-0"},[e("review-status-rule-filter",{staticClass:"review-status-rule-filters",attrs:{bus:t.bus},on:{"on:filter":t.filterReviewStatusRules}})],1),t._v(" "),e(_.A,{staticClass:"pa-0",attrs:{align:"right",cols:"auto"}},[e(S.A,{staticClass:"remove-filtered-rules-btn mr-2",attrs:{color:"error",outlined:"",disabled:t.loading},on:{click:function(e){t.removeFilteredRuleDialog=!0}}},[t._v("\n              Remove filtered rules\n            ")]),t._v(" "),e(S.A,{staticClass:"clear-all-filters-btn mr-2",attrs:{color:"primary",outlined:""},on:{click:t.clearAllFilters}},[t._v("\n              Clear all filters\n            ")]),t._v(" "),e(S.A,{staticClass:"new-rule-btn mr-2",attrs:{color:"primary",outlined:""},on:{click:t.newReviewStatusRule}},[t._v("\n              New\n            ")]),t._v(" "),e(S.A,{attrs:{icon:"",title:"Reload review status rules",color:"primary"},on:{click:t.fetchReviewStatusRules}},[e(x.A,[t._v("mdi-refresh")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.status",fn:function(t){var r=t.item;return[e("review-status-label",{attrs:{value:r.status,label:"TODO"}})]}},{key:"item.reportHash",fn:function(r){var n=r.item;return[e("router-link",{staticClass:"report-hash",attrs:{title:n.reportHash,to:{name:"reports",query:j(j({},t.$router.currentRoute.query),{},{"report-hash":n.reportHash,"review-status":t.reviewStatusFromCodeToString(n.status)})}}},[t._v("\n      "+t._s(t._f("truncate")(n.reportHash,10))+"\n    ")])]}},{key:"item.date",fn:function(r){var n=r.item;return[e(R.A,{staticClass:"ma-2",attrs:{color:"primary",outlined:""}},[e(x.A,{attrs:{left:""}},[t._v("\n        mdi-calendar-range\n      ")]),t._v("\n      "+t._s(t._f("prettifyDate")(n.date))+"\n    ")],1)]}},{key:"item.actions",fn:function(r){var n=r.item;return[e(S.A,{staticClass:"remove-btn",attrs:{icon:"",color:"error",disabled:t.loading},on:{click:function(e){return t.removeReviewStatusRule(n)}}},[e(x.A,[t._v("mdi-trash-can-outline")])],1),t._v(" "),e(S.A,{staticClass:"edit-btn",attrs:{icon:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.editReviewStatusRule(n)}}},[e(x.A,[t._v("mdi-pencil")])],1)]}}])})}),[],!1,null,"7a0a31fe",null).exports}},et=(0,h.A)(tt,(function(){var t=this,e=t._self._c;return e(n.A,{attrs:{fluid:""}},[e("h1",[t._v("Manage review status rules")]),t._v(" "),e("div",{staticClass:"subtitle-1"},[t._v("\n    Sets the review status of all reports without source code comment even\n    in the future. We don't recommend setting review status for reports which\n    already have one as a source code comment!\n  ")]),t._v(" "),e("list-review-status-rules")],1)}),[],!1,null,null,null).exports}}]);