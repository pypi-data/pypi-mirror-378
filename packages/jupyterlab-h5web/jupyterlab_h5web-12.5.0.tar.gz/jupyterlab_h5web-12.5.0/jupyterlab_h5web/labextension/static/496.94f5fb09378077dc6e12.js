"use strict";(self.webpackChunkjupyterlab_h5web=self.webpackChunkjupyterlab_h5web||[]).push([[496],{5496:(e,t,n)=>{n.r(t),n.d(t,{isStrictEqual:()=>a,resolveHookState:()=>$,truthyAndArrayPredicate:()=>f,truthyOrArrayPredicate:()=>l,useAsync:()=>ke,useAsyncAbortable:()=>ze,useClickOutside:()=>Qe,useConditionalEffect:()=>h,useControlledRerenderState:()=>q,useCounter:()=>N,useCustomCompareEffect:()=>S,useCustomCompareMemo:()=>U,useDebouncedCallback:()=>s,useDebouncedEffect:()=>E,useDebouncedState:()=>F,useDeepCompareEffect:()=>z,useDeepCompareMemo:()=>H,useDocumentVisibility:()=>Ue,useEventListener:()=>$e,useFirstMountState:()=>T,useFunctionalState:()=>J,useHookableRef:()=>ve,useIntersectionObserver:()=>Ve,useIntervalEffect:()=>D,useIsMounted:()=>A,useIsomorphicLayoutEffect:()=>C,useKeyboardEvent:()=>Ne,useLifecycleLogger:()=>B,useList:()=>Q,useLocalStorageValue:()=>Ee,useMap:()=>K,useMeasure:()=>je,useMediaQuery:()=>We,useMediatedState:()=>P,useMountEffect:()=>O,useNetworkState:()=>fe,usePermission:()=>le,usePrevious:()=>X,usePreviousDistinct:()=>Y,useQueue:()=>Z,useRafCallback:()=>d,useRafEffect:()=>V,useRafState:()=>ee,useRenderCount:()=>te,useRerender:()=>L,useResizeObserver:()=>Le,useScreenOrientation:()=>He,useSessionStorageValue:()=>Re,useSet:()=>re,useSyncedRef:()=>u,useThrottledCallback:()=>v,useThrottledEffect:()=>j,useThrottledState:()=>oe,useTimeoutEffect:()=>W,useToggle:()=>ue,useUnmountEffect:()=>o,useUpdateEffect:()=>I,useValidator:()=>se,useVibrate:()=>de,useWindowSize:()=>Xe});var r=n(3345);function u(e){const t=(0,r.useRef)(e);return t.current=e,(0,r.useMemo)(()=>Object.freeze({get current(){return t.current}}),[])}function o(e){const t=u(e);(0,r.useEffect)(()=>()=>{t.current()},[])}function s(e,t,n,u=0){const s=(0,r.useRef)(void 0),c=(0,r.useRef)(void 0),i=(0,r.useRef)(e),a=(0,r.useRef)(void 0),f=()=>{s.current&&(clearTimeout(s.current),s.current=void 0),c.current&&(clearTimeout(c.current),c.current=void 0)};return o(f),(0,r.useEffect)(()=>{i.current=e},t),(0,r.useMemo)(()=>{const t=()=>{if(f(),!a.current)return;const e=a.current;a.current=void 0,i.current.apply(e.this,e.args)},r=function(...e){s.current&&clearTimeout(s.current),a.current={args:e,this:this},s.current=setTimeout(t,n),u>0&&!c.current&&(c.current=setTimeout(t,u))};return Object.defineProperties(r,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__debounced__${n}`}}),r},[n,u,...t])}const c=()=>{},i="undefined"!=typeof globalThis&&"undefined"!=typeof navigator&&"undefined"!=typeof document,a=(e,t)=>e===t,f=e=>e.every(Boolean),l=e=>e.some(Boolean);function d(e){const t=u(e),n=(0,r.useRef)(0),s=(0,r.useCallback)(()=>{i&&n.current&&(cancelAnimationFrame(n.current),n.current=0)},[]);return o(s),[(0,r.useMemo)(()=>{const r=(...e)=>{i&&(s(),n.current=requestAnimationFrame(()=>{t.current(...e),n.current=0}))};return Object.defineProperties(r,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__raf`}}),r},[]),s]}function v(e,t,n,u=!1){const s=(0,r.useRef)(void 0),c=(0,r.useRef)(void 0);return o(()=>{s.current&&(clearTimeout(s.current),s.current=void 0)}),(0,r.useMemo)(()=>{const t=(r,o)=>{c.current=void 0,e.apply(r,o),s.current=setTimeout(()=>{s.current=void 0,!u&&c.current&&(t(c.current.this,c.current.args),c.current=void 0)},n)},r=function(...e){s.current?c.current={args:e,this:this}:t(this,e)};return Object.defineProperties(r,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__throttled__${n}`}}),r},[n,u,...t])}function h(e,t,n,u=f,o=r.useEffect,...s){o(()=>{if(u(n))return e()},t,...s)}function g(e,...t){e?.addEventListener?.(...t)}function p(e,...t){e?.removeEventListener?.(...t)}const m=(e,t)=>Object.hasOwn(e,t),b=()=>!0,y=()=>!1,w=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;for(const[n,r]of e.entries())if(r!==t[n])return!1;return!0};function S(e,t,n=w,u=r.useEffect,...o){const s=(0,r.useRef)(void 0);(void 0===s.current||i&&!n(s.current,t))&&(s.current=t),u(e,s.current,...o)}function E(e,t,n,u=0){(0,r.useEffect)(s(e,t,n,u),t)}const{valueOf:M,toString:R}=Object.prototype,k=(e,t)=>{if(e===t)return!0;if("object"==typeof e&&"object"==typeof t&&Boolean(e)&&Boolean(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;0!==r--;)if(!k(e[r],t[r]))return!1;return!0}if(e instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n[0])||!k(n[1],t.get(n[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}if(e instanceof DataView&&t instanceof DataView){const{byteLength:n}=e;if(n!==t.byteLength)return!1;for(let r=n;0!==r--;)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0}if(e instanceof ArrayBuffer&&t instanceof ArrayBuffer&&(e=new Uint8Array(e),t=new Uint8Array(t)),ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.valueOf!==M&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==R&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();const n=Object.keys(e);let r;for(let u=n.length;0!==u--;)if(r=n[u],!(("_owner"===r||"__v"===r||"__o"===r)&&Object.hasOwn(e,"$$typeof")||Object.hasOwn(t,r)&&k(e[r],t[r])))return!1;return Object.keys(t).length===n.length}return e!=e&&t!=t};function z(e,t,n=r.useEffect,...u){S(e,t,k,n,...u)}function T(){const e=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{e.current=!1},[]),e.current}function A(e=!1){const t=(0,r.useRef)(e),n=(0,r.useCallback)(()=>t.current,[]);return(0,r.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),n}const C=i?r.useLayoutEffect:r.useEffect;function O(e){(0,r.useEffect)(()=>{e()},[])}function V(e,t){const[n,u]=d(e);(0,r.useEffect)(()=>(n(),u),t)}const _=e=>(e+1)%Number.MAX_SAFE_INTEGER;function L(){const[,e]=(0,r.useState)(0);return(0,r.useCallback)(()=>{e(_)},[])}function j(e,t,n,u=!1){(0,r.useEffect)(v(e,t,n,u),t)}function I(e,t){const n=T();(0,r.useEffect)(n?c:e,t)}function B(e,t){const n=(0,r.useRef)(!1);(0,r.useEffect)(()=>{n.current&&console.log(`${e} updated`,t&&[...t])},t),(0,r.useEffect)(()=>(n.current=!0,console.log(`${e} mounted`,t&&[...t]),()=>{n.current=!1,console.log(`${e} unmounted`)}),[])}function D(e,t){const n=u(e);(0,r.useEffect)(()=>{if(!t&&0!==t)return;const e=setInterval(()=>{n.current()},t);return()=>{clearInterval(e)}},[t])}const x=e=>{e&&clearTimeout(e)};function W(e,t){const n=u(e),o=u(t),s=(0,r.useRef)(null),c=(0,r.useCallback)(()=>{x(s.current)},[]),i=(0,r.useCallback)(()=>{void 0!==o.current&&(c(),s.current=setTimeout(()=>{n.current()},o.current))},[]);return(0,r.useEffect)(()=>(i(),c),[t]),[c,i]}function $(...e){return 1===e.length?("function"==typeof(t=e[0])&&(t=t()),t):(n=e[0],r=e[1],"function"==typeof n?n(r):n);var t,n,r}function q(e){const t=(0,r.useRef)(T()?$(e):void 0),n=L();return[t.current,(0,r.useCallback)((e,r)=>{const u=$(e,t.current);u!==t.current&&(t.current=u,(void 0===r||r)&&n())},[])]}function P(e,t){const[n,o]=(0,r.useState)(()=>t?t($(e)):e),s=u(t);return[n,(0,r.useCallback)(e=>{s.current?o(t=>s.current?.($(e,t))):o(e)},[])]}function N(e=0,t,n){const[o,s]=P(e,e=>(void 0!==t&&(e=Math.min(t,e)),void 0!==n&&(e=Math.max(n,e)),e)),c=u(o);return[o,(0,r.useMemo)(()=>({get:()=>c.current,set:s,dec(e=1){s(t=>t-$(e,t))},inc(e=1){s(t=>t+$(e,t))},reset(t=e){s(e=>$(t,e))}}),[e,s,c])]}function F(e,t,n=0){const[u,o]=(0,r.useState)(e);return[u,s(o,[],t,n)]}const U=(e,t,n)=>{const u=(0,r.useRef)(void 0);return void 0!==u.current&&n(u.current,t)||(u.current=t),(0,r.useMemo)(e,u.current)};function H(e,t){return U(e,t,k)}function J(e){const[t,n]=(0,r.useState)(e),o=u(t);return[(0,r.useCallback)(()=>o.current,[]),n]}function Q(e){const t=u(e),n=(0,r.useRef)($(t.current)),o=L(),s=(0,r.useMemo)(()=>({set(e){n.current=$(e,n.current),o()},push(...e){s.set(t=>[...t,...e])},updateAt(e,t){s.set(n=>{const r=[...n];return r[e]=t,r})},insertAt(e,t){s.set(n=>{const r=[...n];return e>=r.length?r[e]=t:r.splice(e,0,t),r})},update(e,t){s.set(n=>n.map(n=>e(n,t)?t:n))},updateFirst(e,t){const r=n.current.findIndex(n=>e(n,t));r>-1&&s.updateAt(r,t)},upsert(e,t){const r=n.current.findIndex(n=>e(n,t));r>-1?s.updateAt(r,t):s.push(t)},sort(e){s.set(t=>[...t].sort(e))},filter(e,t){s.set(n=>[...n].filter(e,t))},removeAt(e){s.set(t=>{const n=[...t];return e<n.length&&n.splice(e,1),n})},clear(){s.set([])},reset(){s.set([...$(t.current)])}}),[t,o]);return[n.current,s]}const G=Map.prototype;function K(e){const t=(0,r.useRef)(void 0),n=L();if(!t.current){const r=new Map(e);t.current=r,r.set=(...e)=>(G.set.apply(r,e),n(),r),r.clear=(...e)=>{G.clear.apply(r,e),n()},r.delete=(...e)=>{const t=G.delete.apply(r,e);return n(),t}}return t.current}function X(e){const t=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{t.current=e}),t.current}function Y(e,t=a){const[n,u]=(0,r.useState)(),o=(0,r.useRef)(e);return I(()=>{t(o.current,e)||(u(o.current),o.current=e)},[e]),n}function Z(e=[]){const[t,{removeAt:n,push:o}]=Q(e),s=u(t);return(0,r.useMemo)(()=>({add(e){o(e)},remove(){const e=s.current[0];return n(0),e},get first(){return s.current.at(0)},get last(){return s.current.at(-1)},get size(){return s.current.length},get items(){return s.current}}),[])}function ee(e){const[t,n]=(0,r.useState)(e),[u,s]=d(n);return o(s),[t,u]}function te(){return++(0,r.useRef)(0).current}const ne=Set.prototype;function re(e){const t=(0,r.useRef)(void 0),n=L();if(!t.current){const r=new Set(e);t.current=r,r.add=(...e)=>(ne.add.apply(r,e),n(),r),r.clear=(...e)=>{ne.clear.apply(r,e),n()},r.delete=(...e)=>{const t=ne.delete.apply(r,e);return n(),t}}return t.current}function ue(e=!1,t=!0){const[n,o]=(0,r.useState)(e),s=u(t);return[n,(0,r.useCallback)(e=>{o(t=>void 0===e||s.current&&"object"==typeof e&&("SyntheticBaseEvent"===e.constructor.name||"string"==typeof e._reactName)?!t:Boolean($(e,t)))},[])]}function oe(e,t,n=!1){const[u,o]=(0,r.useState)(e);return[u,v(o,[],t,n)]}function se(e,t,n={isValid:void 0}){const[o,s]=(0,r.useState)(n),c=u(()=>{e.length>0?e(s):s(e())});return(0,r.useEffect)(()=>{c.current()},t),[o,(0,r.useCallback)(()=>{c.current()},[])]}const ce=i?globalThis.navigator:void 0,ie=ce&&(ce.connection??ce.mozConnection??ce.webkitConnection);function ae(e){const t=ce?.onLine,n=e?.online;return{online:t,previous:n,since:t===n?e?.since:new Date,downlink:ie?.downlink,downlinkMax:ie?.downlinkMax,effectiveType:ie?.effectiveType,rtt:ie?.rtt,saveData:ie?.saveData,type:ie?.type}}function fe(e){const[t,n]=(0,r.useState)(e??ae);return(0,r.useEffect)(()=>{const e=()=>{n(ae)};return g(globalThis,"online",e,{passive:!0}),g(globalThis,"offline",e,{passive:!0}),ie&&g(ie,"change",e,{passive:!0}),()=>{p(globalThis,"online",e),p(globalThis,"offline",e),ie&&p(ie,"change",e)}},[]),t}function le(e){const[t,n]=(0,r.useState)("not-requested");return(0,r.useEffect)(()=>{const t={current:null};return n("requested"),navigator.permissions.query(e).then(e=>{const r=()=>{n(e.state)};n(e.state),g(e,"change",r,{passive:!0}),t.current=()=>{p(e,"change",r)}}),()=>{t.current&&t.current()}},[e.name]),t}const de=i&&void 0!==navigator.vibrate?(e,t,n)=>{(0,r.useEffect)(()=>{let r;if(e)return navigator.vibrate(t),n&&(r=setInterval(()=>{navigator.vibrate(t)},Array.isArray(t)?t.reduce((e,t)=>e+t,0):t)),()=>{navigator.vibrate(0),r&&clearInterval(r)}},[n,t,e])}:c;function ve(e,t,n){const o=u(t),s=u(n);return(0,r.useMemo)(()=>{let t=e;return{get current(){return void 0===s.current?t:s.current(t)},set current(e){t=void 0===o.current?e:o.current(e)}}},[])}const he=new Map,ge=(e,t,n,r)=>{const u=he.get(e)?.get(t);if(void 0!==u&&0!==u.size)for(const e of u)e!==r&&e(n)},pe=e=>{e.storageArea&&e.key&&e.newValue&&ge(e.storageArea,e.key,e.newValue)},me={defaultValue:null,initializeWithValue:!0};function be(e,t,n){const o=u({...me,...n}),s=(e,t)=>(o.current.parse??we)(e,t),c=u({fetchRaw:()=>e.getItem(t),fetch:()=>s(c.current.fetchRaw(),o.current.defaultValue),remove(){e.removeItem(t)},store(n){const r=(u=n,(o.current.stringify??ye)(u));var u;return null!==r&&e.setItem(t,r),r}}),a=T(),[f,l]=(0,r.useState)(o.current?.initializeWithValue&&a?c.current.fetch():void 0),d=u(f),v=u({fetch(){l(c.current.fetch())},setRawVal(e){l(s(e,o.current.defaultValue))}});I(()=>{v.current.fetch()},[t]),(0,r.useEffect)(()=>{o.current.initializeWithValue||v.current.fetch()},[]),C(()=>{const n=v.current.setRawVal;return((e,t,n)=>{i&&0===he.size&&g(globalThis,"storage",pe,{passive:!0});let r=he.get(e);r||(r=new Map,he.set(e,r));let u=r.get(t);u||(u=new Set,r.set(t,u)),u.add(n)})(e,t,n),()=>{((e,t,n)=>{const r=he.get(e);if(!r)return;const u=r.get(t);u&&(u.delete(n),0===u.size&&r.delete(t),0===r.size&&he.delete(e),i&&0===he.size&&p(globalThis,"storage",pe))})(e,t,n)}},[e,t]);const h=u({set(n){if(!i)return;const r=$(n,d.current),u=c.current.store(r);null!==u&&ge(e,t,u)},delete(){i&&(c.current.remove(),ge(e,t,null))},fetch(){i&&ge(e,t,c.current.fetchRaw())}}),m=(0,r.useMemo)(()=>({set:e=>{h.current.set(e)},remove(){h.current.delete()},fetch(){h.current.fetch()}}),[]);return(0,r.useMemo)(()=>({value:f,...m}),[f])}const ye=e=>{if(null===e)return null;try{return JSON.stringify(e)}catch(e){return console.warn(e),null}},we=(e,t)=>{if(null===e)return t;try{return JSON.parse(e)}catch(e){return console.warn(e),t}};let Se;try{Se=i&&Boolean(globalThis.localStorage)}catch{Se=!1}const Ee=Se?(e,t)=>be(localStorage,e,t):(e,t)=>({value:void 0,set:c,remove:c,fetch:c});let Me;try{Me=i&&Boolean(globalThis.sessionStorage)}catch{Me=!1}const Re=Me?(e,t)=>be(sessionStorage,e,t):(e,t)=>({value:void 0,set:c,remove:c,fetch:c});function ke(e,t){const[n,o]=(0,r.useState)({status:"not-executed",error:void 0,result:t}),s=(0,r.useRef)(void 0),c=(0,r.useRef)(void 0),i=u({execute(...t){c.current=t;const n=e(...t);return s.current=n,o(e=>({...e,status:"loading"})),n.then(e=>{n===s.current&&o(t=>({...t,status:"success",error:void 0,result:e}))},e=>{n===s.current&&o(t=>({...t,status:"error",error:e}))}),n},reset(){o({status:"not-executed",error:void 0,result:t}),s.current=void 0,c.current=void 0}});return[n,(0,r.useMemo)(()=>({reset(){i.current.reset()},execute:(...e)=>i.current.execute(...e)}),[]),{promise:s.current,lastArgs:c.current}]}function ze(e,t){const n=(0,r.useRef)(void 0),[u,o,s]=ke(async(...t)=>{n.current?.abort();const r=new AbortController;return n.current=r,e(r.signal,...t).finally(()=>{n.current===r&&(n.current=void 0)})},t);return[u,(0,r.useMemo)(()=>{const e={reset(){e.abort(),o.reset()},abort(){n.current?.abort()}};return{...o,...e}},[]),{...s,abortController:n.current}]}const Te=[0],Ae="0px",Ce=new Map,Oe=e=>{const t=e.root??document;let n=Ce.get(t);n||(n=new Map,Ce.set(t,n));const r=JSON.stringify([e.rootMargin,e.threshold]);let u=n.get(r);if(!u){const o=new Map,s=new IntersectionObserver(e=>{for(const t of e){const e=o.get(t.target);if(void 0!==e&&0!==e.size)for(const n of e)setTimeout(()=>{n(t)},0)}},e);u={observer:s,observe(e,t){let n=o.get(e);n||(n=new Set,o.set(e,n),s.observe(e)),n.add(t)},unobserve(e,u){const c=o.get(e);c&&(c.delete(u),0===c.size&&(o.delete(e),s.unobserve(e),0===o.size&&(s.disconnect(),n.delete(r),0===n.size&&Ce.delete(t))))}},n.set(r,u)}return u};function Ve(e,{threshold:t=Te,root:n,rootMargin:u=Ae}={}){const[o,s]=(0,r.useState)();return(0,r.useEffect)(()=>{const r=e&&"current"in e?e.current:e;if(!r)return;let o=!0;const c=Oe({root:n&&"current"in n?n.current:n,rootMargin:u,threshold:t}),i=e=>{o&&s(e)};return c.observe(r,i),()=>{o=!1,c.unobserve(r,i)}},[e,n,u,...t]),o}let _e;function Le(e,t,n=!0){const o=n&&function(){if(!i)return;if(_e)return _e;const e=new Map,t=new ResizeObserver(t=>{for(const n of t){const t=e.get(n.target);if(void 0!==t&&0!==t.size)for(const e of t)setTimeout(()=>{e(n)},0)}});return _e={observer:t,subscribe(n,r){let u=e.get(n);u||(u=new Set,e.set(n,u),t.observe(n)),u.add(r)},unsubscribe(n,r){const u=e.get(n);u&&(u.delete(r),0===u.size&&(e.delete(n),t.unobserve(n)))}},_e}(),s=u(t),c=e&&"current"in e?e.current:e;(0,r.useEffect)(()=>{const t=e&&"current"in e?e.current:e;if(!o||!t)return;let n=!0;const r=(...e)=>{n&&s.current(...e)};return o.subscribe(t,r),()=>{n=!1,o.unsubscribe(t,r)}},[c,o])}function je(e=!0){const[t,n]=(0,r.useState)(null),u=ve(null,e=>(n(e),e)),[o,s]=(0,r.useState)(),[c]=d(e=>{s({width:e.contentRect.width,height:e.contentRect.height})});return Le(t,c,e),[o,u]}const Ie=new Map,Be=e=>{const t=matchMedia(e),n=new Set,r=()=>{for(const e of n)e(t.matches)};return t.addEventListener("change",r,{passive:!0}),{mql:t,dispatchers:n,listener:r}},De=(e,t)=>{let n=Ie.get(e);n||(n=Be(e),Ie.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)},xe=(e,t)=>{const n=Ie.get(e);if(n){const{mql:r,dispatchers:u,listener:o}=n;u.delete(t),0===u.size&&(Ie.delete(e),r.removeEventListener?r.removeEventListener("change",o):r.removeListener(o))}};function We(e,t={}){let{initializeWithValue:n=!0}=t;i||(n=!1);const[u,o]=(0,r.useState)(()=>{if(n){let t=Ie.get(e);return t||(t=Be(e),Ie.set(e,t)),t.mql.matches}});return(0,r.useEffect)(()=>(De(e,o),()=>{xe(e,o)}),[e]),u}function $e(e,...t){const n=A(),o=u(t[1]),s=(0,r.useMemo)(()=>function(...e){n()&&("function"==typeof o.current?o.current.apply(this,e):"function"==typeof o.current.handleEvent&&o.current.handleEvent.apply(this,e))},[]);(0,r.useEffect)(()=>{const n=function(e){return null!==e&&"object"==typeof e&&m(e,"current")}(e)?e.current:e;if(!n)return;const r=t.slice(2);return g(n,t[0],s,...r),()=>{p(n,t[0],s,...r)}},[e,t[0]])}const qe=e=>"function"==typeof e?e:"string"==typeof e?t=>t.key===e:e?b:y,Pe=i?globalThis:null;function Ne(e,t,n=[],o={}){const{event:s="keydown",target:c=Pe,eventOptions:i}=o,a=u(t);$e(c,s,(0,r.useMemo)(()=>{const t=qe(e);return function(e){t(e)&&a.current.call(this,e)}},n),i)}const Fe=()=>"visible"===document.visibilityState;function Ue(e=!0){const[t,n]=(0,r.useState)(i&&e?Fe():void 0);return O(()=>{e||n(Fe())}),$e(i?document:null,"visibilitychange",()=>{n(Fe())}),t}function He(e){const t=We("(orientation: portrait)",{initializeWithValue:e?.initializeWithValue??!0});return void 0===t?void 0:t?"portrait":"landscape"}const Je=["mousedown","touchstart"];function Qe(e,t,n=Je){const o=u(t),s=u(e);(0,r.useEffect)(()=>{function e(e){if(!s.current.current)return;const{target:t}=e,n=o.current;(!t||Boolean(t)&&!s.current.current.contains(t))&&n.call(this,e)}for(const t of n)g(document,t,e,{passive:!0});return()=>{for(const t of n)p(document,t,e,{passive:!0})}},[...n])}const Ge=new Set,Ke=()=>{for(const e of Ge)e({width:window.innerWidth,height:window.innerHeight})};function Xe(e=ee,t){const n=T(),[u,o]=e({width:n&&i&&!t?window.innerWidth:0,height:n&&i&&!t?window.innerHeight:0});return O(()=>{t&&o({width:window.innerWidth,height:window.innerHeight})}),(0,r.useEffect)(()=>(0===Ge.size&&window.addEventListener("resize",Ke,{passive:!0}),Ge.add(o),()=>{Ge.delete(o),0===Ge.size&&window.removeEventListener("resize",Ke)}),[o]),u}}}]);