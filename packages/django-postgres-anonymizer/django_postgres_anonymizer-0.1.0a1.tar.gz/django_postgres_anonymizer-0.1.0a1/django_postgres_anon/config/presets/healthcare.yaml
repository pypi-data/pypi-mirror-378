# Healthcare/Medical Data Anonymization Rules
# Suitable for HIPAA-compliant medical applications

# Patient Information
- table: patients
  column: ssn
  function: anon.fake_ssn()
  enabled: true
  notes: "Patient Social Security Number"
  depends_on_unique: true

- table: patients
  column: medical_record_number
  function: anon.random_string(10)
  enabled: true
  notes: "Medical Record Number (MRN)"
  depends_on_unique: true

- table: patients
  column: first_name
  function: anon.fake_first_name()
  enabled: true

- table: patients
  column: last_name
  function: anon.fake_last_name()
  enabled: true

- table: patients
  column: email
  function: anon.fake_email()
  enabled: true

- table: patients
  column: phone
  function: anon.fake_phone()
  enabled: true

- table: patients
  column: date_of_birth
  function: anon.random_date_between('1930-01-01', '2020-12-31')
  enabled: true

- table: patients
  column: address
  function: anon.fake_address()
  enabled: true

- table: patients
  column: city
  function: anon.fake_city()
  enabled: true

- table: patients
  column: state
  function: anon.fake_state()
  enabled: true

- table: patients
  column: zip_code
  function: anon.fake_zipcode()
  enabled: true

# Insurance Information
- table: insurance
  column: policy_number
  function: anon.random_string(12)
  enabled: true
  depends_on_unique: true

- table: insurance
  column: group_number
  function: anon.random_string(8)
  enabled: true

- table: insurance
  column: subscriber_id
  function: anon.random_string(10)
  enabled: true
  depends_on_unique: true

# Medical Records
- table: medical_records
  column: diagnosis_code
  function: anon.fake_icd10_code()
  enabled: false
  notes: "Disabled - may need to preserve for research"

- table: medical_records
  column: notes
  function: anon.lorem_ipsum()
  enabled: true
  notes: "Replace sensitive notes with lorem ipsum"

- table: medical_records
  column: chief_complaint
  function: anon.lorem_ipsum()
  enabled: true

# Prescriptions
- table: prescriptions
  column: prescription_number
  function: anon.random_string(10)
  enabled: true
  depends_on_unique: true

- table: prescriptions
  column: pharmacy_notes
  function: anon.lorem_ipsum()
  enabled: true

# Lab Results
- table: lab_results
  column: result_value
  function: anon.noise({col}, 0.05)
  enabled: false
  notes: "Adds 5% noise to numeric lab values - review clinical impact"
  performance_heavy: true

- table: lab_results
  column: reference_range
  function: anon.partial({col}, 2, '***', 2)
  enabled: false
  notes: "Partially mask reference ranges"

# Appointments
- table: appointments
  column: appointment_notes
  function: anon.lorem_ipsum()
  enabled: true

- table: appointments
  column: reason_for_visit
  function: anon.lorem_ipsum()
  enabled: true

# Provider Information (if needed)
- table: providers
  column: npi_number
  function: anon.fake_npi_number()
  enabled: true
  notes: "National Provider Identifier"
  depends_on_unique: true

- table: providers
  column: dea_number
  function: anon.fake_dea_number()
  enabled: true
  notes: "DEA registration number"
  depends_on_unique: true

- table: providers
  column: license_number
  function: anon.random_string(8)
  enabled: true
  depends_on_unique: true

# Billing Information
- table: billing
  column: patient_account_number
  function: anon.random_string(12)
  enabled: true
  depends_on_unique: true

- table: billing
  column: billing_address
  function: anon.fake_address()
  enabled: true

- table: billing
  column: guarantor_ssn
  function: anon.fake_ssn()
  enabled: true
  depends_on_unique: true

# Emergency Contacts
- table: emergency_contacts
  column: contact_name
  function: anon.fake_name()
  enabled: true

- table: emergency_contacts
  column: contact_phone
  function: anon.fake_phone()
  enabled: true

- table: emergency_contacts
  column: relationship
  function: anon.fake_relationship()
  enabled: false
  notes: "May want to preserve relationships for research"
