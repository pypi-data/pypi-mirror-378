{% set unique_id = h.generate_unique_element_id() %}

<table
    class="{{ table_classes }} {% if nested %}table-sm table-inner{% endif %}"
    {% if not nested and toggle_more %}data-module="table-toggle-more"{% endif %}>
    <thead>
        <tr>
            <th>{{ _("Field") }}</th>
            <th {% if nested and collapse_inner_table %}class="position-relative"{% endif %}>
                {{ _("Value") }}

                {% if nested and collapse_inner_table %}
                    <button class="btn btn-sm position-absolute end-0" data-bs-toggle="collapse" data-bs-target="{{ '#' + unique_id }}">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                {% endif %}
            </th>
        </tr>
    </thead>
    <tbody {% if nested and collapse_inner_table %}class="collapse" id="{{ unique_id }}"{% endif %}>
        {% for key, value in data.items() %}
            <tr {% if loop.index > toggle_more_threshold and not nested and toggle_more %} class="toggle-more" {% endif %}>
                <td><b>{{ key | capitalize }}</b></td>
                <td>
                    {% snippet 'resource_docs/view/render.html',
                        data=value,
                        view_type=h.detect_view_type(value),
                        nested=1,
                        toggle_more=toggle_more,
                        table_classes=table_classes,
                        toggle_more_threshold=toggle_more_threshold,
                        collapse_inner_table=collapse_inner_table
                    %}
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
