[build-system]
requires = ["setuptools", "wheel", "pybind11"]
build-backend = "setuptools.build_meta"

[tool.hatch.envs.hatch-test]
installer = "uv"
skip_install = true  # Manual installation in `pre-install-commands`
pre-install-commands = [
    "{env:HATCH_UV} pip install -e . --resolution={env:PKG_DEPS_RESOLUTION}",
    "{env:HATCH_UV} pip install pytest",
]

[[tool.hatch.envs.hatch-test.matrix]]
python = ["3.8", "3.10", "3.13"]
pkg_deps_resolution = ["highest"]

[tool.hatch.envs.hatch-test.overrides]
matrix.pkg_deps_resolution.env-vars = "PKG_DEPS_RESOLUTION"
