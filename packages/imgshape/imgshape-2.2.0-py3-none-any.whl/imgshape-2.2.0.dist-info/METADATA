Metadata-Version: 2.4
Name: imgshape
Version: 2.2.0
Summary: imgshape â€” robust image shape detection, dataset analysis, preprocessing & augmentation recommendations, visualization, compatibility reports, and PyTorch loader helpers
Home-page: https://github.com/STiFLeR7/imgshape
Author: Stifler
Author-email: Stifler <stiflerxd.ai@cudabit.live>
License: MIT
Project-URL: Homepage, https://github.com/STiFLeR7/imgshape
Project-URL: Source, https://github.com/STiFLeR7/imgshape
Project-URL: Issues, https://github.com/STiFLeR7/imgshape/issues
Project-URL: Documentation, https://stifler7.github.io/imgshape/
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: Pillow>=9.0.0
Requires-Dist: numpy>=1.21.0
Requires-Dist: matplotlib>=3.4.0
Requires-Dist: scikit-image>=0.19.0
Requires-Dist: gradio>=3.50.0
Provides-Extra: torch
Requires-Dist: torch>=1.12.0; (platform_system != "Windows" or python_version >= "3.8") and extra == "torch"
Requires-Dist: torchvision>=0.13.0; extra == "torch"
Provides-Extra: pdf
Requires-Dist: weasyprint>=53.0; extra == "pdf"
Provides-Extra: viz
Requires-Dist: seaborn>=0.11.0; extra == "viz"
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: black>=23.0; extra == "dev"
Requires-Dist: flake8>=3.9; extra == "dev"
Requires-Dist: pre-commit>=2.20; extra == "dev"
Requires-Dist: mypy>=1.0; extra == "dev"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

ï»¿# ğŸ–¼ï¸ imgshape â€” Smart Image Analysis & Preprocessing Toolkit (v2.2.0)

`imgshape` is a Python toolkit for **image shape detection**, **dataset inspection**, **preprocessing & augmentation recommendations**, **visualization**, **report generation**, and **PyTorch DataLoader helpers** â€” making it a **smarter dataset assistant** for ML/DL workflows.

![imgshape demo](assets/sample_images/Image_created_with_a_mobile_phone.png)
[![PyPI Downloads](https://static.pepy.tech/personalized-badge/imgshape?period=total\&units=INTERNATIONAL_SYSTEM\&left_color=BLACK\&right_color=GREEN\&left_text=downloads)](https://pepy.tech/projects/imgshape)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

## âš¡ï¸ Why use `imgshape`?

* ğŸ“ Detect **image shapes** (H Ã— W Ã— C) for single files or whole datasets.
* ğŸ” Compute **entropy**, **edge density**, **dominant color**, and guess image type.
* ğŸ§  Get **preprocessing recommendations** (resize, normalization, suitable model family).
* ğŸ”„ **Augmentation recommender**: suggest flips, crops, color jitter, etc., based on dataset stats.
* ğŸ“Š **Visualizations**: size histograms, dimension scatter plots, channel distribution.
* âœ… **Model compatibility checks**: verify dataset readiness for models like `mobilenet_v2`, `resnet18`, etc.
* ğŸ“ **Dataset reports**: export Markdown/HTML/PDF with stats, plots, preprocessing, and augmentation plans.
* ğŸ”— **Torch integration**: generate ready-to-use `torchvision.transforms` or even a `DataLoader`.
* ğŸŒ **Interactive GUI modes**:

  * **Streamlit app** (`app.py`) â†’ modern multi-tab UI
  * **Gradio app** (`--web`) â†’ quick prototyping

---

## ğŸš€ Installation

```bash
pip install imgshape
```

> Requires Python 3.8+
> Core deps: `Pillow`, `numpy`, `matplotlib`, `scikit-image`, `streamlit`
> Optional extras:
>
> * `imgshape[torch]` â†’ PyTorch / torchvision support
> * `imgshape[pdf]` â†’ PDF report generation (`weasyprint`)
> * `imgshape[viz]` â†’ prettier plots (`seaborn`)

---

## ğŸ’» CLI Usage

```bash
# Shape detection
imgshape --path ./sample.jpg --shape

# Single image analysis
imgshape --path ./sample.jpg --analyze

# Preprocessing + augmentations
imgshape --path ./sample.jpg --recommend --augment

# Dataset compatibility check
imgshape --dir ./images --check mobilenet_v2

# Dataset visualization
imgshape --viz ./images

# Dataset report (md + html)
imgshape --path ./images --report --augment --report-format md,html --out report

# Torch integration (transform/DataLoader)
imgshape --path ./images --torchloader --augment --out transform_snippet.py

# Launch Streamlit app
streamlit run app.py

# Launch Gradio GUI
imgshape --web
```

---

## ğŸ“¦ Python API

```python
from imgshape.shape import get_shape
from imgshape.analyze import analyze_type
from imgshape.recommender import recommend_preprocessing
from imgshape.augmentations import AugmentationRecommender

print(get_shape("sample.jpg"))
print(analyze_type("sample.jpg"))
print(recommend_preprocessing("sample.jpg"))

# Augmentation plan
ar = AugmentationRecommender(seed=42)
plan = ar.recommend_for_dataset({"entropy_mean": 6.2, "image_count": 100})
print(plan.recommended_order)
```

---

## ğŸ“ New in v2.2.0

* ğŸŒ **Streamlit App** (`app.py`) with **5 interactive tabs**:

  * **Shape** â†’ instant image shape detection
  * **Analyze** â†’ entropy, channels, and dataset visualization
  * **Recommend** â†’ preprocessing + heuristic augmentation plan
  * **Report** â†’ export dataset reports in Markdown/HTML
  * **TorchLoader** â†’ export `torchvision.transforms` pipelines or snippets
* ğŸ”— **TorchLoader**:

  * Safe wrapper for Compose/snippet/no-op callable depending on availability.
  * Backward compatibility with old `(plan, preprocessing)` test calls.
* ğŸ§  **AugmentationRecommender**:

  * Deterministic heuristic plans with `.as_dict()` export.
  * Handles entropy, resolution, and imbalance.
* âœ… **Compatibility Fixes**:

  * `check_compatibility()` outputs structured results.
  * Deprecated alias `check_model_compatibility()` preserved.
* ğŸ“ **Report Generators**:

  * Markdown + HTML outputs improved.
* âš¡ï¸ **Test Suite**:

  * Fixed pytest failures in `compatibility`, `report`, and `torchloader`.
* ğŸ¨ **UI Polishing**:

  * Defensive wrappers for `analyze_type`, `recommend_preprocessing`, TorchLoader.
  * Footer links to **Instagram, GitHub, HuggingFace, Kaggle, Medium**.

---

## ğŸ“ Resources

* [Source Code](https://github.com/STiFLeR7/imgshape)
* [Issues](https://github.com/STiFLeR7/imgshape/issues)
* License: MIT
