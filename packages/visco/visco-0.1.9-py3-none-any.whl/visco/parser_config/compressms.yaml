
inputs:
  ms:
    info: The Measurement Set file path.
    dtype: str
    default: null
    required: True
    abbreviation: ms


  zarrstore:
    info: The path to the output Zarr store.
    dtype: str
    default: null
    required: True
    abbreviation: zs
  
  consolidated:
    info: Whether to write consolidated metadata for faster loading. Default is True.
    dtype: bool
    default: True
    abbreviation: consol

  chunk_size_row:
    info: Chunk size for the 'row' dimension in the main table and large subtables. Default is 10000.
    dtype: int
    default: 10000
    abbreviation: csr

  overwrite:
    info: Whether to overwrite existing Zarr store. Default is True.
    dtype: bool
    default: True
    abbreviation: ow

  compressor:
    info: Compression algorithm to use ('zstd', 'gzip', 'blosc') on the zarr store. Default is 'zstd'.
    dtype: str
    default: zstd

  level:
    info: Compression level (1-9). Default is 4. Higher level means better compression ratio, but slower compression.
    dtype: int
    default: 4
    abbreviation: l

  nworkers:
    info: Number of Dask workers to use. Default is 4.
    dtype: int
    default: 4
    abbreviation: nw
  
  nthreads:
    info: Number of threads per Dask worker. Default is 2.
    dtype: int
    default: 2
    abbreviation: nt
  
  memory_limit:
    info: Memory limit per Dask worker (e.g., '4GB'). Default is '4GB'.
    dtype: str
    default: 4GB
    abbreviation: ml
  
  direct_to_workers:
    info: Whether to use direct-to-worker communication in Dask. This can improve performance for certain workloads. Default is True.
    dtype: bool
    default: True
    abbreviation: dtw
  
  silence_logs:
    info: Whether to silence Dask worker logs. Default is True.
    dtype: bool
    default: True
    abbreviation: sl
  
  dashboard_address:
    info: Address for the Dask dashboard (e.g., ':8787'). Default is None (no dashboard).
    dtype: str
    default: null
    abbreviation: da

  correlation:
    info: Correlation types to compress (e.g., 'XX,YY'). Default is 'XX,YY'.
    dtype: str
    default: XX,YY
    abbreviation: corr

  correlation_optimized:
    info: Whether to optimize the SVD compression by compressing XX and YY together, XY and YX together, reducing the computational time.
    dtype: bool
    default: False
    abbreviation: co
  
  fieldid:
    info: Field ID to compress. Default is 0.
    dtype: int
    default: 0
    abbreviation: fid

  ddid:
    info: Data description ID to compress. Default is 0.
    dtype: int
    default: 0

  scan:
    info: Scan number to filter by. Default is 1.
    dtype: int
    default: 1


  column:
    info: Column name for visibility data (e.g., 'DATA'). Default is 'DATA'.
    dtype: str
    default: DATA
    abbreviation: col

  outcolumn:
    info: Output column name for compressed data. Default is 'COMPRESSED_DATA'.
    dtype: str
    default: COMPRESSED_DATA
    abbreviation: oc

  use_model_data:
    info: Whether to use model data to estimate the visibility flagged data. This is the recommended method.
    dtype: bool
    default: null
    abbreviation: umd

  model_data:
    info: The column which contains the model data to use to estimate the flagged values.
    dtype: str
    default: null
    abbreviation: md
  
  flagestimate:
    info: Whether to estimate the visibility flagged data using gridding. This will significantly increase computational time.
    dtype: bool
    default: null
    abbreviation: fest

  flagvalue:
    info: The value with which to replace all the visibility flagged data. This method is not recommended, as it will lead to noise amplification, making the SVD compression ineffiencit or rendering it futile. 
    dtype: float
    default: null
    abbreviation: fv
  
  decorrelation:
    info: Desired minimum signal preserved for each baseline(0 to 1). e.g. if you specify decorrelation to be 0.98, then at least 98% of the original signal will be preserved on each baseline during the compression.
    dtype: float
    default: null
    abbreviation: dec
  
  compressionrank:
    info: Number of singular values to keep across all the baselines.
    dtype: int
    default: null
    abbreviation: cr
  antennas:
    info: List of antenna indices to compress. If None, all baselines are used.
    dtype: list
    default: null

outputs:
  {}
