[build-system]
requires = ["setuptools", "wheel", "cython"]
build-backend = "setuptools.build_meta"

[project]
name = "as3lib-miniAMF"
version = "3"
authors = [{name = "ajdelguidice", email = "ajdelguidice@gmail.com"}]
description = "A fork of Mini-AMF using up to date dependencies."
readme = {file = "README.md", content-type = "text/markdown"}
license = "MIT"
license-files = ["LICENSE.txt"]
keywords = ["amf", "amf0", "amf3", "actionscript", "air", "flash", "flashplayer", "bytearray", "recordset", "decoder", "encoder", "sharedobject", "lso", "sol"]
classifiers = [
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3.10",
    "Topic :: Utilities"
]
requires-python = ">=3.10"
dependencies = [
    "defusedxml"
]

[project.urls]
Homepage = "https://github.com/ajdelguidice/as3lib-miniAMF"

[pyproject.optional-dependencies]
docs = ["sphinx >= 1.5"]
django = ["Django"]
sqlachemy = ["SQLAlchemy"]
twisted = ["Twisted"]


[tool.setuptools]
packages=["miniamf", "miniamf._accel", "miniamf.adapters", "miniamf.util", "miniamf.flex", "miniamf.remoting", "miniamf.remoting.client", "miniamf.remoting.gateway"]

[tool.tox]
requires = ["tox"]
env_list = ["py3","py312","py311","py310"]
skip_missing_interpreters = true

[tool.tox.env_run_base]
runner = "uv-venv-runner"
deps = ["flake8","defusedxml","Django","SQLAlchemy","Twisted"]
commands = [["python","-m","unittest","discover","miniamf/tests"]]

[tool.tox.env.py3]
commands = [["-","flake8"],["python","-m","unittest","discover","miniamf/tests"]]
