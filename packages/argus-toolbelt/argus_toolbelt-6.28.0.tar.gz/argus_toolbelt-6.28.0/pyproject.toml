[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"

[tool.poetry]
name = "argus-toolbelt"
version = "6.28.0"
description = "A framework for creating interactive commands with Argus' APIs"
readme = "README_PYPI.md"
homepage = "https://mnemonic.io"
documentation = "https://argus-toolbelt.docs.mnemonic.no"
authors = ["mnemonic <opensource@mnemonic.no>"]
license = "ISC"

packages = [
    { include = "argus_cli", from = "src" },
    { include = "argus_plugins", from = "src" },
]

include = ["src/argus_cli/resources/*"]

[tool.poetry.scripts]
argus-cli = "argus_plugins.__main__:main"

[tool.poetry.dependencies]
python = "^3.6.2"
argus-api = ">=2.7.3,<4.0.0"
pyyaml = ">=5.4.1,<7.0.0"
jinja2 = ">=2.11.3,<4.0.0"
requests = "^2.25"
colorlog = "^4.7"
terminaltables = "^3.1"
colorama = "^0.4.3"
pydantic = "^1.9.2" # 1.10 and up require python 3.7
importlib_metadata = { version = ">3.5", python = "<3.10" }
tqdm = "^4.56.0"
pyyaml-include = {version = "^1.2", optional = true }
dateparser = "*"

[tool.poetry.extras]
includes = ["pyyaml-include"]

[tool.poetry.group.dev.dependencies]
pytest = "^6.2.5"
attrs = "^22.2.0"
requests-mock = "^1.7"
black = "^22.1.0"
sphinx = "^4.5.0"
sphinxcontrib-confluencebuilder = "^1.4.0"
sphinx-rtd-theme = "^1.0.0"
sphinx-tabs = "^3.3.1"
responses = "0.17.0"
freezegun = "^1.2.2"

[[tool.poetry.source]]
name = "Artifactory"
url = "https://artifactory.mnemonic.no/artifactory/api/pypi/virt-pypi/simple/"
priority = "primary"
