import{W as J,X as z,Y as ue,ay as ke,r as H,bX as G,a8 as L,a0 as ee,bY as ce,a4 as F,z as v,an as pe,bZ as xe,b_ as ge,aO as re,bk as ye,b$ as Te,bD as Ve,O as $,aX as be,bC as Ie,bq as M,bu as de,j as B,c0 as Ce,c1 as we,bv as ae,bI as Ae,b7 as De,ax as Re,c2 as Ee,o as Be,c3 as Fe,aB as Z,bh as Le,aH as Oe,c4 as Me,c5 as _e,a9 as ve,c6 as He,a5 as Ue,c7 as qe,c8 as fe,c9 as Ne,bi as ze,aI as Ke,L as me,M as $e,N as je,Q as he,a3 as We,ah as Xe,ca as Ye,T as Qe,B as Ze}from"./Drw0dDXY.js";const Ge=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...xe({origin:"center center",scrollStrategy:"block",transition:{component:ge},zIndex:2400})},"VDialog"),vt=J()({name:"VDialog",props:Ge(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,f){let{emit:n,slots:i}=f;const o=ue(e,"modelValue"),{scopeId:m}=ke(),d=H();function u(p){var g,b;const x=p.relatedTarget,r=p.target;if(x!==r&&((g=d.value)!=null&&g.contentEl)&&((b=d.value)!=null&&b.globalTop)&&![document,d.value.contentEl].includes(r)&&!d.value.contentEl.contains(r)){const y=Te(d.value.contentEl);if(!y.length)return;const c=y[0],T=y[y.length-1];x===c?T.focus():c.focus()}}G&&L(()=>o.value&&e.retainFocus,p=>{p?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0});function a(){var p;(p=d.value)!=null&&p.contentEl&&!d.value.contentEl.contains(document.activeElement)&&d.value.contentEl.focus({preventScroll:!0})}function S(){n("afterLeave")}return L(o,async p=>{var x;p||(await re(),(x=d.value.activatorEl)==null||x.focus({preventScroll:!0}))}),ee(()=>{const p=ce.filterProps(e),x=F({"aria-haspopup":"dialog","aria-expanded":String(o.value)},e.activatorProps),r=F({tabindex:-1},e.contentProps);return v(ce,F({ref:d,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},p,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,"aria-modal":"true",activatorProps:x,contentProps:r,role:"dialog",onAfterEnter:a,onAfterLeave:S},m),{activator:i.activator,default:function(){for(var g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return v(ye,{root:"VDialog"},{default:()=>{var c;return[(c=i.default)==null?void 0:c.call(i,...b)]}})}})}),pe({},d)}}),Je=z({renderless:Boolean,...be()},"VVirtualScrollItem"),et=J()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Je(),emits:{"update:height":e=>!0},setup(e,f){let{attrs:n,emit:i,slots:o}=f;const{resizeRef:m,contentRect:d}=Ve(void 0,"border");L(()=>{var u;return(u=d.value)==null?void 0:u.height},u=>{u!=null&&i("update:height",u)}),ee(()=>{var u,a;return e.renderless?v($,null,[(u=o.default)==null?void 0:u.call(o,{itemRef:m})]):v("div",F({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(a=o.default)==null?void 0:a.call(o)])})}}),tt=-1,lt=1,oe=100,nt=z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function at(e,f){const n=Ie(),i=M(0);de(()=>{i.value=parseFloat(e.itemHeight||0)});const o=M(0),m=M(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),d=M(0),u=M(0),a=H(),S=H();let p=0;const{resizeRef:x,contentRect:r}=Ve();de(()=>{x.value=a.value});const g=B(()=>{var t;return a.value===document.documentElement?n.height.value:((t=r.value)==null?void 0:t.height)||parseInt(e.height)||0}),b=B(()=>!!(a.value&&S.value&&g.value&&i.value));let y=Array.from({length:f.value.length}),c=Array.from({length:f.value.length});const T=M(0);let R=-1;function j(t){return y[t]||i.value}const E=Ce(()=>{const t=performance.now();c[0]=0;const s=f.value.length;for(let P=1;P<=s-1;P++)c[P]=(c[P-1]||0)+j(P-1);T.value=Math.max(T.value,performance.now()-t)},T),W=L(b,t=>{t&&(W(),p=S.value.offsetTop,E.immediate(),O(),~R&&re(()=>{G&&window.requestAnimationFrame(()=>{Q(R),R=-1})}))});we(()=>{E.clear()});function te(t,s){const P=y[t],w=i.value;i.value=w?Math.min(i.value,s):s,(P!==s||w!==i.value)&&(y[t]=s,E())}function I(t){return t=ae(t,0,f.value.length-1),c[t]||0}function X(t){return ot(c,t)}let U=0,_=0,K=0;L(g,(t,s)=>{s&&(O(),t<s&&requestAnimationFrame(()=>{_=0,O()}))});function le(){if(!a.value||!S.value)return;const t=a.value.scrollTop,s=performance.now();s-K>500?(_=Math.sign(t-U),p=S.value.offsetTop):_=t-U,U=t,K=s,O()}function q(){!a.value||!S.value||(_=0,K=0,O())}let Y=-1;function O(){cancelAnimationFrame(Y),Y=requestAnimationFrame(ne)}function ne(){if(!a.value||!g.value)return;const t=U-p,s=Math.sign(_),P=Math.max(0,t-oe),w=ae(X(P),0,f.value.length),h=t+g.value+oe,k=ae(X(h)+1,w+1,f.value.length);if((s!==tt||w<o.value)&&(s!==lt||k>m.value)){const V=I(o.value)-I(w),C=I(k)-I(m.value);Math.max(V,C)>oe?(o.value=w,m.value=k):(w<=0&&(o.value=w),k>=f.value.length&&(m.value=k))}d.value=I(o.value),u.value=I(f.value.length)-I(m.value)}function Q(t){const s=I(t);!a.value||t&&!s?R=t:a.value.scrollTop=s}const l=B(()=>f.value.slice(o.value,m.value).map((t,s)=>({raw:t,index:s+o.value})));return L(f,()=>{y=Array.from({length:f.value.length}),c=Array.from({length:f.value.length}),E.immediate(),O()},{deep:!0}),{containerRef:a,markerRef:S,computedItems:l,paddingTop:d,paddingBottom:u,scrollToIndex:Q,handleScroll:le,handleScrollend:q,handleItemResize:te}}function ot(e,f){let n=e.length-1,i=0,o=0,m=null,d=-1;if(e[n]<f)return n;for(;i<=n;)if(o=i+n>>1,m=e[o],m>f)n=o-1;else if(m<f)d=o,i=o+1;else return m===f?o:i;return d}const ut=z({items:{type:Array,default:()=>[]},renderless:Boolean,...nt(),...be(),...Le()},"VVirtualScroll"),rt=J()({name:"VVirtualScroll",props:ut(),setup(e,f){let{slots:n}=f;const i=Ae("VVirtualScroll"),{dimensionStyles:o}=De(e),{containerRef:m,markerRef:d,handleScroll:u,handleScrollend:a,handleItemResize:S,scrollToIndex:p,paddingTop:x,paddingBottom:r,computedItems:g}=at(e,Re(e,"items"));return Ee(()=>e.renderless,()=>{function b(){var T,R;const c=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";m.value===document.documentElement?(document[c]("scroll",u,{passive:!0}),document[c]("scrollend",a)):((T=m.value)==null||T[c]("scroll",u,{passive:!0}),(R=m.value)==null||R[c]("scrollend",a))}Be(()=>{m.value=Fe(i.vnode.el,!0),b(!0)}),we(b)}),ee(()=>{const b=g.value.map(y=>v(et,{key:y.index,renderless:e.renderless,"onUpdate:height":c=>S(y.index,c)},{default:c=>{var T;return(T=n.default)==null?void 0:T.call(n,{item:y.raw,index:y.index,...c})}}));return e.renderless?v($,null,[v("div",{ref:d,class:"v-virtual-scroll__spacer",style:{paddingTop:Z(x.value)}},null),b,v("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Z(r.value)}},null)]):v("div",{ref:m,class:["v-virtual-scroll",e.class],onScrollPassive:u,onScrollend:a,style:[o.value,e.style]},[v("div",{ref:d,class:"v-virtual-scroll__container",style:{paddingTop:Z(x.value),paddingBottom:Z(r.value)}},[b])])}),{scrollToIndex:p}}});function st(e,f){const n=M(!1);let i;function o(u){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function m(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(n.value){const a=L(n,()=>{a(),u()})}else u()})}async function d(u){var p,x;if(u.key==="Tab"&&((p=f.value)==null||p.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const a=(x=e.value)==null?void 0:x.$el;if(!a)return;(u.key==="Home"||u.key==="End")&&a.scrollTo({top:u.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await m();const S=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const r=a.getBoundingClientRect().top;for(const g of S)if(g.getBoundingClientRect().top>=r){g.focus();break}}else{const r=a.getBoundingClientRect().bottom;for(const g of[...S].reverse())if(g.getBoundingClientRect().bottom<=r){g.focus();break}}}return{onListScroll:o,onListKeydown:d}}const it=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Ne({itemChildren:!1})},"Select"),ct=z({...it(),...Ue(qe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...He({transition:{component:ge}})},"VSelect"),ft=J()({name:"VSelect",props:ct(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:n}=f;const{t:i}=Oe(),o=H(),m=H(),d=H(),u=ue(e,"menu"),a=B({get:()=>u.value,set:l=>{var t;u.value&&!l&&((t=m.value)!=null&&t.Î¨openChildren)||(u.value=l)}}),{items:S,transformIn:p,transformOut:x}=Me(e),r=ue(e,"modelValue",[],l=>p(l===null?[null]:Ke(l)),l=>{const t=x(l);return e.multiple?t:t[0]??null}),g=B(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:r.value.length),b=_e(),y=B(()=>r.value.map(l=>l.value)),c=M(!1),T=B(()=>a.value?e.closeText:e.openText);let R="",j;const E=B(()=>e.hideSelected?S.value.filter(l=>!r.value.some(t=>e.valueComparator(t,l))):S.value),W=B(()=>e.hideNoData&&!E.value.length||e.readonly||(b==null?void 0:b.isReadonly.value)),te=B(()=>{var l;return{...e.menuProps,activatorProps:{...((l=e.menuProps)==null?void 0:l.activatorProps)||{},"aria-haspopup":"listbox"}}}),I=H(),{onListScroll:X,onListKeydown:U}=st(I,o);function _(l){e.openOnClear&&(a.value=!0)}function K(){W.value||(a.value=!a.value)}function le(l){var h,k;if(!l.key||e.readonly||b!=null&&b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(a.value=!0),["Escape","Tab"].includes(l.key)&&(a.value=!1),l.key==="Home"?(h=I.value)==null||h.focus("first"):l.key==="End"&&((k=I.value)==null||k.focus("last"));const t=1e3;function s(V){const C=V.key.length===1,A=!V.ctrlKey&&!V.metaKey&&!V.altKey;return C&&A}if(e.multiple||!s(l))return;const P=performance.now();P-j>t&&(R=""),R+=l.key.toLowerCase(),j=P;const w=S.value.find(V=>V.title.toLowerCase().startsWith(R));if(w!==void 0){r.value=[w];const V=E.value.indexOf(w);G&&window.requestAnimationFrame(()=>{var C;V>=0&&((C=d.value)==null||C.scrollToIndex(V))})}}function q(l){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const s=r.value.findIndex(w=>e.valueComparator(w.value,l.value)),P=t??!~s;if(~s){const w=P?[...r.value,l]:[...r.value];w.splice(s,1),r.value=w}else P&&(r.value=[...r.value,l])}else{const s=t!==!1;r.value=s?[l]:[],re(()=>{a.value=!1})}}function Y(l){var t;(t=I.value)!=null&&t.$el.contains(l.relatedTarget)||(a.value=!1)}function O(){var l;c.value&&((l=o.value)==null||l.focus())}function ne(l){c.value=!0}function Q(l){if(l==null)r.value=[];else if(fe(o.value,":autofill")||fe(o.value,":-webkit-autofill")){const t=S.value.find(s=>s.title===l);t&&q(t)}else o.value&&(o.value.value="")}return L(a,()=>{if(!e.hideSelected&&a.value&&r.value.length){const l=E.value.findIndex(t=>r.value.some(s=>e.valueComparator(s.value,t.value)));G&&window.requestAnimationFrame(()=>{var t;l>=0&&((t=d.value)==null||t.scrollToIndex(l))})}}),L(()=>e.items,(l,t)=>{a.value||c.value&&!t.length&&l.length&&(a.value=!0)}),ee(()=>{const l=!!(e.chips||n.chip),t=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),s=r.value.length>0,P=ve.filterProps(e),w=s||!c.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return v(ve,F({ref:o},P,{modelValue:r.value.map(h=>h.props.value).join(", "),"onUpdate:modelValue":Q,focused:c.value,"onUpdate:focused":h=>c.value=h,validationValue:r.externalValue,counterValue:g.value,dirty:s,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:w,"onClick:clear":_,"onMousedown:control":K,onBlur:Y,onKeydown:le,"aria-label":i(T.value),title:i(T.value)}),{...n,default:()=>v($,null,[v($e,F({ref:m,modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,activator:"parent",contentClass:"v-select__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:O},te.value),{default:()=>[t&&v(je,F({ref:I,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:h=>h.preventDefault(),onKeydown:U,onFocusin:ne,onScrollPassive:X,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var h,k,V;return[(h=n["prepend-item"])==null?void 0:h.call(n),!E.value.length&&!e.hideNoData&&(((k=n["no-data"])==null?void 0:k.call(n))??v(he,{title:i(e.noDataText)},null)),v(rt,{ref:d,renderless:!0,items:E.value},{default:C=>{var ie;let{item:A,index:N,itemRef:D}=C;const se=F(A.props,{ref:D,key:N,onClick:()=>q(A,null)});return((ie=n.item)==null?void 0:ie.call(n,{item:A,index:N,props:se}))??v(he,F(se,{role:"option"}),{prepend:Se=>{let{isSelected:Pe}=Se;return v($,null,[e.multiple&&!e.hideSelected?v(We,{key:A.value,modelValue:Pe,ripple:!1,tabindex:"-1"},null):void 0,A.props.prependAvatar&&v(Xe,{image:A.props.prependAvatar},null),A.props.prependIcon&&v(me,{icon:A.props.prependIcon},null)])}})}}),(V=n["append-item"])==null?void 0:V.call(n)]}})]}),r.value.map((h,k)=>{function V(D){D.stopPropagation(),D.preventDefault(),q(h,!1)}const C={"onClick:close":V,onKeydown(D){D.key!=="Enter"&&D.key!==" "||(D.preventDefault(),D.stopPropagation(),V(D))},onMousedown(D){D.preventDefault(),D.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},A=l?!!n.chip:!!n.selection,N=A?Ye(l?n.chip({item:h,index:k,props:C}):n.selection({item:h,index:k})):void 0;if(!(A&&!N))return v("div",{key:h.value,class:"v-select__selection"},[l?n.chip?v(ye,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:h.title}}},{default:()=>[N]}):v(Qe,F({key:"chip",closable:e.closableChips,size:"small",text:h.title,disabled:h.props.disabled},C),null):N??v("span",{class:"v-select__selection-text"},[h.title,e.multiple&&k<r.value.length-1&&v("span",{class:"v-select__selection-comma"},[Ze(",")])])])})]),"append-inner":function(){var C;for(var h=arguments.length,k=new Array(h),V=0;V<h;V++)k[V]=arguments[V];return v($,null,[(C=n["append-inner"])==null?void 0:C.call(n,...k),e.menuIcon?v(me,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),pe({isFocused:c,menu:a,select:q},o)}});export{ft as V,vt as a};
