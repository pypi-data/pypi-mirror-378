import{d as i,by as p,t as r,v as o,z as t,A as s,x as l,B as m,y as d,g as u}from"./Drw0dDXY.js";import{u as S}from"./DSKYwBdE.js";import{_ as f}from"./DepNdJqZ.js";import{_ as w}from"./DlAUqK2U.js";import{V,a as h}from"./BN2GUHPa.js";import{V as N,b,a as C}from"./Dl6276N_.js";const F=i({name:"ScannerSelect",components:{ScannerForm:f},props:{selectedScanner:{type:Object,default:null}},emits:["update:selectedScanner"],data(){return{scanner:this.selectedScanner,scanners:[],showNewScannerForm:!1}},computed:{...p(S)},watch:{selectedScanner(e){this.scanner=e},scanner(e){this.$emit("update:selectedScanner",e)}},mounted(){var e;this.scanners=((e=this.scannersStore)==null?void 0:e.scanners)||[]},methods:{getScannerDetails(e){const n=(e.name||"").trim()!=="";return{title:n?e.name:e.endpoint,subtitle:n?e.endpoint:""}}}}),y={key:0,class:"mb-0"},$={key:1,class:"mb-0"};function v(e,n,g,k,_,B){const c=u("ScannerForm");return o(),r("div",null,[t(V,{modelValue:e.scanner,"onUpdate:modelValue":n[1]||(n[1]=a=>e.scanner=a),items:e.scanners,"item-props":e.getScannerDetails,"hide-details":"",variant:"outlined","item-title":"endpoint",density:"compact",clearable:"","return-object":"",label:"Select a scanner",placeholder:"Select or create a scanner to run the scan on","prepend-icon":"mdi-shield-search"},{selection:s(({item:a})=>[(a.raw.name||"").trim()!==""?(o(),r("p",y,[m(d(a.raw.name)+" (",1),l("code",null,d(a.raw.endpoint),1),n[4]||(n[4]=m(") "))])):(o(),r("code",$,d(a.raw.endpoint),1))]),"no-data":s(()=>[l("p",{class:"create-scanner mb-0 pl-4 py-0",onClick:n[0]||(n[0]=a=>e.showNewScannerForm=!0)}," Create New Scanner ")]),_:1},8,["modelValue","items","item-props"]),t(h,{modelValue:e.showNewScannerForm,"onUpdate:modelValue":n[3]||(n[3]=a=>e.showNewScannerForm=a),persistent:"","max-width":"600px"},{default:s(()=>[t(N,null,{default:s(()=>[t(b,null,{default:s(()=>n[5]||(n[5]=[l("span",{class:"headline"},"Create New Scanner",-1)])),_:1}),t(C,null,{default:s(()=>[t(c,{onCloseForm:n[2]||(n[2]=a=>e.showNewScannerForm=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const A=w(F,[["render",v],["__scopeId","data-v-93550484"]]);export{A as S};
