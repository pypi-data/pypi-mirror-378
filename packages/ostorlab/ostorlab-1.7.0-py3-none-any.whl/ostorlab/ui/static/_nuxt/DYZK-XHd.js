import{_}from"./DepNdJqZ.js";import{u as x,V as b,D as v,b as V,a as h}from"./Dl6276N_.js";import{d as k,r as l,cb as S,u as w,o as C,t as B,z as t,U as o,A as s,v as u,B as g,J as d}from"./Drw0dDXY.js";import{V as K}from"./bFv45aNM.js";import"./DSKYwBdE.js";import"./DlAUqK2U.js";import"./CM2z5-Yq.js";const R=k({__name:"new",setup(N){const p=x(),c=l(!1),a=S(),i=w(),r=l({endpoint:"",apiKey:"",name:""});C(()=>{const n=a.query.endpoint,e=a.query.key,y=a.query.name||"Local scanner";n!=null&&e!==void 0&&e!==null?(r.value={endpoint:n.toString(),apiKey:e.toString(),name:y},c.value=!0):(p.reportError("Invalid scanner configuration."),i.push({path:"/scanners"}))});const m=[{text:"Scanners",disabled:!1,to:"/scanners",exact:!0},{text:"New",disabled:!0,to:"/scanners",exact:!0}];function f(){r.value={endpoint:"",apiKey:"",name:""},i.push({path:"/scanners"})}return(n,e)=>(u(),B("div",null,[t(o(v),{breadcrumbs:m,class:"mb-5"}),t(b,{variant:"outlined",class:"my-4"},{default:s(()=>[t(V,null,{default:s(()=>e[0]||(e[0]=[g(" Add a new scanner ")])),_:1}),t(h,null,{default:s(()=>[o(c)===!0?(u(),d(_,{key:0,scanner:o(r),onCloseForm:f},null,8,["scanner"])):(u(),d(K,{key:1,type:"heading@3, button@2",width:"400px"}))]),_:1})]),_:1})]))}});export{R as default};
