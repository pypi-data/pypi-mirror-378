#!/usr/bin/env python
# -*- coding: UTF-8 -*-
"""
{{project_name}} é¡¹ç›®è¿è¡Œè„šæœ¬
============================
åŸºäº Crawlo æ¡†æ¶çš„ç®€åŒ–çˆ¬è™«å¯åŠ¨å™¨ã€‚
"""
import sys
import asyncio

from crawlo.crawler import CrawlerProcess


def main():
    """ä¸»å‡½æ•°ï¼šè¿è¡Œå›ºå®šçš„çˆ¬è™«"""
    print("ğŸš€ å¯åŠ¨ {{project_name}} çˆ¬è™«")
    
    # åˆ›å»ºçˆ¬è™«è¿›ç¨‹ï¼ˆè‡ªåŠ¨åŠ è½½é»˜è®¤é…ç½®ï¼‰
    try:
        # ç¡®ä¿ spider æ¨¡å—è¢«æ­£ç¡®å¯¼å…¥
        spider_modules = ['{{project_name}}.spiders']
        process = CrawlerProcess(spider_modules=spider_modules)
        print("âœ… çˆ¬è™«è¿›ç¨‹åˆå§‹åŒ–æˆåŠŸ")
        
        # è¿è¡Œå›ºå®šçš„çˆ¬è™«
        # TODO: è¯·å°† 'your_spider_name' æ›¿æ¢ä¸ºå®é™…çš„çˆ¬è™«åç§°
        asyncio.run(process.crawl('your_spider_name'))
        
        print("âœ… çˆ¬è™«è¿è¡Œå®Œæˆ")
        
    except Exception as e:
        print(f"âŒ è¿è¡Œå¤±è´¥: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)


if __name__ == '__main__':
    main()