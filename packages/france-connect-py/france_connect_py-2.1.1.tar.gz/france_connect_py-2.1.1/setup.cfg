[tox:tox]
distshare = {homedir}/.tox/distshare
	envlist = py{39,310,311,312}
skipsdist = true
skip_missing_interpreters = true
indexserver = 
	pypi = https://pypi.python.org/simple

[testenv]
setenv = 
	PYTHONPATH = {toxinidir}
deps = 
	-rrequirements.txt
	-rrequirements_dev.txt
commands = 
	pytest  --cov --cov-report=xml
	coverage report -m
	coverage xml

[pycodestyle]
count = True
max-line-length = 120
max-doc-length = 100
exclude = venv, .tox
ignore = W503, W504, W605, E121, E123, E126, E203, E501

[pydocstyle]
convention = numpy
match_dir = france_connect
match = .*\.py
add_ignore = D100, D104, D105, D106

[tool:isort]
profile = black
line_length = 120
src_paths = france_connect,tests

[mypy]
ignore_missing_imports = True
no_implicit_optional = False
disable_error_code = var-annotated,assignment,attr-defined,arg-type,has-type,override
exclude = tests|conftest.py

[bandit]
targets = france_connect, tests
exclude = venv, .tox
recursive = True
quiet = True
format = custom
msg-template = {abspath}:{line} - {test_id} - {severity} - {msg}

[coverage:report]
exclude_lines = 
	pragma: no cover
	def __repr__
	def __str__
	TYPE_CHECKING
	raise NotImplementedError
	@abstractmethod
	if verbosity
	if verbose
include = 
	france_connect/*
omit = 
	venv/*
	site-packages/*
fail_under = 100

[coverage:run]
branch = True
source = 
	france_connect

[coverage:html]
title = FranceConnect package Coverage

[egg_info]
tag_build = 
tag_date = 0

