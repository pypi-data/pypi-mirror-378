[project]
name = "experiment-generator"
dynamic = ["version"]
description = "A tool to generate and manage parameter sensitivity experiments."
authors = [
  { name = "Minghang Li", email = "Minghang.Li1@anu.edu.au" }
]
readme = "README.md"
keywords = ["experiment generator", "workflow", "access", "payu"]
license = { text = "Apache-2.0" }
classifiers = [
    "License :: OSI Approved :: Apache Software License",
    "Operating System :: POSIX :: Linux",
    "Programming Language :: Python :: 3",
    "Topic :: Utilities",
]

dependencies = [
  "ruamel.yaml",
  "f90nml"
]

[build-system]
requires = ["setuptools>=80", "setuptools_scm[toml]>=8", "wheel"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages.find]
where = ["src"]

[project.scripts]
experiment-generator = "experiment_generator.main:main"

[project.urls]
Homepage = "https://github.com/ACCESS-NRI/access-experiment-generator"

[project.optional-dependencies]
devel = [
    "flake8",
    "black",
    "pre-commit",
]
test = [
    "pytest",
    "pytest-cov",
]

access = ["payu"]

[tool.pytest.ini_options]
addopts = [
  "--cov=experiment_generator",
  "--cov-report=term",
  "--cov-report=html",
  "--cov-report=xml"
]
testpaths = ["tests"]

[tool.coverage.run]
omit = [
  "src/experiment_generator/tmp_parser/*"
  ]

[tool.black]
line-length = 120

[tool.flake8]
max-line-length = 120
