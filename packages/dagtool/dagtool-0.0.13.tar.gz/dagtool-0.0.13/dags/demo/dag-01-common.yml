name: 01_common
type: dag
docs: |
  ## Common DAG

  This is the demo dag for passing template data to DAG object.

  ```python
  from dagtool import DagTool
  ```
start_date: "2025-01-01"
tags:
  - "group:demo"
  - "uses:true"
  - "domain:demo"
tasks:
  - task: start
    uses: empty

  - task: debug
    upstream: start
    uses: debug
    params:
      foo: bar
      custom: "{{ custom_macros }}"
      environment: "{{ env('AIRFLOW_ENV') }}"
      variable: "{{ vars('test') }}"

  - task: force_raise
    upstream: debug
    uses: raise

  - task: end
    upstream: force_raise
    trigger_rule: one_failed
    uses: empty
