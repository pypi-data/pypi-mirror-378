Metadata-Version: 2.4
Name: fast-jwt-auth
Version: 0.1.8
Summary: Une biblioth√®que d'authentification JWT simple pour FastAPI.
Author-email: zafimanoela-romeo <romeomanoela18@gmail.com>
Project-URL: Homepage, https://github.com/pythonlabs/fast_jwt
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Framework :: FastAPI
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: PyJWT>=2.0.0
Provides-Extra: test
Requires-Dist: pytest; extra == "test"
Requires-Dist: httpx; extra == "test"
Requires-Dist: uvicorn; extra == "test"
Dynamic: license-file

# üöÄ Fast JWT Auth üîí

[![PyPI version](https://badge.fury.io/py/fast-jwt-auth.svg)](https://badge.fury.io/py/fast-jwt-auth)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

Fast JWT Auth  est une biblioth√®que d'authentification JWT simple et l√©g√®re pour FastAPI. Elle fournit des d√©pendances faciles √† utiliser pour prot√©ger vos routes et g√©rer les tokens d'acc√®s et de rafra√Æchissement.

## ‚ú® Fonctionnalit√©s

-   **Cr√©ation de Tokens** : G√©n√©rez des tokens d'acc√®s et de rafra√Æchissement en une seule ligne de code.
-   **Protection de Routes** : Utilisez des d√©pendances FastAPI pour s√©curiser vos points de terminaison.
-   **Validation Automatique** : D√©codage et validation automatiques des tokens, y compris la gestion de l'expiration.
-   **Facile √† Utiliser** : Con√ßu pour √™tre simple et intuitif, vous permettant de s√©curiser votre API en quelques minutes.

## üì¶ Installation

```bash
pip install fast-jwt-auth
```
```bash
uv add fast-jwt-auth
```

## üöÄ Utilisation de base

Voici un exemple simple de la fa√ßon d'utiliser Fast JWT dans une application FastAPI.

### 1. Initialisation ‚öôÔ∏è

Cr√©ez une instance de `FastJWT` avec votre cl√© secr√®te. Vous pouvez √©galement configurer l'algorithme et les temps d'expiration des tokens.

```python
from fastapi import FastAPI, Depends
from fast_jwt import FastJWT
from datetime import timedelta

app = FastAPI()

# Initialisez FastJWT avec votre cl√© secr√®te et des temps d'expiration personnalis√©s
# ATTENTION : Ne codez jamais la cl√© en dur, utilisez des variables d'environnement !
secret_key = "votre_cle_secrete_super_securisee"
fast_jwt = FastJWT(
    secret_key=secret_key,
    access_token_expires=timedelta(minutes=30),  # par d√©faut: 15 min
    refresh_token_expires=timedelta(days=7)      # par d√©faut: 3 jours
)
```

### 2. Cr√©ation de Tokens üéüÔ∏è

G√©n√©rez des tokens d'acc√®s et de rafra√Æchissement pour un utilisateur. Les temps d'expiration sont ceux d√©finis lors de l'initialisation de `FastJWT`.

```python
@app.post("/login")
def login(LoginRequest: LoginRequest):
    # votre logique ici
    # Cr√©ez des tokens d'acc√®s et de rafra√Æchissement
    access_token = fast_jwt.create_access_token(user_id=user_id)
    refresh_token = fast_jwt.create_refresh_token(user_id=user_id)
    return {"access_token": access_token, "refresh_token": refresh_token}
```

### 3. Protection des Routes üõ°Ô∏è

Utilisez la d√©pendance `auth_required` pour prot√©ger vos routes.

```python
@app.get("/protected", dependencies=[Depends(fast_jwt.auth_required)])
def protected_route():
    return {"message": "Vous avez acc√®s √† cette route s√©curis√©e !"}
```

### 4. Obtenir les informations de l'utilisateur üë§

La d√©pendance `get_current_user` d√©code le token et retourne le `sub` (sujet), qui est g√©n√©ralement l'ID de l'utilisateur.

```python
@app.get("/user/me")
def read_users_me(user_id: str = Depends(fast_jwt.get_current_user)):
    # votre logique ici
    return {"user_id": user_id}
```

### 5. Rafra√Æchissement de Token üîÑ

Cr√©ez une route pour permettre aux utilisateurs de rafra√Æchir leurs tokens d'acc√®s en utilisant un token de rafra√Æchissement.

```python
@app.post("/refresh")
def refresh(new_tokens: dict = Depends(fast_jwt.refresh_token)):
    return new_tokens # {"access_token": new_access_token, "refresh_token": new_refresh_token}
```

## ‚ö†Ô∏è Consid√©rations de S√©curit√©

-   **Gestion de la `secret_key`** : La s√©curit√© de vos tokens JWT d√©pend enti√®rement de la `secret_key`. **Ne la codez jamais en dur dans votre application !** Chargez-la depuis des variables d'environnement ou un gestionnaire de secrets.

## ü§ù Contribution

Les contributions sont les bienvenues ! N'h√©sitez pas √† ouvrir une *issue* ou une *pull request*.

## ‚öñÔ∏è Licence

Ce projet est sous licence MIT.
