(function(t){function e(e){for(var n,s,l=e[0],o=e[1],c=e[2],p=0,d=[];p<l.length;p++)s=l[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,l=1;l<i.length;l++){var o=i[l];0!==a[o]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={new_page:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/webapp/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;r.push([5,"chunk-vendors"]),i()})({0:function(t,e){},"0578":function(t,e,i){},"21b6":function(t,e,i){"use strict";i("0578")},"3f6a":function(t,e,i){},"46c7":function(t,e,i){t.exports=i.p+"img/file.e0d31bac.svg"},5:function(t,e,i){t.exports=i("63c1")},"63c1":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=i("3003"),r=i("28dd"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("NewPageInterface")],1)},l=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cont",attrs:{id:"container"}},[i("div",{attrs:{id:"toolbar"}},[i("div",{attrs:{id:"toolbar-controls"}},[i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light"},on:{click:t.exitApp}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"danger",icon:"door-closed"}}),t._v("Return to documentation")],1)],1),t._m(0)]),i("div",{staticClass:"d-flex flex-column",attrs:{id:"main-panel"}},[i("div",{staticClass:"d-flex flex-column",attrs:{id:"template-container"}},[i("h4",[t._v("Choose template")]),i("div",{staticClass:"d-flex",attrs:{id:"template-panel"}},t._l(t.templates,(function(e,n){return i("div",{key:"template-"+n,staticClass:"template-item d-flex flex-column text-center justify-content-center",style:{background:t.templateBackground[n]},on:{click:function(e){return t.selectTemplate(n)}}},[i("img",{staticClass:"template-img",attrs:{src:"/static/local-server/"+e.img,alt:e.alt}}),i("p",[t._v(t._s(e.text))])])})),0)]),i("div",{attrs:{id:"dir-container"}},[i("div",{staticClass:"d-flex",attrs:{id:"input-container"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newFileName,expression:"newFileName"}],staticClass:"form-control",attrs:{id:"path-input"},domProps:{value:t.newFileName},on:{input:function(e){e.target.composing||(t.newFileName=e.target.value)}}})]),i("DirectoryViewer",{attrs:{"show-text-input":!1,"api-route":t.filesApiRoute},on:{selectionChanged:t.selectionChanged}})],1),i("div",{attrs:{id:"confirm-container"}},[i("p",[t._v(" Create file "),i("i",[t._v('"'+t._s(t.newFilePath)+'"')]),t._v(" using the template "),i("i",[t._v('"'+t._s(t.templateName)+'"')]),t._v("? ")]),i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"outline-success",disabled:""==t.newFileName},on:{click:t.createFile}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"primary",icon:"file-earmark-check"}}),t._v(" Create File ")],1)],1)]),i("div",{style:{visibility:t.saveMessageVisible},attrs:{id:"saving-background"}},[i("div",{attrs:{id:"saving-message"}},[t._v(" Please wait while project rebuilds "),t.saveMessageVisible?i("vue-simple-spinner",{attrs:{size:"medium"}}):t._e()],1)])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app-title"}},[i("h3",[t._v("Create New Page")])])}],u=(i("a481"),i("aef6"),i("bea1")),p={name:"NewPageInterface",components:{DirectoryViewer:u["a"]},data:function(){return{filesApiRoute:"list-files",templates:[{img:"EmptyPage.png",alt:"New empty page icon",text:"Empty Page",key:"empty"},{img:"StepByStepPage.png",alt:"Step-By-Step page icon",text:"Step-By-Step Instructions",key:"stepbystep"}],selectedTemplate:0,defaultFileName:"my-new-page",newFileName:"",newFileDir:"",saving:!1}},mounted:function(){},asyncComputed:{newFilePath:function(){var t=this.newFileName.endsWith(".md")?this.newFileName:this.newFileName+".md";return this.newFileDir?this.newFileDir+"/"+t:t},saveMessageVisible:function(){return this.saving?"visible":"hidden"},templateBackground:function(){for(var t=[],e=0;e<this.templates.length;e++)e==this.selectedTemplate?t.push("#87d887"):t.push("#ddd");return t},templateName:function(){return this.templates[this.selectedTemplate].text}},methods:{selectTemplate:function(t){this.selectedTemplate=t},selectionChanged:function(t){this.newFileDir=t.currentPath,t.selectionName?this.newFileName=t.selectionName:this.newFileName=this.defaultFileName},createFile:function(){var t=this;this.saving=!0,this.$http.post("create-from-template",{path:this.newFilePath,template:this.templates[this.selectedTemplate].key}).then((function(e){if(!e.body.completed)return t.$fire({type:"error",text:e.body.msg,title:"Error",heightAuto:!1}),t.saving=!1,!1;t.showRenameModal=!1,t.saving=!1,window.location.href=window.location.href.replace(/\/-\/new-page\//,"/"+e.body.newpage+"/-/editor/")})).catch((function(e){return console.error(e),t.$fire({type:"error",text:"Unknown problem creating file.",title:"Error",heightAuto:!1}),t.saving=!1,!1}))},exitApp:function(){window.location.href=window.location.href.replace(/\/-\/new-page\//,"")}},created:function(){}},d=p,f=(i("21b6"),i("8d69"),i("0c7c")),h=Object(f["a"])(d,o,c,!1,null,"14b24507",null),m=h.exports,v={name:"NewPage",components:{NewPageInterface:m}},g=v,b=(i("870e"),Object(f["a"])(g,s,l,!1,null,null,null)),y=b.exports,w=i("683f"),_=i("5b7e"),x=i.n(_),k=i("5f5b"),C=i("b1e0");i("f9e3"),i("2dd8");n["default"].config.productionTip=!1,n["default"].use(a["a"]),n["default"].use(k["a"]),n["default"].use(C["a"]),n["default"].use(r["a"]),n["default"].use(w["a"]),n["default"].component("vue-simple-spinner",x.a),new n["default"]({render:function(t){return t(y)}}).$mount("#app")},"870e":function(t,e,i){"use strict";i("3f6a")},"8d69":function(t,e,i){"use strict";i("b189")},"9d9a":function(t,e,i){},abfe:function(t,e,i){t.exports=i.p+"img/folder.bc191943.svg"},b189:function(t,e,i){},bea1:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"directory-viewer"},[t.showTextInput?n("input",{directives:[{name:"model",rawName:"v-model",value:t.pathInput,expression:"pathInput"}],staticClass:"form-control",class:{"path-input-changed":t.path!==t.pathInput},attrs:{id:"path-input"},domProps:{value:t.pathInput},on:{keyup:t.pathKeyUp,input:function(e){e.target.composing||(t.pathInput=e.target.value)}}}):t._e(),n("div",{attrs:{id:"directory-table-container"}},[n("table",{attrs:{id:"directory-view-table"}},[""!==t.path?n("tr",{on:{dblclick:function(e){return t.dblClickDir("..")}}},[t._m(0)]):t._e(),t._l(t.directoryList,(function(e,a){return n("tr",{key:"dir-"+a,on:{click:function(e){return t.clickItem("dir-"+a)},dblclick:function(i){return t.dblClickDir(e)}}},[n("td",{class:{"active-item":t.selected==="dir-"+a}},[n("img",{staticClass:"dir-view-icon",attrs:{src:i("abfe")}}),t._v(" "+t._s(e)+" ")])])})),t._l(t.fileList,(function(e,a){return n("tr",{key:"file-"+a,on:{click:function(e){return t.clickItem("file-"+a)},dblclick:function(i){return t.dblClickFile(e)}}},[n("td",{class:{"active-item":t.selected==="file-"+a}},[n("img",{staticClass:"dir-view-icon",attrs:{src:i("46c7")}}),t._v(" "+t._s(e)+" ")])])}))],2)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("img",{staticClass:"dir-view-icon",attrs:{src:i("abfe")}}),t._v(" .. ")])}],r=(i("c5f6"),i("28a5"),{name:"DirectoryViewer",components:{},data:function(){return{publicPath:"/static/webapp/",pathInput:"",path:"",directoryList:[],fileList:[],selected:null}},props:{apiRoute:{default:"/-/list-files",type:String},showTextInput:{default:!0,type:Boolean},startingPath:String},mounted:function(){},watch:{selected:function(t){var e=null,i=null;if("string"===typeof t){var n=t.split("-");"dir"===n[0]?(e=this.directoryList[Number(n[1])],i="dir"):(e=this.fileList[Number(n[1])],i="file")}this.$emit("selectionChanged",{selectionName:e,selectionType:i,currentPath:this.path})}},asyncComputed:{},methods:{getFileList:function(t){var e=this;this.selected=null,this.$http.post(this.apiRoute,{path:t}).then((function(t){return t.body.completed?(e.path=t.body.normpath,e.directoryList=t.body.directoryList,e.fileList=t.body.fileList,e.emitSelectionForNewPath(),e.pathInput=t.body.normpath,!0):(e.$fire({type:"error",text:t.body.msg,title:"Error",heightAuto:!1}),e.pathInput=e.path,!1)})).catch((function(t){return console.error(t),e.$fire({type:"error",text:"Unknown problem opening directory.",title:"Error",heightAuto:!1}),e.pathInput=e.path,!1}))},emitSelectionForNewPath:function(){this.$emit("selectionChanged",{selectionName:null,selectionType:null,currentPath:this.path})},pathUpdated:function(t){this.getFileList(t)},pathKeyUp:function(t){if("Enter"===t.key){var e=this.pathInput;this.pathUpdated(e)}},clickItem:function(t){t===this.selected?this.selected=null:this.selected=t},dblClickDir:function(t){var e="";e=""===this.path?t:this.path+"/"+t,this.pathUpdated(e)},dblClickFile:function(t){this.$emit("fileOpened",{fileName:t,currentPath:this.path})}},created:function(){var t="";this.startingPath&&(t=this.startingPath),this.getFileList(t)}}),s=r,l=(i("df78"),i("0c7c")),o=Object(l["a"])(s,n,a,!1,null,"6f3775a0",null);e["a"]=o.exports},df78:function(t,e,i){"use strict";i("9d9a")}});
//# sourceMappingURL=new_page.5e438129.js.map