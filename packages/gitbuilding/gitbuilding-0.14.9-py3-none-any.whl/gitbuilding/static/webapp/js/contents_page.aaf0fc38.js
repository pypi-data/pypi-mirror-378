(function(e){function t(t){for(var n,r,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,l=1;l<i.length;l++){var s=i[l];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={contents_page:0},o=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/webapp/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([4,"chunk-vendors"]),i()})({0:function(e,t){},"199c":function(e,t,i){},4:function(e,t,i){e.exports=i("c89d")},"46c7":function(e,t,i){e.exports=i.p+"img/file.e0d31bac.svg"},6957:function(e,t,i){"use strict";i("f8e6")},8153:function(e,t,i){},"9d9a":function(e,t,i){},abfe:function(e,t,i){e.exports=i.p+"img/folder.bc191943.svg"},bea1:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"directory-viewer"},[e.showTextInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.pathInput,expression:"pathInput"}],staticClass:"form-control",class:{"path-input-changed":e.path!==e.pathInput},attrs:{id:"path-input"},domProps:{value:e.pathInput},on:{keyup:e.pathKeyUp,input:function(t){t.target.composing||(e.pathInput=t.target.value)}}}):e._e(),n("div",{attrs:{id:"directory-table-container"}},[n("table",{attrs:{id:"directory-view-table"}},[""!==e.path?n("tr",{on:{dblclick:function(t){return e.dblClickDir("..")}}},[e._m(0)]):e._e(),e._l(e.directoryList,(function(t,a){return n("tr",{key:"dir-"+a,on:{click:function(t){return e.clickItem("dir-"+a)},dblclick:function(i){return e.dblClickDir(t)}}},[n("td",{class:{"active-item":e.selected==="dir-"+a}},[n("img",{staticClass:"dir-view-icon",attrs:{src:i("abfe")}}),e._v(" "+e._s(t)+" ")])])})),e._l(e.fileList,(function(t,a){return n("tr",{key:"file-"+a,on:{click:function(t){return e.clickItem("file-"+a)},dblclick:function(i){return e.dblClickFile(t)}}},[n("td",{class:{"active-item":e.selected==="file-"+a}},[n("img",{staticClass:"dir-view-icon",attrs:{src:i("46c7")}}),e._v(" "+e._s(t)+" ")])])}))],2)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("img",{staticClass:"dir-view-icon",attrs:{src:i("abfe")}}),e._v(" .. ")])}],o=(i("c5f6"),i("28a5"),{name:"DirectoryViewer",components:{},data:function(){return{publicPath:"/static/webapp/",pathInput:"",path:"",directoryList:[],fileList:[],selected:null}},props:{apiRoute:{default:"/-/list-files",type:String},showTextInput:{default:!0,type:Boolean},startingPath:String},mounted:function(){},watch:{selected:function(e){var t=null,i=null;if("string"===typeof e){var n=e.split("-");"dir"===n[0]?(t=this.directoryList[Number(n[1])],i="dir"):(t=this.fileList[Number(n[1])],i="file")}this.$emit("selectionChanged",{selectionName:t,selectionType:i,currentPath:this.path})}},asyncComputed:{},methods:{getFileList:function(e){var t=this;this.selected=null,this.$http.post(this.apiRoute,{path:e}).then((function(e){return e.body.completed?(t.path=e.body.normpath,t.directoryList=e.body.directoryList,t.fileList=e.body.fileList,t.emitSelectionForNewPath(),t.pathInput=e.body.normpath,!0):(t.$fire({type:"error",text:e.body.msg,title:"Error",heightAuto:!1}),t.pathInput=t.path,!1)})).catch((function(e){return console.error(e),t.$fire({type:"error",text:"Unknown problem opening directory.",title:"Error",heightAuto:!1}),t.pathInput=t.path,!1}))},emitSelectionForNewPath:function(){this.$emit("selectionChanged",{selectionName:null,selectionType:null,currentPath:this.path})},pathUpdated:function(e){this.getFileList(e)},pathKeyUp:function(e){if("Enter"===e.key){var t=this.pathInput;this.pathUpdated(t)}},clickItem:function(e){e===this.selected?this.selected=null:this.selected=e},dblClickDir:function(e){var t="";t=""===this.path?e:this.path+"/"+e,this.pathUpdated(t)},dblClickFile:function(e){this.$emit("fileOpened",{fileName:e,currentPath:this.path})}},created:function(){var e="";this.startingPath&&(e=this.startingPath),this.getFileList(e)}}),r=o,l=(i("df78"),i("0c7c")),s=Object(l["a"])(r,n,a,!1,null,"6f3775a0",null);t["a"]=s.exports},c89d:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=i("3003"),o=i("28dd"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("ContentsPageInterface")],1)},l=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cont",attrs:{id:"container"}},[i("div",{attrs:{id:"toolbar"}},[i("div",{attrs:{id:"toolbar-controls"}},[i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light"},on:{click:e.exitApp}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"danger",icon:"door-closed"}}),e._v("Return to documentation")],1)],1),e._m(0)]),i("div",{staticClass:"d-flex flex-column",attrs:{id:"main-panel"}},[i("div",{staticClass:"d-flex flex-column",attrs:{id:"interaction-panel"}},[i("h4",[e._v(e._s(e.selectedFile))]),i("p",[e._v(e._s(e.fileInformation))]),i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light",disabled:!e.cangoto},on:{click:e.goToFile}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"primary",icon:"arrow-right-circle"}}),e._v(" Go to file in documentation ")],1),i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light",disabled:!e.edit},on:{click:e.editFile}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"primary",icon:"pencil"}}),e._v(" Edit ")],1),i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light",disabled:!e.rename},on:{click:e.openRenameModal}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"primary",icon:"pencil-square"}}),e._v(" Rename/Move ")],1)],1),i("div",{attrs:{id:"dir-container"}},[i("DirectoryViewer",{attrs:{"show-text-input":!1,"api-route":e.outputFilesApiRoute},on:{selectionChanged:e.selectionChanged,fileOpened:e.fileOpened}})],1)]),i("Modal",{attrs:{"modal-class":"project-modal",title:"Rename/Move file"},model:{value:e.showRenameModal,callback:function(t){e.showRenameModal=t},expression:"showRenameModal"}},[i("div",[e._v(" Rename file "),i("i",[e._v("'"+e._s(e.filePath)+"'")]),e._v(" to "),i("i",[e._v("'"+e._s(e.newFilePath)+"'")])]),i("div",{staticClass:"d-flex",attrs:{id:"rename-container"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newFileName,expression:"newFileName"}],staticClass:"form-control",attrs:{id:"path-input"},domProps:{value:e.newFileName},on:{input:function(t){t.target.composing||(e.newFileName=t.target.value)}}}),i("b-button",{staticClass:"d-flex gap-1 button-hover",attrs:{variant:"light",disabled:e.filePath==e.newFilePath},on:{click:e.renameFile}},[i("b-icon",{staticClass:"icon-margin",attrs:{variant:"primary",icon:"pencil-square"}}),e._v(" Rename/Move ")],1)],1),i("div",{attrs:{id:"rename-dir-container"}},[i("DirectoryViewer",{attrs:{"show-text-input":!1,"api-route":e.sourceFilesApiRoute,"starting-path":e.originalDirectory},on:{selectionChanged:e.renameSelectionChanged}})],1)]),i("div",{style:{visibility:e.saveMessageVisible},attrs:{id:"saving-background"}},[i("div",{attrs:{id:"saving-message"}},[e._v(" Please wait while project rebuilds "),e.saveMessageVisible?i("vue-simple-spinner",{attrs:{size:"medium"}}):e._e()],1)])],1)},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app-title"}},[i("h3",[e._v("Contents Page")])])}],u=(i("a481"),i("bea1")),d={name:"ContentsPageInterface",components:{DirectoryViewer:u["a"]},data:function(){return{outputFilesApiRoute:"list-output-files",sourceFilesApiRoute:"list-source-files",fileSelection:null,directory:null,fileInformation:"",rename:!1,edit:!1,cangoto:!1,showRenameModal:!1,originalFileName:"",originalDirectory:"",newFileName:"",newFileDir:"",saving:!1}},mounted:function(){},asyncComputed:{selectedFile:function(){return this.fileSelection?this.fileSelection:"No file selected"},filePath:function(){return this.originalDirectory?this.originalDirectory+"/"+this.originalFileName:this.originalFileName},newFilePath:function(){return this.newFileDir?this.newFileDir+"/"+this.newFileName:this.newFileName},saveMessageVisible:function(){return this.saving?"visible":"hidden"}},methods:{selectionChanged:function(e){this.directory=e.currentPath,e.selectionName&&"dir"!=e.selectionType?this.setFileinfo(e):this.no_file_selected()},no_file_selected:function(){this.fileSelection=null,this.fileInformation="",this.rename=!1,this.edit=!1,this.cangoto=!1},setFileinfo:function(e){var t=this;this.fileSelection=e.selectionName,this.cangoto=!0;var i=e.currentPath?e.currentPath+"/"+e.selectionName:e.selectionName;this.$http.post("file-info",{path:i}).then((function(e){t.fileInformation=e.body.description,t.rename=e.body.rename,t.edit=e.body.editable,t.originalDirectory=e.body.originalDir,t.originalFileName=e.body.originalFile})).catch((function(e){return console.error(e),t.no_file_selected(),!1}))},fileOpened:function(e){window.location.href=window.location.href.replace(/\/-\/contents-page\//,this.deduplicate_slashes("/"+e.currentPath+"/"+e.fileName))},goToFile:function(){window.location.href=window.location.href.replace(/\/-\/contents-page\//,this.deduplicate_slashes("/"+this.directory+"/"+this.selectedFile))},openRenameModal:function(){this.showRenameModal=!0},renameFile:function(){var e=this;this.saving=!0,this.$http.post("rename-file",{oldpath:this.filePath,newpath:this.newFilePath}).then((function(t){if(!t.body.completed)return e.$fire({type:"error",text:t.body.msg,title:"Error",heightAuto:!1}),e.saving=!1,!1;e.showRenameModal=!1,e.saving=!1,window.location.reload()})).catch((function(t){return console.error(t),e.$fire({type:"error",text:"Unknown problem renaming file.",title:"Error",heightAuto:!1}),e.saving=!1,!1}))},editFile:function(){window.location.href=window.location.href.replace(/\/-\/contents-page\//,this.deduplicate_slashes("/"+this.directory+"/"+this.selectedFile+"/-/editor/"))},renameSelectionChanged:function(e){this.newFileDir=e.currentPath,e.selectionName?this.newFileName=e.selectionName:this.newFileName=this.originalFileName},deduplicate_slashes:function(e){return e.replace(/\/\//,"/")},exitApp:function(){window.location.href=window.location.href.replace(/\/-\/contents-page\//,"")}},created:function(){}},f=d,p=(i("f628"),i("e55d"),i("0c7c")),h=Object(p["a"])(f,s,c,!1,null,"3ad32d1d",null),m=h.exports,v={name:"ContentsPage",components:{ContentsPageInterface:m}},g=v,b=(i("6957"),Object(p["a"])(g,r,l,!1,null,null,null)),w=b.exports,y=i("683f"),_=i("5b7e"),F=i.n(_),C=i("f001"),P=(i("5ac0"),i("5f5b")),x=i("b1e0");i("f9e3"),i("2dd8");n["default"].config.productionTip=!1,n["default"].use(a["a"]),n["default"].use(P["a"]),n["default"].use(x["a"]),n["default"].use(o["a"]),n["default"].use(y["a"]),n["default"].component("vue-simple-spinner",F.a),n["default"].component("Modal",C["a"]),new n["default"]({render:function(e){return e(w)}}).$mount("#app")},df78:function(e,t,i){"use strict";i("9d9a")},e55d:function(e,t,i){"use strict";i("199c")},f628:function(e,t,i){"use strict";i("8153")},f8e6:function(e,t,i){}});
//# sourceMappingURL=contents_page.aaf0fc38.js.map