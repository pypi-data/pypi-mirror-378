# 更新日志

## [0.1.6] - 2025-09-23

### 修复 🔧
- **版本统一**: 修复版本号不一致问题，统一所有文件中的版本为0.1.6
- **构建系统**: 简化构建配置，使用单一的hatchling构建后端，移除setuptools依赖
- **Pydantic兼容性**: 修复Pydantic V2相关的弃用警告
  - 将`class Config`改为`model_config`
  - 移除Field中的env参数，使用pydantic-settings的标准方式

### 改进 🚀
- **包构建**: 优化构建流程，确保版本一致性
- **uvx兼容性**: 改善uvx运行体验，支持无缓存运行
- **依赖管理**: 精简构建依赖，提高构建效率

### 测试验证 ✅
- uvx运行测试通过
- 包构建和安装验证成功
- Cherry Studio兼容性确认

---

## [0.1.5] - 2025-09-22

### 修复 🔧
- **构建系统**: 添加setup.py作为备用构建系统，提高兼容性
- **导入路径**: 修复docker-compose.yml中的模块导入路径问题
- **安全模块**: 改进安全配置管理器的导入容错机制

### 改进 🚀
- **包构建**: 完善pyproject.toml配置，优化包包含和排除规则
- **依赖管理**: 更新构建系统依赖，添加setuptools和wheel支持
- **Docker**: 优化Docker健康检查脚本的模块路径

### 测试验证 ✅
- 包构建和安装测试通过
- Docker容器健康检查正常工作
- 安全模块导入兼容性测试通过

---

## [0.1.4] - 2025-09-22

### 修复 🔧
- **关键修复**: 完全解决stdio模式连接问题
  - 修复MCP客户端调用`uvx mcp-evaluation-server server`时的连接失败
  - 在stdio模式下完全禁用所有日志和警告输出
  - 正确处理MCP协议初始化流程
- **日志系统**: 修复日志文件路径问题，支持动态创建日志目录
- **安全模块**: 移除不必要的警告输出，提升stdio模式兼容性

### 改进 🚀
- **HTTP模式**: 增加Streamable HTTP支持
  - 支持`server`和`http`命令启动HTTP服务器
  - 默认监听`127.0.0.1:8000`，路径`/mcp`
  - 可通过`--host`、`--port`、`--path`参数自定义
- **命令行**: 增强命令行参数解析和模式检测
- **兼容性**: 改善与各种MCP客户端的兼容性

### 测试验证 ✅
- stdio模式MCP协议初始化成功
- HTTP服务器模式正常启动
- 包安装和运行稳定

---

## [0.1.3] - 2025-09-22

### 修复
- **关键修复**: 修正所有导入路径问题 (src → mcp_evaluation_server)
- **配置修复**: 更新 pyproject.toml 配置错误
  - 修正 coverage 源路径
  - 添加 dependency-groups 配置
  - 移除不存在的文件引用
- **文档更新**: 更正 README 中的启动命令和项目结构
- **类型注解**: 添加缺失的类型注解，提升代码质量
  - 修复 utils.py 的 Optional 类型错误
  - 为 practical_security.py 添加返回类型注解
  - 为 memory_protection.py 添加完整类型注解

### 改进
- 测试现在可以正常运行
- 包启动稳定性提升
- 代码质量和可维护性改善

---

## [0.1.2] - 2025-09-22

### 优化
- 优化包结构，移除11MB冗余数据
- 简化依赖配置，从8个减少到4个核心包
- 清理重复代码和临时文件
- 优化包大小，提升部署效率

### 修复
- 修复包导入和模块结构问题
- 改进数据库连接稳定性
- 优化MCP服务器启动性能

### 测试
- 完成本地功能测试验证
- 确认MCP协议兼容性
- 验证与AI客户端集成能力

---

## 未发布

---

## [0.1.1] - 2025-09-22

### 新增
- 优化GitHub Actions工作流，只在release时触发更新日志
- 全面支持uvx运行方式，无需预先安装
- 更新MCP客户端配置指南，支持Cursor和Cherry Studio
- 改进用户文档和故障排除指南

### 优化
- 简化MCP服务器配置流程
- 提升用户体验，支持开箱即用
- 修复Pydantic v2兼容性警告

---

## [0.1.0] - 2025-09-19

### 新增
- 初始版本发布
- 基础搜索功能
- 工具评估系统
- 分类统计功能
