(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[6555],{7396:(e,t,r)=>{"use strict";r.d(t,{a1:()=>M,nf:()=>d.A,hq:()=>v.A,hs:()=>n,oZ:()=>a.A,XB:()=>T.A,Oj:()=>m.A,Ho:()=>h.A,mu:()=>p.A,Am:()=>g.A,aT:()=>C.A,qw:()=>A.A,lM:()=>f.A,VJ:()=>_.A,qO:()=>o.A,w_:()=>y.A,CP:()=>D.A,zM:()=>s.A,wI:()=>P.w,Ck:()=>u.A,fH:()=>w.fH,iw:()=>w.iw,LC:()=>F.A,F5:()=>S.A,RE:()=>c.A,o3:()=>E.o3,yG:()=>E.yG,nn:()=>i.A,OB:()=>E.OB,HG:()=>w.Ay,cH:()=>l.A,E2:()=>E.E2,Ob:()=>E.Ob});var n=r(14503),a=r(64514),o=r(58002),i=r(96548),s=r(34989),l=r(96469),c=r(49785),u=r(17346),d=r(8892),m=r(21023),h=r(62298),p=r(45249),g=r(89339),A=r(76009),y=r(1739),f=r(5385),C=r(30799),T=r(45277),v=r(95848),_=r(84470),D=r(55371),F=r(1514),S=r(33762),E=r(73308),P=r(45776),w=r(14240);const M="#00A699"},13274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>Me.h4,AnnotationSourceType:()=>Me.FG,AnnotationStyle:()=>Me.vd,AnnotationType:()=>Me.UJ,ApiLegacy:()=>n,ApiV1:()=>a,AppSection:()=>Ht.$s,AxisType:()=>Ht.Gw,BRAND_COLOR:()=>mt.a1,Behavior:()=>Ht.nS,CACHE_AVAILABLE:()=>se.l2,CACHE_KEY:()=>se.RU,COMMON_ERR_MESSAGES:()=>se.HL,CategoricalAirbnb:()=>mt.nf,CategoricalBlueToGreen:()=>mt.hq,CategoricalColorNamespace:()=>mt.hs,CategoricalColorScale:()=>mt.oZ,CategoricalColorsOfRainbow:()=>mt.XB,CategoricalD3:()=>mt.Oj,CategoricalEcharts:()=>mt.Ho,CategoricalGoogle:()=>mt.mu,CategoricalLyft:()=>mt.Am,CategoricalModernSunset:()=>mt.aT,CategoricalPreset:()=>mt.qw,CategoricalPresetSuperset:()=>mt.lM,CategoricalRedToYellow:()=>mt.VJ,CategoricalScheme:()=>mt.qO,CategoricalSuperset:()=>mt.w_,CategoricalWavesOfBlue:()=>mt.CP,ChartClient:()=>Et,ChartDataProvider:()=>Ot,ChartFrame:()=>zt,ChartLabel:()=>Ht.jW,ChartMetadata:()=>Pt.A,ChartPlugin:()=>wt.A,ChartProps:()=>Dt.A,ColorScheme:()=>mt.zM,ColorSchemeGroup:()=>mt.wI,ColorSchemeRegistry:()=>mt.Ck,ComparisonTimeRangeType:()=>dt,ComparisonType:()=>O.g1,ContributionType:()=>k.PA,CtasEnum:()=>k.Hk,CurrencyFormatter:()=>dr.A,DEFAULT_APP_ROOT:()=>se.Nn,DEFAULT_D3_FORMAT:()=>Ne.w,DEFAULT_D3_TIME_FORMAT:()=>ze._,DEFAULT_FETCH_RETRY_OPTIONS:()=>se.F_,DEFAULT_METRICS:()=>M.Cq,DTTM_ALIAS:()=>Ae.Tf,DataMaskType:()=>Z.p_,DatasourceKey:()=>De.A,DatasourceType:()=>M.cT,EXTRA_FORM_DATA_APPEND_KEYS:()=>Ae.t1,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>Ae.KE,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>Ae.zk,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>Ae.E_,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>Ae.DV,EmotionCacheProvider:()=>ht.jf,ErrorTypeEnum:()=>k.eK,ExtensibleFunction:()=>i.A,FeatureFlag:()=>F.TO,GenericDataType:()=>L.s,HTTP_STATUS_NOT_MODIFIED:()=>se.Un,HTTP_STATUS_OK:()=>se.rw,LOCAL_PREFIX:()=>qe.n,LabelsColorMap:()=>mt.fH,LabelsColorMapSource:()=>mt.iw,NO_TIME_RANGE:()=>Ae.WC,NativeFilterType:()=>Z.EH,NumberFormats:()=>be.A,NumberFormatter:()=>xe.A,NumberFormatterRegistry:()=>Ie.A,OverwritePolicy:()=>c.m,PREVIEW_TIME:()=>je.p,PREVIEW_VALUE:()=>xe.t,PandasAxis:()=>o,Plugin:()=>s.A,Preset:()=>l.A,QueryMode:()=>I.g,QueryState:()=>k.kZ,Registry:()=>c.A,RegistryWithDefaultKey:()=>u.A,RollingType:()=>O.AA,SEPARATOR:()=>yr.wv,SMART_DATE_DETAILED_ID:()=>$e.e,SMART_DATE_ID:()=>We.f,SMART_DATE_VERBOSE_ID:()=>Ke.M,SequentialCommon:()=>mt.LC,SequentialD3:()=>mt.F5,SequentialScheme:()=>mt.RE,SuperChart:()=>bt.A,SupersetApiError:()=>Re._,SupersetApiErrorType:()=>Re.w,SupersetClient:()=>oe.A,SupersetClientClass:()=>ie.A,Theme:()=>ht.Sx,ThemeAlgorithm:()=>ht.lJ,ThemeMode:()=>ht.lG,ThemeProvider:()=>ht.NP,TimeFormats:()=>qe.A,TimeFormatter:()=>je.A,TimeGranularity:()=>et.i,TooltipFrame:()=>Jt,TooltipTable:()=>tr,TypedRegistry:()=>d.A,VizType:()=>Ut.Y,WithLegend:()=>$t,__hack_reexport_AdvancedAnalytics:()=>O.Ay,__hack_reexport_Column:()=>R.Ay,__hack_reexport_Dashboard:()=>Z.Ay,__hack_reexport_Datasource:()=>M.Ay,__hack_reexport_Metric:()=>x.Ay,__hack_reexport_Query:()=>k.Ay,__hack_reexport_QueryFormData:()=>I.A,__hack_reexport_QueryResponse:()=>L.A,__hack_reexport_Time:()=>ee,__hack_reexport_chart_Base:()=>Ht.Ay,__hack_reexport_chart_QueryResponse:()=>Gt,__hack_reexport_chart_TransformFunction:()=>Yt,__hack_reexport_connection:()=>le,__hack_reexport_dimension:()=>ut,__hack_reexport_jed:()=>re,__hack_reexport_translation:()=>ne,addAlpha:()=>mt.o3,addLocaleData:()=>te.Mo,addTranslation:()=>te.XY,addTranslations:()=>te.um,buildCustomFormatters:()=>mr.Xc,buildQueryContext:()=>ye.A,buildQueryObject:()=>fe.A,callApi:()=>ae.A,chartLabelExplanations:()=>Ht.HE,chartLabelWeight:()=>Ht.l7,checkForHtml:()=>we.bY,computeCustomDateTime:()=>Ar.M9,computeMaxFontSize:()=>it.A,concludedQueryStateList:()=>k.tG,configure:()=>te.jK,convertFilter:()=>Ce.A,convertKeysToCamelCase:()=>m.A,createD3NumberFormatter:()=>Le.A,createD3TimeFormatter:()=>Be.A,createDurationFormatter:()=>Oe.A,createEmotionCache:()=>ht.An,createLoadableRenderer:()=>Mt.A,createMemoryFormatter:()=>He.A,createMultiFormatter:()=>Qe.A,createSiAtMostNDigitFormatter:()=>Ye,createSmartDateDetailedFormatter:()=>$e.K,createSmartDateFormatter:()=>We.m,createSmartDateVerboseFormatter:()=>Ke.k,createSmartNumberFormatter:()=>Ge.A,css:()=>ht.AH,customTimeRangeDecode:()=>fr.t,defineSharedModule:()=>ce.zW,defineSharedModules:()=>ce.mg,denormalizeTimestamp:()=>Ze,ensureIsArray:()=>h.A,ensureIsInt:()=>p.A,evalExpression:()=>rr.p,exampleThemes:()=>ht.fK,extractQueryFields:()=>Ee.A,extractTimegrain:()=>Te.A,fetchTimeRange:()=>yr.x9,finestTemporalGrainFormatter:()=>Xe.A,formatNumber:()=>ke.ZV,formatTime:()=>Ve.fU,formatTimeRange:()=>Ve.sH,getAnalogousColors:()=>mt.yG,getCategoricalSchemeRegistry:()=>mt.nn,getChartBuildQueryRegistry:()=>Ft.A,getChartComponentRegistry:()=>xt.A,getChartControlPanelRegistry:()=>Nt.A,getChartMetadataRegistry:()=>St.A,getChartTransformPropsRegistry:()=>kt.A,getClientErrorMessage:()=>we.hi,getClientErrorObject:()=>we.h4,getColorVariants:()=>ht.st,getColumnLabel:()=>ve.A,getComparisonFilters:()=>pr,getComparisonInfo:()=>gr,getContrastingColor:()=>mt.OB,getCurrencySymbol:()=>dr.Q,getCustomFormatter:()=>mr.Em,getErrorFromStatusCode:()=>we.q2,getErrorText:()=>we.ER,getExtensionsRegistry:()=>nr.a,getFontSize:()=>ht.ny,getLabelsColorMap:()=>mt.HG,getMetricLabel:()=>_e.A,getMultipleTextDimensions:()=>ot,getNumberFormatter:()=>ke.gV,getNumberFormatterRegistry:()=>ke.Ay,getParagraphContents:()=>P.Vi,getSelectedText:()=>D.j,getSequentialSchemeRegistry:()=>mt.cH,getTextDimension:()=>tt.A,getTimeFormatter:()=>Ve.mo,getTimeFormatterForGranularity:()=>Ve.PT,getTimeFormatterRegistry:()=>Ve.Ay,getTimeOffset:()=>Ar.TX,getTimeRangeFormatter:()=>Ve.$K,getValueFormatter:()=>mr.gC,getXAxisColumn:()=>Pe.Od,getXAxisLabel:()=>Pe.yj,hasHtmlTagPattern:()=>P.Id,hexToRgb:()=>mt.E2,initFeatureFlags:()=>F.Aq,isAdhocColumn:()=>R.q0,isAdhocMetricSQL:()=>x.WL,isAdhocMetricSimple:()=>x.IN,isAppliedCrossFilterType:()=>Z.Ub,isAppliedNativeFilterType:()=>Z.ve,isBinaryAdhocFilter:()=>b.bo,isBinaryOperator:()=>N.UH,isDefined:()=>g.A,isEqualArray:()=>y.A,isEventAnnotationLayer:()=>Me.Tw,isFeatureEnabled:()=>F.G7,isFilterDivider:()=>Z.O2,isFormulaAnnotationLayer:()=>Me.Bg,isFreeFormAdhocFilter:()=>b.wF,isIntervalAnnotationLayer:()=>Me.Cv,isJsonString:()=>P.Eo,isNativeFilter:()=>Z.qQ,isNativeFilterWithDataMask:()=>Z.ee,isPhysicalColumn:()=>R.eh,isPostProcessingAggregation:()=>H,isPostProcessingBoxplot:()=>U,isPostProcessingCompare:()=>B,isPostProcessingContribution:()=>Y,isPostProcessingCum:()=>V,isPostProcessingDiff:()=>j,isPostProcessingFlatten:()=>K,isPostProcessingHistogram:()=>J,isPostProcessingPivot:()=>G,isPostProcessingProphet:()=>q,isPostProcessingRank:()=>X,isPostProcessingRename:()=>$,isPostProcessingResample:()=>W,isPostProcessingRolling:()=>z,isPostProcessingSort:()=>Q,isProbablyHTML:()=>P.fE,isQueryFormColumn:()=>R.x$,isQueryFormMetric:()=>x.Pr,isRequired:()=>A.A,isSavedMetric:()=>x.S_,isSetAdhocFilter:()=>b.M6,isSetOperator:()=>N.jy,isSimpleAdhocFilter:()=>b.md,isTableAnnotationLayer:()=>Me.n2,isThemeDark:()=>ht.Mw,isTimeseriesAnnotationLayer:()=>Me.No,isUnaryAdhocFilter:()=>b.TI,isUnaryOperator:()=>N.Gq,isValidExpression:()=>rr.$,isXAxisSet:()=>Pe.aj,jsx:()=>ht.Y,keyframes:()=>ht.i7,legacyValidateInteger:()=>pt.A,legacyValidateNumber:()=>gt.A,logging:()=>T.A,lruCache:()=>_.E,makeApi:()=>he.A,makeSingleton:()=>f.A,mergeMargin:()=>lt,normalizeOrderBy:()=>Fe.A,normalizeTimeColumn:()=>Se.j,normalizeTimestamp:()=>Je.A,parseDttmToDate:()=>Ar.cy,parseErrorJson:()=>we.io,parseLength:()=>ct.A,parseStringResponse:()=>we.A8,promiseTimeout:()=>C.A,reactify:()=>Rt.A,removeDuplicates:()=>v.A,removeHTMLTags:()=>P.zF,reset:()=>ce.cL,resetTranslation:()=>te.Fh,retrieveErrorMessage:()=>we.ei,rgbToHex:()=>mt.Ob,runningQueryStateList:()=>k.P7,safeHtmlSpan:()=>P.nn,sanitizeHtml:()=>P.pn,sanitizeHtmlIfNeeded:()=>P.pU,seed:()=>S.c,seedRandom:()=>S.d,setD3Format:()=>ke.rl,styled:()=>ht.I4,supersetTheme:()=>ht.TT,t:()=>te.t,testQuery:()=>k.hd,testQueryResponse:()=>k.aW,testQueryResults:()=>k.X,theme:()=>ht.w4,themeObject:()=>ht.vP,tn:()=>te.tn,tooltipHtml:()=>w.L,truncationCSS:()=>ur.P,typedMemo:()=>E.v,useCSSTextTruncation:()=>ur.A,useChangeEffect:()=>ar.h,useComponentDidMount:()=>or.B,useComponentDidUpdate:()=>ir,useElementOnScreen:()=>sr.N,usePrevious:()=>lr.Z,useTheme:()=>ht.DP,useThemeMode:()=>ht.eP,useTruncation:()=>cr.A,validateInteger:()=>At.A,validateMapboxStylesUrl:()=>Tt.A,validateMaxValue:()=>Ct.A,validateNonEmpty:()=>ft.A,validateNumber:()=>yt.A,validateServerPagination:()=>_t.A,validateTimeComparisonRangeValues:()=>vt,withTheme:()=>ht.SL});var n={};r.r(n),r.d(n,{__hack_reexport_query_api_legacy:()=>me,getDatasourceMetadata:()=>de,getFormData:()=>ue});var a={};r.r(a),r.d(a,{default:()=>ge,getChartData:()=>pe});var o,i=r(14735),s=r(76613),l=r(85433),c=r(35625),u=r(88485),d=r(10384),m=r(69191),h=r(90924),p=r(30256),g=r(74842),A=r(92250),y=r(78878),f=r(39892),C=r(87875),T=r(75574),v=r(82689),_=r(87470),D=r(95021),F=r(99106),S=r(62120),E=r(85173),P=r(7566),w=r(19236),M=r(41479),R=r(91920),b=r(58180),x=r(1734),N=r(86138),k=r(88808),I=r(17658),L=r(7683),O=r(99578);function H(e){return"aggregate"===(null==e?void 0:e.operation)}function U(e){return"boxplot"===(null==e?void 0:e.operation)}function Y(e){return"contribution"===(null==e?void 0:e.operation)}function G(e){return"pivot"===(null==e?void 0:e.operation)}function q(e){return"prophet"===(null==e?void 0:e.operation)}function j(e){return"diff"===(null==e?void 0:e.operation)}function z(e){return"rolling"===(null==e?void 0:e.operation)}function V(e){return"cum"===(null==e?void 0:e.operation)}function B(e){return"compare"===(null==e?void 0:e.operation)}function Q(e){return"sort"===(null==e?void 0:e.operation)}function W(e){return"resample"===(null==e?void 0:e.operation)}function $(e){return"rename"===(null==e?void 0:e.operation)}function K(e){return"flatten"===(null==e?void 0:e.operation)}function X(e){return"rank"===(null==e?void 0:e.operation)}function J(e){return"histogram"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(o||(o={}));var Z=r(10900);const ee={};var te=r(74098);const re={},ne={};var ae=r(17286),oe=r(79378),ie=r(26836),se=r(6987);const le={};var ce=r(71065);function ue({client:e=oe.A,sliceId:t,overrideFormData:r,requestConfig:n}){const a=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...n}).then((({json:e})=>e));return r?a.then((e=>({...e,...r}))):a}function de({client:e=oe.A,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then((e=>e.json))}const me={};var he=r(10992);const pe=(0,he.A)({method:"POST",endpoint:"/api/v1/chart/data"}),ge={getChartData:pe};var Ae=r(31463),ye=r(47309),fe=r(47837),Ce=r(16751),Te=r(19619),ve=r(65432),_e=r(34142),De=r(3666),Fe=r(11460),Se=r(78546),Ee=r(91402),Pe=r(89297),we=r(59744),Me=r(65894),Re=r(32726),be=r(52966),xe=r(27032),Ne=r(4061),ke=r(29898),Ie=r(459),Le=r(43386),Oe=r(67650),He=r(48243),Ue=r(24626);function Ye(e={}){const{description:t,n:r=3,id:n,label:a}=e,o=(0,Ue.GP)(`.${r}s`);return new xe.A({description:t,formatFunc:e=>{const t=o(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=n?n:`si_at_most_${r}_digit`,label:null!=a?a:`SI with at most ${r} significant digits`})}var Ge=r(92324),qe=r(15222),je=r(23223),ze=r(39781),Ve=r(58083),Be=r(42398),Qe=r(86227),We=r(29508),$e=r(44516),Ke=r(87948),Xe=r(18981),Je=r(89874);function Ze(e){const t=e.match(Je.W);return t?`${t[1]}T${t[2]}`:e}var et=r(10360),tt=r(76529),rt=r(40557),nt=r(24334),at=r(29861);function ot(e,t){const{texts:r,className:n,style:a,container:o}=e,i=new Map;let s,l;i.set("",{height:0,width:0});const c=r.map((e=>{if(i.has(e))return i.get(e);s||(l=nt.z.createInContainer(o),s=nt.k.createInContainer(l)),(0,at.A)(s,{className:n,style:a,text:e});const r=(0,rt.A)(s,t);return i.set(e,r),r}));return l&&s&&setTimeout((()=>{nt.k.removeFromContainer(l),nt.z.removeFromContainer(o)}),500),c}var it=r(23957);function st(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function lt(e={},t={},r="expand"){const{top:n,left:a,bottom:o,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:st(s,o,t.bottom),left:st(s,a,t.left),right:st(s,i,t.right),top:st(s,n,t.top)}}var ct=r(39965);const ut={};var dt,mt=r(7396),ht=r(50290),pt=r(14125),gt=r(17942),At=r(3924),yt=r(68585),ft=r(88396),Ct=r(84023),Tt=r(73744);!function(e){e.Custom="c",e.InheritedRange="r",e.Month="m",e.Week="w",e.Year="y"}(dt||(dt={}));const vt=(e,t)=>{const r=e===dt.Custom,n=null==t?void 0:t.every((e=>0===(0,h.A)(e).length));return r&&n?[(0,te.t)("Filters for comparison must have a value")]:[]};var _t=r(71859),Dt=r(59923),Ft=r(94122),St=r(18749);class Et{constructor(e={}){this.client=void 0;const{client:t=oe.A}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,n=(0,St.A)(),a=(0,Ft.A)();if(n.has(r)){var o;const{useLegacyApi:i}=n.get(r),s=null!=(o=await a.get(r))?o:()=>e,l=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(l).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,g.A)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,n)=>{const a=e;return a[r.name]=t[n],a}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((([t,r,n])=>({annotationData:t,datasource:r,formData:e,queriesData:n})))))}}var Pt=r(19848),wt=r(89454),Mt=r(5504),Rt=r(47324),bt=r(20486),xt=r(32861),Nt=r(42385),kt=r(69376),It=r(96540);class Lt extends It.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:n}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,n)]).then((([e,r])=>({datasource:e,formData:t,queriesData:r}))))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new Et({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:n}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:n});default:return null}}}const Ot=Lt;var Ht=r(81115),Ut=r(7741);const Yt={},Gt={};var qt=r(2445);function jt(e){return(0,g.A)(e)&&"number"==typeof e}class zt extends It.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:n,renderContent:a}=this.props,o=jt(e)&&e>r,i=jt(t)&&t>n;return o||i?(0,qt.Y)("div",{style:{height:n,overflowX:o?"auto":"hidden",overflowY:i?"auto":"hidden",width:r},children:a({height:Math.max(null!=t?t:0,n),width:Math.max(null!=e?e:0,r)})}):a({height:n,width:r})}}zt.defaultProps={renderContent(){}};var Vt=r(80116);const Bt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Qt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class Wt extends It.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:n,position:a,renderChart:o,renderLegend:i}=this.props,s="left"===a||"right"===a,l={display:"flex",flexDirection:this.getContainerDirection(),height:n,width:r},c={...Qt};s?c.width=0:c.height=0;const u=s?"column":"row",d={...Bt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,qt.FD)("div",{className:`with-legend ${e}`,style:l,children:[i&&(0,qt.Y)("div",{className:"legend-container",style:d,children:i({direction:u})}),(0,qt.Y)("div",{className:"main-container",style:c,children:(0,qt.Y)(Vt.A,{debounceTime:t,children:e=>e.width>0&&e.height>0?o(e):null})})]})}}Wt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const $t=Wt,Kt={padding:8};class Xt extends It.PureComponent{render(){const{className:e,children:t}=this.props;return(0,qt.Y)("div",{className:e,style:Kt,children:t})}}Xt.defaultProps={className:""};const Jt=Xt;var Zt=r(58746);const er={paddingLeft:8,textAlign:"right"},tr=({className:e="",data:t})=>{const r=[{title:"",dataIndex:"keyColumn",key:"keyColumn",render:(e,t)=>{var r;return(0,qt.Y)("div",{style:t.keyStyle,children:null!=(r=t.keyColumn)?r:t.key})}},{title:"",dataIndex:"valueColumn",key:"valueColumn",align:"right",render:(e,t)=>(0,qt.Y)("div",{style:t.valueStyle?{...er,...t.valueStyle}:er,children:t.valueColumn})}];return(0,qt.Y)(Zt.A,{className:e,columns:r,dataSource:t,pagination:!1,showHeader:!1,bordered:!1})};var rr=r(77709),nr=r(1763),ar=r(62053),or=r(1071);const ir=(e,t)=>{const r=(0,It.useRef)(!1);(0,It.useEffect)((()=>{r.current?e():r.current=!0}),[...t||[e]])};var sr=r(96219),lr=r(67413),cr=r(8903),ur=r(39591),dr=r(40984),mr=r(16062);const hr=(e,t)=>{var r,n,a;const o=null!=(r=null==(n=e.adhoc_filters)?void 0:n.findIndex((e=>"operator"in e&&"TEMPORAL_RANGE"===e.operator)))?r:-1,i=-1!==o&&e.adhoc_filters?e.adhoc_filters[o]:null;i&&"comparator"in i&&"string"==typeof i.comparator&&null!=t&&t.time_range&&(i.comparator=t.time_range);const s=i?[i]:[],l=null==(a=e.adhoc_filters)?void 0:a.filter(((e,t)=>o!==t));return l?[...s,...l]:s},pr=hr,gr=(e,t,r)=>{let n;return n=t!==dt.Custom?{...e,adhoc_filters:hr(e,r),extra_form_data:{...r,time_range:void 0}}:{...e,adhoc_filters:e.adhoc_custom,extra_form_data:{...r,time_range:void 0}},n};var Ar=r(48929),yr=r(20033),fr=r(39242)},18981:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(53705),a=r(86471),o=r(23223);function i(e,t=!1){const r=t?n.DC:n.aL,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),l=r("%Y-%m-%d %H:%M"),c=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),d=r("%Y-%m-%d"),m=r("%Y"),{hasMillisecond:h,hasSecond:p,hasMinute:g,hasHour:A,isNotFirstDayOfMonth:y,isNotFirstMonth:f}=t?a.m:a.w;let C=m;return e.forEach((e=>{"bigint"!=typeof e&&(C===m&&f(e)&&(C=d),C===d&&y(e)&&(C=u),C===u&&A(e)&&(C=c),C===c&&g(e)&&(C=l),C===l&&p(e)&&(C=s),C===s&&h(e)&&(C=i))})),new o.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:C,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},23957:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(76529);function a(e,t,r){let n=e,a=t(n);for(;!r(a);){if(n-=1,n<0){n=e;break}a=t(n)}return n}function o(e){const{idealFontSize:t,maxWidth:r,maxHeight:o,style:i,...s}=e;let l;if(null!=t)l=t;else{if(null==o)throw new Error("You must specify at least one of maxHeight or idealFontSize");l=Math.floor(o)}function c(e){return(0,n.A)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(l=a(l,c,(e=>e.width>0&&e.width<=r))),null!=o&&(l=a(l,c,(e=>e.height>0&&e.height<=o))),l}},24334:(e,t,r)=>{"use strict";r.d(t,{z:()=>o,k:()=>i});class n{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const a="http://www.w3.org/2000/svg",o=new n((function(){const e=document.createElementNS(a,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),i=new n((function(){return document.createElementNS(a,"text")}))},29861:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function a(e,{className:t,style:r={},text:a}={}){const o=e;return o.textContent!==a&&(o.textContent=void 0===a?null:a),o.getAttribute("class")!==t&&o.setAttribute("class",null!=t?t:""),o.style.removeProperty("font"),o.style.removeProperty("font-weight"),o.style.removeProperty("font-style"),o.style.removeProperty("font-size"),o.style.removeProperty("font-family"),o.style.removeProperty("letter-spacing"),n.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{o.style[e]=`${r[e]}`})),o}},40557:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n={height:20,width:100};function a(e,t=n){const{width:r,height:a}=e.getBBox?e.getBBox():t;return{height:Math.ceil(a),width:Math.ceil(r)}}},41234:()=>{},47324:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2445),a=r(96540);function o(e,t){class r extends a.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,n.Y)("div",{ref:this.setContainerRef,id:e,className:t})}}const o=r;return e.displayName&&(o.displayName=e.displayName),e.propTypes&&(o.propTypes={...o.propTypes,...e.propTypes}),e.defaultProps&&(o.defaultProps=e.defaultProps),r}},48929:(e,t,r)=>{"use strict";r.d(t,{M9:()=>c,TX:()=>u,cy:()=>l});var n=r(62193),a=r.n(n),o=r(90924),i=r(39242);const s=864e5,l=(e,t=!1,r=!1)=>{const n=new Date;if("now"===e||"No filter"===e||""===e)return n;if("today"===e)return n.setHours(0,0,0,0),n;if(r?n.setHours(-n.getTimezoneOffset()/60,0,0,0):n.setHours(0,0,0,0),t&&null!=e&&e.includes("Last"))return n;switch(e){case"Last day":return n.setUTCDate(n.getUTCDate()-1),n;case"Last week":return n.setUTCDate(n.getUTCDate()-7),n;case"Last month":return n.setUTCMonth(n.getUTCMonth()-1),n;case"Last quarter":return n.setUTCMonth(n.getUTCMonth()-3),n;case"Last year":return n.setUTCFullYear(n.getUTCFullYear()-1),n;case"previous calendar week":return t?n.setDate(n.getDate()-n.getDay()+1):n.setDate(n.getDate()-n.getDay()-6),n;case"previous calendar month":return t?n.setDate(1):(n.setDate(1),n.setMonth(n.getMonth()-1)),n;case"previous calendar year":return t?n.setFullYear(n.getFullYear(),0,1):n.setFullYear(n.getFullYear()-1,0,1),n}if(null!=e&&e.includes("ago")){const t=e.split(" "),r=parseInt(t[0],10);switch(t[1]){case"day":case"days":n.setUTCDate(n.getUTCDate()-r);break;case"week":case"weeks":n.setUTCDate(n.getUTCDate()-7*r);break;case"month":case"months":n.setUTCMonth(n.getUTCMonth()-r);break;case"year":case"years":n.setUTCFullYear(n.getUTCFullYear()-r)}return n}const o=null==e?void 0:e.split("-");let i=null;return i=o&&!a()(o)?1===o.length?new Date(Date.UTC(parseInt(o[0],10),0)):2===o.length?new Date(Date.UTC(parseInt(o[0],10),parseInt(o[1],10)-1)):3===o.length?new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10)):new Date(e):new Date(e),i&&!Number.isNaN(i.getTime())?(r?i.setHours(-i.getTimezoneOffset()/60,0,0,0):i.setHours(0,0,0,0),i):null},c=(e,t,r)=>{let n;if(n="now"===e||"today"===e?new Date:new Date(e),!Number.isNaN(n.getTime())){switch(t){case"second":n.setSeconds(n.getSeconds()+r);break;case"minute":n.setMinutes(n.getMinutes()+r);break;case"hour":n.setHours(n.getHours()+r);break;case"day":n.setDate(n.getDate()+r);break;case"week":n.setDate(n.getDate()+7*r);break;case"month":n.setMonth(n.getMonth()+r);break;case"quarter":n.setMonth(n.getMonth()+3*r);break;case"year":n.setFullYear(n.getFullYear()+r)}return n}return null},u=({timeRangeFilter:e,shifts:t,startDate:r,includeFutureOffsets:n=!0})=>{var a,u,d,m;const{customRange:h,matchedFlag:p}=(0,i.t)(null!=(a=null==e?void 0:e.comparator)?a:"");let g=null,A=null;if(p){var y,f;const{sinceDatetime:e,sinceMode:t,sinceGrain:r,sinceGrainValue:n,untilDatetime:a,untilMode:o,untilGrain:i,untilGrainValue:s}={...h};g="relative"!==t?"specific"===t?new Date(e):l(e,!1,!0):c(e,r,n),null==(y=g)||y.setHours(0,0,0,0),A="relative"!==o?"specific"===o?new Date(a):l(a,!1,!0):c(a,i,s),null==(f=A)||f.setHours(0,0,0,0)}const C=null==t?void 0:t.includes("custom"),T=null==t?void 0:t.includes("inherit");let v;var _;C&&(v=p?new Date(new Date(r).setUTCHours(new Date(r).getTimezoneOffset()/60,0,0,0)).getTime():null==(_=l(r))?void 0:_.getTime());const[D,F]=(null!=(u=null==e?void 0:e.comparator)?u:"").split(" : ").map((e=>e.trim())),S=(null==(d=null!=g?g:l(D,!1,!1))?void 0:d.getTime())||0,E=(null==(m=null!=A?A:l(F||D,!0,!1))?void 0:m.getTime())||0,P=v&&S&&Math.round((S-v)/s),w=T&&E&&S&&Math.round((E-S)/s),M=(0,o.A)(t).map((e=>{if("custom"===e&&void 0!==P&&!Number.isNaN(P)){if(n&&P<0)return-1*P+" days after";if(P>=0&&S)return`${P} days ago`}if("inherit"===e&&w&&!Number.isNaN(w)){if(n&&w<0)return-1*w+" days after";if(w>0)return`${w} days ago`}return e})).filter((e=>"custom"!==e&&"inherit"!==e));return(0,o.A)(M)}},62120:(e,t,r)=>{"use strict";r.d(t,{c:()=>o,d:()=>i});var n=r(7391),a=r.n(n);function o(e){return a()(e)}function i(){return a()("superset-ui")()}},76529:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(29861),a=r(40557),o=r(24334);function i(e,t){const{text:r,className:i,style:s,container:l}=e;if(0===r.length)return{height:0,width:0};const c=o.z.createInContainer(l),u=o.k.createInContainer(c);(0,n.A)(u,{className:i,style:s,text:r});const d=(0,a.A)(u,t);return setTimeout((()=>{o.k.removeFromContainer(c),o.z.removeFromContainer(l)}),500),d}},85173:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});const n=r(96540).memo},95021:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});const n=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},96219:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(96540);function a(e){const t=(0,n.useRef)(null),[r,a]=(0,n.useState)(!1),o=e=>{const[t]=e;a(t.intersectionRatio<1)};return(0,n.useEffect)((()=>{const r=new IntersectionObserver(o,e),n=t.current;return n&&r.observe(n),()=>{n&&r.unobserve(n)}}),[t,e]),[t,r]}}}]);