"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8104],{34303:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(2445),i=a(96540),s=a(74098),n=a(79378),o=a(86784),l=a(64457),d=a(89232),c=a(94551),u=a(47263),g=a(20237);const m=25;function h(){const{addSuccessToast:e,addDangerToast:t}=(0,l.Yf)(),[a,h]=(0,i.useState)(null),{state:{loading:p,resourceCount:_,resourceCollection:C},refreshData:f,fetchData:y}=(0,o.RU)("security/user_registrations",(0,s.t)("User Registrations"),t),w=(0,i.useMemo)((()=>[{accessor:"username",id:"username",Header:(0,s.t)("Username"),Cell:({row:{original:e}})=>e.username},{accessor:"first_name",id:"first_name",Header:(0,s.t)("First name"),Cell:({row:{original:e}})=>e.first_name},{accessor:"last_name",id:"last_name",Header:(0,s.t)("Last name"),Cell:({row:{original:e}})=>e.last_name},{accessor:"email",id:"email",Header:(0,s.t)("Email"),Cell:({row:{original:e}})=>e.email},{accessor:"registration_hash",id:"registration_hash",Header:(0,s.t)("Registration hash"),Cell:({row:{original:e}})=>e.registration_hash},{accessor:"registration_date",id:"registration_date",Header:(0,s.t)("Registration date"),Cell:({row:{original:e}})=>e.registration_date},{id:"actions",Header:(0,s.t)("Actions"),Cell:({row:{original:e}})=>{const t=[{label:"registrations-list-delete-action",tooltip:(0,s.t)("Delete user registration"),placement:"bottom",icon:"DeleteOutlined",onClick:()=>{h(e)}}];return(0,r.Y)(u.D,{actions:t})},hidden:!1,disableSortBy:!0,size:"xl"}]),[]),H=(0,i.useMemo)((()=>[{Header:(0,s.t)("Username"),key:"username",id:"username",input:"search",operator:d.c0.Contains},{Header:(0,s.t)("First name"),key:"first_name",id:"first_name",input:"search",operator:d.c0.Contains},{Header:(0,s.t)("Last name"),key:"last_name",id:"last_name",input:"search",operator:d.c0.Contains},{Header:(0,s.t)("Email"),key:"email",id:"email",input:"search",operator:d.c0.Contains},{Header:(0,s.t)("Registration hash"),key:"registration_hash",id:"registration_hash",input:"search",operator:d.c0.Contains},{Header:(0,s.t)("Registration date"),key:"registration_date",id:"registration_date",input:"datetime_range",operator:d.c0.Between,dateFilterValueType:"iso"}]),[]),D={title:(0,s.t)("No user registrations yet"),image:"filter-results.svg"};return(0,r.FD)(r.FK,{children:[(0,r.Y)(g.A,{name:(0,s.t)("User registrations")}),a&&(0,r.Y)(c.T,{description:(0,s.t)("This action will permanently delete the user registration."),onConfirm:()=>{a&&(async({id:a,username:r})=>{try{await n.A.delete({endpoint:`/api/v1/security/user_registrations/${a}`}),f(),h(null),e((0,s.t)("Deleted user registration for user: %s",r))}catch(e){t((0,s.t)("There was an issue deleting registration for user: %s",r))}})(a)},onHide:()=>h(null),open:!0,title:(0,s.t)("Delete user registration?")}),(0,r.Y)(d.uO,{className:"user-registrations-list-view",columns:w,count:_,data:C,fetchData:y,refreshData:f,addDangerToast:t,addSuccessToast:e,filters:H,initialSort:[{id:"registration_date",desc:!0}],loading:p,pageSize:m,emptyState:D})]})}}}]);