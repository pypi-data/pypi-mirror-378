"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2144],{12823:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var o=n(2445),r=n(90924),l=n(7683),i=n(74098),a=n(96540),s=n(82384),c=n(2801),d=n(17102);function u(t){const{data:e,formData:n,height:u,width:f,setDataMask:h,setHoveredFilter:p,unsetHoveredFilter:g,setFocusedFilter:m,unsetFocusedFilter:b,setFilterActive:v,filterState:w,inputRef:M}=t,{defaultValue:y}=n,[S,F]=(0,a.useState)(null!=y?y:[]),x=t=>{const e=(0,r.A)(t);F(e);const n={};e.length&&(n.granularity_sqla=e[0]),h({extraFormData:n,filterState:{value:e.length?e:null}})};(0,a.useEffect)((()=>{x(null!=y?y:null)}),[JSON.stringify(y)]),(0,a.useEffect)((()=>{var t;x(null!=(t=w.value)?t:null)}),[JSON.stringify(w.value)]);const W=(e||[]).filter((t=>t.dtype===l.s.Temporal)),H=0===W.length?(0,i.t)("No time columns"):(0,i.tn)("%s option","%s options",W.length,W.length),k={};w.validateMessage&&(k.extra=(0,o.Y)(d.Mo,{status:w.validateStatus,children:w.validateMessage}));const C=W.map((t=>{const{column_name:e,verbose_name:n}=t;return{label:null!=n?n:e,value:e}}));return(0,o.Y)(d.j3,{height:u,width:f,children:(0,o.Y)(s.e,{validateStatus:w.validateStatus,...k,children:(0,o.Y)(c.A,{name:n.nativeFilterId,allowClear:!0,value:S,placeholder:H,onChange:x,onBlur:b,onFocus:m,onMouseEnter:p,onMouseLeave:g,ref:M,options:C,onOpenChange:v})})})}},13130:(t,e,n)=>{n.d(e,{A:()=>d});const o=t=>"object"==typeof t&&null!=t&&1===t.nodeType,r=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,l=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return r(n.overflowY,e)||r(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},i=(t,e,n,o,r,l,i,a)=>l<t&&i>e||l>t&&i<e?0:l<=t&&a<=n||i>=e&&a>=n?l-t-o:i>e&&a<n||l<t&&a>n?i-e+r:0,a=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},s=(t,e)=>{var n,r,s,c;if("undefined"==typeof document)return[];const{scrollMode:d,block:u,inline:f,boundary:h,skipOverflowHiddenElements:p}=e,g="function"==typeof h?h:t=>t!==h;if(!o(t))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,b=[];let v=t;for(;o(v)&&g(v);){if(v=a(v),v===m){b.push(v);break}null!=v&&v===document.body&&l(v)&&!l(document.documentElement)||null!=v&&l(v,p)&&b.push(v)}const w=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,M=null!=(c=null==(s=window.visualViewport)?void 0:s.height)?c:innerHeight,{scrollX:y,scrollY:S}=window,{height:F,width:x,top:W,right:H,bottom:k,left:C}=t.getBoundingClientRect(),{top:E,right:I,bottom:$,left:T}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let N="start"===u||"nearest"===u?W-E:"end"===u?k+$:W+F/2-E+$,R="center"===f?C+x/2-T+I:"end"===f?H+I:C-T;const z=[];for(let t=0;t<b.length;t++){const e=b[t],{height:n,width:o,top:r,right:a,bottom:s,left:c}=e.getBoundingClientRect();if("if-needed"===d&&W>=0&&C>=0&&k<=M&&H<=w&&(e===m&&!l(e)||W>=r&&k<=s&&C>=c&&H<=a))return z;const h=getComputedStyle(e),p=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderTopWidth,10),v=parseInt(h.borderRightWidth,10),E=parseInt(h.borderBottomWidth,10);let I=0,$=0;const T="offsetWidth"in e?e.offsetWidth-e.clientWidth-p-v:0,Y="offsetHeight"in e?e.offsetHeight-e.clientHeight-g-E:0,j="offsetWidth"in e?0===e.offsetWidth?0:o/e.offsetWidth:0,B="offsetHeight"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(m===e)I="start"===u?N:"end"===u?N-M:"nearest"===u?i(S,S+M,M,g,E,S+N,S+N+F,F):N-M/2,$="start"===f?R:"center"===f?R-w/2:"end"===f?R-w:i(y,y+w,w,p,v,y+R,y+R+x,x),I=Math.max(0,I+S),$=Math.max(0,$+y);else{I="start"===u?N-r-g:"end"===u?N-s+E+Y:"nearest"===u?i(r,s,n,g,E+Y,N,N+F,F):N-(r+n/2)+Y/2,$="start"===f?R-c-p:"center"===f?R-(c+o/2)+T/2:"end"===f?R-a+v+T:i(c,a,o,p,v+T,R,R+x,x);const{scrollLeft:t,scrollTop:l}=e;I=0===B?0:Math.max(0,Math.min(l+I/B,e.scrollHeight-n/B+Y)),$=0===j?0:Math.max(0,Math.min(t+$/j,e.scrollWidth-o/j+T)),N+=l-I,R+=t-$}z.push({el:e,top:I,left:$})}return z},c=t=>!1===t?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:"start",inline:"nearest"};function d(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((t=>"object"==typeof t&&"function"==typeof t.behavior)(e))return e.behavior(s(t,e));const o="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:r,top:l,left:i}of s(t,c(e))){const t=l-n.top+n.bottom,e=i-n.left+n.right;r.scroll({top:t,left:e,behavior:o})}}},17102:(t,e,n)=>{n.d(e,{Mo:()=>a,YH:()=>l,j3:()=>i});var o=n(50290),r=n(82384);const l=0,i=o.I4.div`
  min-height: ${({height:t})=>t}px;
  width: ${({width:t})=>t===l?"100%":`${t}px`};
`,a=((0,o.I4)(r.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,o.I4.div`
  color: ${({theme:t,status:e="error"})=>{if("help"===e)return t.colorTextSecondary;switch(e){case"error":default:return t.colorError;case"warning":return t.colorWarning;case"info":return t.colorInfo}}};
  text-align: ${({centerText:t})=>t?"center":"left"};
  width: 100%;
`)},82384:(t,e,n)=>{n.d(e,{e:()=>r});var o=n(89467);const r=(0,n(50290).I4)(o.A.Item)`
  ${({theme:t})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${t.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${t.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${t.colorError};\n            font-size: ${t.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${t.sizeUnit}px;\n      font-size: ${t.fontSizeSM}px;\n    }\n  `}
`}}]);