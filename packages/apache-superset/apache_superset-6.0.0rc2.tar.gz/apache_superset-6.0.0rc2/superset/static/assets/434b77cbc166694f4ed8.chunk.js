"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3191],{39514:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var a=r(2445),o=r(50290),n=r(17437),i=r(74098),s=r(74353),l=r.n(s),c=r(96540),d=r(61574),u=r(71519),g=r(95018),h=r(89232),m=r(20237),f=r(64457),p=r(59674),S=r(46506),k=r(86784);const b=o.I4.div`
  ${({theme:e})=>n.AH`
    display: flex;
    flex-direction: row;

    a,
    Link {
      margin-left: ${4*e.sizeUnit}px;
      font-size: ${e.fontSizeSM};
      font-weight: ${e.fontWeightNormal};
      text-decoration: underline;
    }
  `}
`,O=(0,f.Ay)((function({addDangerToast:e,addSuccessToast:t,isReportEnabled:r}){const{alertId:o}=(0,d.g)(),{state:{loading:n,resourceCount:s,resourceCollection:f},fetchData:O}=(0,k.RU)(`report/${o}/log`,(0,i.t)("log"),e,!1),{state:{loading:C,resource:D},fetchResource:Y}=(0,k.fn)("report",(0,i.t)("reports"),e);(0,c.useEffect)((()=>{null===o||C||Y(o)}),[o]);const w=(0,c.useMemo)((()=>[{Cell:({row:{original:{state:e}}})=>(0,a.Y)(S.A,{state:e,isReportEnabled:r}),accessor:"state",Header:(0,i.t)("State"),size:"xs",disableSortBy:!0,id:"state"},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,i.t)("Execution ID"),size:"xs",disableSortBy:!0,id:"uuid"},{Cell:({row:{original:{scheduled_dttm:e}}})=>l()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,i.t)("Scheduled at (UTC)"),id:"scheduled_dttm"},{Cell:({row:{original:{start_dttm:e}}})=>l()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,i.t)("Start at (UTC)"),accessor:"start_dttm",id:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,p.RW)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,i.t)("Duration"),disableSortBy:!0,id:"duration"},{accessor:"value",Header:(0,i.t)("Value"),id:"value"},{accessor:"error_message",Header:(0,i.t)("Error message"),Cell:({row:{original:{error_message:e=""}}})=>(0,a.Y)(g.m,{title:e,placement:"topLeft",children:(0,a.Y)("span",{children:e})}),id:"error_message"}]),[r]),E=`/${r?"report":"alert"}/list/`,T=(0,i.t)("Alert"),x=(0,i.t)("Report");return(0,a.FD)(a.FK,{children:[(0,a.Y)(m.A,{name:(0,a.FD)(b,{children:[(0,a.FD)("span",{children:[D?"Alert"===D.type?`${T}:`:"Report"===D.type?`${x}:`:null:null," ",null==D?void 0:D.name]}),(0,a.Y)("span",{children:(0,a.Y)(u.N_,{to:E,children:(0,i.t)("Back to all")})})]})}),(0,a.Y)(h.uO,{className:"execution-log-list-view",columns:w,count:s,data:f,fetchData:O,initialSort:[{id:"start_dttm",desc:!0}],loading:n,addDangerToast:e,addSuccessToast:t,refreshData:()=>{},pageSize:25})]})}))},46506:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(2445),o=r(50290),n=r(74098),i=r(17437),s=r(95018),l=r(8558),c=r(96611);function d(e,t,r){switch(e){case c.Or.Working:return r.colorPrimaryText;case c.Or.Error:return r.colorErrorText;case c.Or.Success:case c.Or.Noop:return r.colorSuccessText;case c.Or.Grace:return r.colorErrorText;default:return r.colorText}}function u({state:e,isReportEnabled:t=!1}){const r=(0,o.DP)(),u={icon:l.F.CheckOutlined,label:"",status:""};switch(e){case c.Or.Success:u.icon=l.F.CheckOutlined,u.label=t?(0,n.t)("Report sent"):(0,n.t)("Alert triggered, notification sent"),u.status=c.Or.Success;break;case c.Or.Working:u.icon=l.F.Running,u.label=t?(0,n.t)("Report sending"):(0,n.t)("Alert running"),u.status=c.Or.Working;break;case c.Or.Error:u.icon=l.F.CloseOutlined,u.label=t?(0,n.t)("Report failed"):(0,n.t)("Alert failed"),u.status=c.Or.Error;break;case c.Or.Noop:u.icon=l.F.CheckOutlined,u.label=(0,n.t)("Nothing triggered"),u.status=c.Or.Noop;break;case c.Or.Grace:u.icon=l.F.WarningOutlined,u.label=(0,n.t)("Alert Triggered, In Grace Period"),u.status=c.Or.Grace;break;default:u.icon=l.F.CheckOutlined,u.label=(0,n.t)("Nothing triggered"),u.status=c.Or.Noop}const g=u.icon,h=e===c.Or.Working;return(0,a.Y)(s.m,{title:u.label,placement:"bottomLeft",children:(0,a.Y)("span",{css:h?i.AH`
                display: inline-flex;
                align-items: center;
                justify-content: center;
                transform: scale(1.8);
              `:void 0,children:(0,a.Y)(g,{iconSize:"m",iconColor:d(u.status,0,r)})})})}},96611:(e,t,r)=>{var a,o,n,i,s;r.d(t,{Or:()=>o,Z_:()=>i,cM:()=>s,yV:()=>a}),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(a||(a={})),function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(o||(o={})),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(n||(n={})),function(e){e.General="generalSection",e.Content="contentSection",e.Alert="alertConditionSection",e.Schedule="scheduleSection",e.Notification="notificationSection"}(i||(i={})),function(e){e.Dashboard="dashboard",e.Chart="chart"}(s||(s={}))}}]);