"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2368],{583:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var o=n(2445),r=n(90924),i=n(74098),l=n(96540),a=n(82384),s=n(2801),d=n(17102);function c(t){const{data:e,formData:n,height:c,width:u,setDataMask:f,setHoveredFilter:h,unsetHoveredFilter:p,setFocusedFilter:g,unsetFocusedFilter:m,setFilterActive:b,filterState:v,inputRef:w}=t,{defaultValue:M}=n,[y,S]=(0,l.useState)(null!=M?M:[]),F=(0,l.useMemo)((()=>e.reduce(((t,{duration:e,name:n})=>({...t,[e]:n})),{})),[JSON.stringify(e)]),x=t=>{const e=(0,r.A)(t),[n]=e,o=n?F[n]:void 0,i={};n&&(i.time_grain_sqla=n),S(e),f({extraFormData:i,filterState:{label:o,value:e.length?e:null}})};(0,l.useEffect)((()=>{x(null!=M?M:[])}),[JSON.stringify(M)]),(0,l.useEffect)((()=>{var t;x(null!=(t=v.value)?t:[])}),[JSON.stringify(v.value)]);const W=0===(e||[]).length?(0,i.t)("No data"):(0,i.tn)("%s option","%s options",e.length,e.length),H={};v.validateMessage&&(H.extra=(0,o.Y)(d.Mo,{status:v.validateStatus,children:v.validateMessage}));const k=(e||[]).map((t=>{const{name:e,duration:n}=t;return{label:e,value:n}}));return(0,o.Y)(d.j3,{height:c,width:u,children:(0,o.Y)(a.e,{validateStatus:v.validateStatus,...H,children:(0,o.Y)(s.A,{name:n.nativeFilterId,allowClear:!0,value:y,placeholder:W,onChange:x,onBlur:m,onFocus:g,onMouseEnter:h,onMouseLeave:p,ref:w,options:k,onOpenChange:b,sortComparator:()=>0})})})}},13130:(t,e,n)=>{n.d(e,{A:()=>c});const o=t=>"object"==typeof t&&null!=t&&1===t.nodeType,r=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,i=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return r(n.overflowY,e)||r(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},l=(t,e,n,o,r,i,l,a)=>i<t&&l>e||i>t&&l<e?0:i<=t&&a<=n||l>=e&&a>=n?i-t-o:l>e&&a<n||i<t&&a>n?l-e+r:0,a=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},s=(t,e)=>{var n,r,s,d;if("undefined"==typeof document)return[];const{scrollMode:c,block:u,inline:f,boundary:h,skipOverflowHiddenElements:p}=e,g="function"==typeof h?h:t=>t!==h;if(!o(t))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,b=[];let v=t;for(;o(v)&&g(v);){if(v=a(v),v===m){b.push(v);break}null!=v&&v===document.body&&i(v)&&!i(document.documentElement)||null!=v&&i(v,p)&&b.push(v)}const w=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,M=null!=(d=null==(s=window.visualViewport)?void 0:s.height)?d:innerHeight,{scrollX:y,scrollY:S}=window,{height:F,width:x,top:W,right:H,bottom:k,left:C}=t.getBoundingClientRect(),{top:E,right:I,bottom:$,left:N}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let T="start"===u||"nearest"===u?W-E:"end"===u?k+$:W+F/2-E+$,R="center"===f?C+x/2-N+I:"end"===f?H+I:C-N;const z=[];for(let t=0;t<b.length;t++){const e=b[t],{height:n,width:o,top:r,right:a,bottom:s,left:d}=e.getBoundingClientRect();if("if-needed"===c&&W>=0&&C>=0&&k<=M&&H<=w&&(e===m&&!i(e)||W>=r&&k<=s&&C>=d&&H<=a))return z;const h=getComputedStyle(e),p=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderTopWidth,10),v=parseInt(h.borderRightWidth,10),E=parseInt(h.borderBottomWidth,10);let I=0,$=0;const N="offsetWidth"in e?e.offsetWidth-e.clientWidth-p-v:0,O="offsetHeight"in e?e.offsetHeight-e.clientHeight-g-E:0,Y="offsetWidth"in e?0===e.offsetWidth?0:o/e.offsetWidth:0,j="offsetHeight"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(m===e)I="start"===u?T:"end"===u?T-M:"nearest"===u?l(S,S+M,M,g,E,S+T,S+T+F,F):T-M/2,$="start"===f?R:"center"===f?R-w/2:"end"===f?R-w:l(y,y+w,w,p,v,y+R,y+R+x,x),I=Math.max(0,I+S),$=Math.max(0,$+y);else{I="start"===u?T-r-g:"end"===u?T-s+E+O:"nearest"===u?l(r,s,n,g,E+O,T,T+F,F):T-(r+n/2)+O/2,$="start"===f?R-d-p:"center"===f?R-(d+o/2)+N/2:"end"===f?R-a+v+N:l(d,a,o,p,v+N,R,R+x,x);const{scrollLeft:t,scrollTop:i}=e;I=0===j?0:Math.max(0,Math.min(i+I/j,e.scrollHeight-n/j+O)),$=0===Y?0:Math.max(0,Math.min(t+$/Y,e.scrollWidth-o/Y+N)),T+=i-I,R+=t-$}z.push({el:e,top:I,left:$})}return z},d=t=>!1===t?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:"start",inline:"nearest"};function c(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((t=>"object"==typeof t&&"function"==typeof t.behavior)(e))return e.behavior(s(t,e));const o="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:r,top:i,left:l}of s(t,d(e))){const t=i-n.top+n.bottom,e=l-n.left+n.right;r.scroll({top:t,left:e,behavior:o})}}},17102:(t,e,n)=>{n.d(e,{Mo:()=>a,YH:()=>i,j3:()=>l});var o=n(50290),r=n(82384);const i=0,l=o.I4.div`
  min-height: ${({height:t})=>t}px;
  width: ${({width:t})=>t===i?"100%":`${t}px`};
`,a=((0,o.I4)(r.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,o.I4.div`
  color: ${({theme:t,status:e="error"})=>{if("help"===e)return t.colorTextSecondary;switch(e){case"error":default:return t.colorError;case"warning":return t.colorWarning;case"info":return t.colorInfo}}};
  text-align: ${({centerText:t})=>t?"center":"left"};
  width: 100%;
`)},82384:(t,e,n)=>{n.d(e,{e:()=>r});var o=n(89467);const r=(0,n(50290).I4)(o.A.Item)`
  ${({theme:t})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${t.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${t.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${t.colorError};\n            font-size: ${t.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${t.sizeUnit}px;\n      font-size: ${t.fontSizeSM}px;\n    }\n  `}
`}}]);