"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3472],{3513:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(96540),i=o(5556),s=o.n(i),l=o(50290),r=o(17437),a=o(91196),h=o(18865),c=o(2445);const d={value:s().bool,label:s().string,onChange:s().func},p=l.I4.div`
  ${({theme:e})=>r.AH`
    .ControlHeader label {
      color: ${e.colorText};
    }
    span:has(label) {
      padding-right: ${2*e.sizeUnit}px;
    }
    .ant-checkbox-wrapper {
      font-size: ${e.fontSizeSM}px;
    }
  `}
`;class u extends n.Component{onChange(){this.props.onChange(!this.props.value)}renderCheckbox(){return(0,c.Y)(a.A,{onChange:this.onChange.bind(this),checked:!!this.props.value})}render(){return this.props.label?(0,c.Y)(p,{children:(0,c.Y)(h.A,{...this.props,leftNode:this.renderCheckbox(),onClick:this.onChange.bind(this)})}):this.renderCheckbox()}}u.propTypes=d,u.defaultProps={value:!1,onChange:()=>{}}},22111:(e,t,o)=>{o.d(t,{A:()=>C});var n=o(2445),i=o(96540),s=o(61225),l=o(50290),r=o(17437),a=o(74098),h=o(90924),c=o(40984),d=o(2801),p=o(18865);const u=l.I4.div`
  ${({theme:e})=>r.AH`
    display: flex;
    align-items: center;

    & > :first-child {
      margin-right: ${4*e.sizeUnit}px;
      min-width: 0;
      flex: 1;
    }

    & > :nth-child(2) {
      min-width: 0;
      flex: 1;
    }
  `}
`,g=[{value:"prefix",label:(0,a.t)("Prefix")},{value:"suffix",label:(0,a.t)("Suffix")}],C=({onChange:e,value:t={},symbolSelectOverrideProps:o={},currencySelectOverrideProps:l={},symbolSelectAdditionalStyles:C,currencySelectAdditionalStyles:b,...v})=>{const m=(0,s.d4)((e=>{var t;return null==(t=e.common)?void 0:t.currencies})),f=(0,i.useMemo)((()=>(0,h.A)(m).map((e=>({value:e,label:`${(0,c.Q)({symbol:e})} (${e})`})))),[m]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(p.A,{...v}),(0,n.FD)(u,{css:r.AH`
          & > :first-child {
            ${C};
          }
          & > :nth-child(2) {
            ${b};
          }
        `,className:"currency-control-container",children:[(0,n.Y)(d.A,{ariaLabel:(0,a.t)("Currency prefix or suffix"),options:g,placeholder:(0,a.t)("Prefix or suffix"),onChange:o=>{e({...t,symbolPosition:o})},onClear:()=>e({...t,symbolPosition:void 0}),value:null==t?void 0:t.symbolPosition,allowClear:!0,...o}),(0,n.Y)(d.A,{ariaLabel:(0,a.t)("Currency symbol"),options:f,placeholder:(0,a.t)("Currency"),onChange:o=>{e({...t,symbol:o})},onClear:()=>e({...t,symbol:void 0}),value:null==t?void 0:t.symbol,allowClear:!0,allowNewOptions:!0,...l})]})]})}},35273:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(2445),i=o(50290),s=o(95018),l=o(7437),r=o(8558);const a=function({warningMarkdown:e,size:t,marginRight:o}){const a=(0,i.DP)();return(0,n.Y)(s.m,{id:"warning-tooltip",title:(0,n.Y)(l.z,{source:e}),children:(0,n.Y)(r.F.WarningOutlined,{iconColor:a.colorWarning,iconSize:t,css:{marginRight:null!=o?o:2*a.sizeUnit}})})}},61632:(e,t,o)=>{o.d(t,{Ay:()=>C});var n=o(96540),i=o(5556),s=o.n(i),l=o(78878),r=o(74098),a=o(17437),h=o(2801),c=o(18865),d=o(2445);const p={ariaLabel:s().string,autoFocus:s().bool,choices:s().array,clearable:s().bool,description:s().oneOfType([s().string,s().node]),disabled:s().bool,freeForm:s().bool,isLoading:s().bool,mode:s().string,multi:s().bool,isMulti:s().bool,name:s().string.isRequired,onChange:s().func,onFocus:s().func,onSelect:s().func,onDeselect:s().func,value:s().oneOfType([s().string,s().number,s().array]),default:s().oneOfType([s().string,s().number,s().array]),showHeader:s().bool,optionRenderer:s().func,valueKey:s().string,options:s().array,placeholder:s().string,filterOption:s().func,tokenSeparators:s().arrayOf(s().string),notFoundContent:s().object,label:s().string,renderTrigger:s().bool,validationErrors:s().array,rightNode:s().node,leftNode:s().node,onClick:s().func,hovered:s().bool,tooltipOnClick:s().func,warning:s().string,danger:s().string},u=(e,t)=>e.value-t.value,g=(e,t="value")=>!(!e||0===e.length)&&e.every((e=>{if(Array.isArray(e)){const[t]=e;return"number"==typeof t}return"object"==typeof e&&null!==e?"number"==typeof e[t]:"number"==typeof e}));class C extends n.PureComponent{constructor(e){super(e),this.state={options:this.getOptions(e)},this.onChange=this.onChange.bind(this),this.handleFilterOptions=this.handleFilterOptions.bind(this)}UNSAFE_componentWillReceiveProps(e){if(!(0,l.A)(e.choices,this.props.choices)||!(0,l.A)(e.options,this.props.options)){const t=this.getOptions(e);this.setState({options:t})}}onChange(e){const{valueKey:t}=this.props;let o=e;Array.isArray(e)&&(o=e.map((e=>void 0!==(null==e?void 0:e[t])?e[t]:e))),"object"==typeof e&&void 0!==(null==e?void 0:e[t])&&(o=e[t]),this.props.onChange(o,[])}getOptions(e){return(e=>{const{choices:t,optionRenderer:o,valueKey:n}=e;let i=[];return e.options?i=e.options.map((e=>({...e,value:e[n],label:o?o(e):e.label||e[n]}))):t&&(i=t.map((e=>{if(Array.isArray(e)){const[t,o]=e.length>1?e:[e[0],e[0]];return{value:t,label:o}}return Object.is(e)?{...e,value:e[n],label:e.label||e[n]}:{value:e,label:e}}))),i})(e)}handleFilterOptions(e,t){const{filterOption:o}=this.props;return o({data:t},e)}render(){const{ariaLabel:e,autoFocus:t,clearable:o,disabled:n,filterOption:i,freeForm:s,isLoading:l,isMulti:p,label:C,multi:b,name:v,notFoundContent:m,onFocus:f,onSelect:y,onDeselect:x,placeholder:A,showHeader:F,tokenSeparators:S,value:k,description:Y,renderTrigger:O,rightNode:D,leftNode:w,validationErrors:$,onClick:P,hovered:T,tooltipOnClick:z,warning:L,danger:N}=this.props,R={name:v,label:C,description:Y,renderTrigger:O,rightNode:D,leftNode:w,validationErrors:$,onClick:P,hovered:T,tooltipOnClick:z,warning:L,danger:N},U={allowNewOptions:s,autoFocus:t,ariaLabel:e||("string"==typeof C?C:(0,r.t)("Select ...")),allowClear:o,disabled:n,filterOption:!i||"function"!=typeof i||this.handleFilterOptions,header:F&&(0,d.Y)(c.A,{...R}),loading:l,mode:this.props.mode||(p||b?"multiple":"single"),name:`select-${v}`,onChange:this.onChange,onFocus:f,onSelect:y,onDeselect:x,options:this.state.options,placeholder:A,sortComparator:(H=this.props.choices,_=this.props.options,I=this.props.valueKey,M=this.props.sortComparator,M||(_&&g(_,I)||H&&g(H,I)?u:void 0)),value:(()=>{const e=null!=k?k:void 0!==this.props.default?this.props.default:void 0;if(null!==e||this.state.options.find((e=>null===e.value)))return e})(),tokenSeparators:S,notFoundContent:m};var H,_,I,M;return(0,d.Y)("div",{css:e=>a.AH`
          .type-label {
            margin-right: ${2*e.sizeUnit}px;
          }
          .Select__multi-value__label > span,
          .Select__option > span,
          .Select__single-value > span {
            display: flex;
            align-items: center;
          }
        `,children:(0,d.Y)(h.A,{...U})})}}C.propTypes=p,C.defaultProps={autoFocus:!1,choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:()=>{},onFocus:()=>{},showHeader:!0,valueKey:"value"}},65853:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(2445),i=o(50290),s=o(17437),l=o(8558),r=o(95018);function a({title:e,isSelected:t,children:o,onSelect:a,info:h}){const c=(0,i.DP)();return(0,n.FD)("div",{css:{paddingBottom:2*c.sizeUnit,opacity:t?1:.6},children:[(0,n.FD)("div",{role:"button",tabIndex:0,onClick:a,css:s.AH`
          display: flex;
          align-items: center;
          cursor: ${a?"pointer":"default"};
        `,children:[(0,n.Y)("strong",{children:e}),h&&(0,n.Y)(r.m,{title:h,css:s.AH`
              margin-left: ${c.sizeUnit}px;
              margin-right: ${c.sizeUnit}px;
            `,children:(0,n.Y)(l.F.InfoCircleOutlined,{role:"img",iconSize:"s",iconColor:c.colorIcon})}),(0,n.Y)(l.F.CheckOutlined,{iconSize:"s",role:"img",iconColor:t?c.colorPrimary:c.colorIcon})]}),(0,n.Y)("div",{css:s.AH`
          margin-left: ${c.sizeUnit}px;
          margin-top: ${c.sizeUnit}px;
        `,children:o})]})}},75536:(e,t,o)=>{o.d(t,{A:()=>y});var n=o(96540),i=o(5556),s=o.n(i),l=o(91196),r=o(47152),a=o(16370),h=o(23576),c=o(27509),d=o(74098),p=o(65853),u=o(18865),g=o(61632),C=o(2445);const b="latlong",v="delimited",m="geohash",f={onChange:s().func,value:s().object,animation:s().bool,choices:s().array};class y extends n.Component{constructor(e){super(e);const t=e.value||{};let o;e.choices.length>0&&(o=e.choices[0][0]),this.state={type:t.type||b,delimiter:t.delimiter||",",latCol:t.latCol||o,lonCol:t.lonCol||o,lonlatCol:t.lonlatCol||o,reverseCheckbox:t.reverseCheckbox||!1,geohashCol:t.geohashCol||o,value:null,errors:[]},this.toggleCheckbox=this.toggleCheckbox.bind(this),this.onChange=this.onChange.bind(this),this.renderReverseCheckbox=this.renderReverseCheckbox.bind(this)}componentDidMount(){this.onChange()}onChange(){const{type:e}=this.state,t={type:e},o=[],n=(0,d.t)("Invalid lat/long configuration.");e===b?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||o.push(n)):e===v?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||o.push(n)):e===m&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||o.push(n)),this.setState({value:t,errors:o}),this.props.onChange(t,o)}setType(e){this.setState({type:e},this.onChange)}toggleCheckbox(){this.setState((e=>({reverseCheckbox:!e.reverseCheckbox})),this.onChange)}renderLabelContent(){return this.state.errors.length>0?"N/A":this.state.type===b?`${this.state.lonCol} | ${this.state.latCol}`:this.state.type===v?`${this.state.lonlatCol}`:this.state.type===m?`${this.state.geohashCol}`:null}renderSelect(e,t){return(0,C.Y)(g.Ay,{ariaLabel:e,name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:()=>{this.setType(t)},onChange:t=>{this.setState({[e]:t},this.onChange)}})}renderReverseCheckbox(){return(0,C.FD)("span",{children:[(0,d.t)("Reverse lat/long "),(0,C.Y)(l.A,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox})]})}renderPopoverContent(){return(0,C.FD)("div",{style:{width:"300px"},children:[(0,C.Y)(p.A,{title:(0,d.t)("Longitude & Latitude columns"),isSelected:this.state.type===b,onSelect:this.setType.bind(this,b),children:(0,C.FD)(r.A,{gutter:16,children:[(0,C.FD)(a.A,{xs:24,md:12,children:[(0,d.t)("Longitude"),this.renderSelect("lonCol",b)]}),(0,C.FD)(a.A,{xs:24,md:12,children:[(0,d.t)("Latitude"),this.renderSelect("latCol",b)]})]})}),(0,C.Y)(p.A,{title:(0,d.t)("Delimited long & lat single column"),info:(0,d.t)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===v,onSelect:this.setType.bind(this,v),children:(0,C.FD)(r.A,{gutter:16,children:[(0,C.FD)(a.A,{xs:24,md:12,children:[(0,d.t)("Column"),this.renderSelect("lonlatCol",v)]}),(0,C.Y)(a.A,{xs:24,md:12,children:this.renderReverseCheckbox()})]})}),(0,C.Y)(p.A,{title:(0,d.t)("Geohash"),isSelected:this.state.type===m,onSelect:this.setType.bind(this,m),children:(0,C.FD)(r.A,{gutter:16,children:[(0,C.FD)(a.A,{xs:24,md:12,children:[(0,d.t)("Column"),this.renderSelect("geohashCol",m)]}),(0,C.Y)(a.A,{xs:24,md:12,children:this.renderReverseCheckbox()})]})})]})}render(){return(0,C.FD)("div",{children:[(0,C.Y)(u.A,{...this.props}),(0,C.Y)(h.A,{content:this.renderPopoverContent(),placement:"topLeft",trigger:"click",children:(0,C.Y)(c.JU,{className:"pointer",children:this.renderLabelContent()})})]})}}y.propTypes=f,y.defaultProps={onChange:()=>{},animation:!0,choices:[]}},88843:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(38221),i=o.n(n),s=o(2445),l=o(96540),r=o(17942),a=o(14125),h=o(18865),c=o(23575),d=o(17355);const p=e=>null==e?"":String(e);class u extends l.Component{constructor(e){super(e),this.initialValue=void 0,this.onChange=e=>{var t,o;let n=e;const i=[];if(""!==e&&this.props.isFloat){const t=(0,r.A)(e);t?i.push(t):n=e.match(/.*([.0])$/g)?e:parseFloat(e)}if(""!==e&&this.props.isInt){const t=(0,a.A)(e);t?i.push(t):n=parseInt(e,10)}null==(t=(o=this.props).onChange)||t.call(o,n,i)},this.debouncedOnChange=i()((e=>{this.onChange(e)}),c.Y.FAST_DEBOUNCE),this.onChangeWrapper=e=>{const{value:t}=e.target;this.setState({value:t},(()=>{this.debouncedOnChange(t)}))},this.initialValue=e.value,this.state={value:p(this.initialValue)}}render(){let{value:e}=this.state;return this.initialValue!==this.props.value&&(this.initialValue=this.props.value,e=p(this.props.value)),(0,s.FD)("div",{children:[(0,s.Y)(h.A,{...this.props}),(0,s.Y)(d.A,{type:"text",placeholder:this.props.placeholder,onChange:this.onChangeWrapper,onFocus:this.props.onFocus,value:e,disabled:this.props.disabled,"aria-label":this.props.label})]})}}}}]);