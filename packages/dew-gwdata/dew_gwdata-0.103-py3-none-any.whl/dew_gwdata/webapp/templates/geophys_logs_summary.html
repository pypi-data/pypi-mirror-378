{% extends "app_layout.html" %}

{% block header_title %}
{{ title }} - Geophysical logs summary
{% endblock %}

{% block title %}
Geophysical logs summary - {{ title }}
{% endblock %}

{% block content %}

<p>
    <form>
        <div class="floating-block">
            <p class="form">
                <label>From job no:</label>
                <input type="number" name="job_no_from" value="{{ query.job_no_from }}"/>
            </p>
            <p class="form">
                <label>To job no:</label>
                <input type="number" name="job_no_to" value="{{ query.job_no_to }}"/>
            </p>
            <p class="form">(Use 0 to disable)</p>
        </div>
        <div class="floating-block">
            <p class="form"></p>
                <label>Job no:</label>
                <input type="number" name="job_no" value="{{ query.job_no }}" /> 
                <br />(Enter 0 to disable)
            </p>
            <p class="form">
                <label>Special URL string:</label>
                <input type="text" name="jobstr" value="{{ query.jobstr }}" />
            </p>
        </div>
        <div class="floating-block">
            <p class="form">
                <label>Logged date from:</label>
                <input type="date" name="logged_date_from" value="{{ query.logged_date_from }}" />
            </p>
            <p class="form">
                <label>Logged date to:</label>
                <input type="date" name="logged_date_to" value="{{ query.logged_date_to }}" />
            </p>
        </div>
        <div class="floating-block">
            <p class="form">
                <label>Search for location:</label>
                <input type="text" name="location" value="{{ query.location }}" />
            </p>
        </div>
        <br />
        <b>Filter:</b>
        <br />
        <div class="floating-block">
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Location contains:</label>
                    <input type="text" name="location_contains" value="{{ query.location_contains }}" />
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Purpose code:</label>
                    <input type="text" name="purpose_contains" value="{{ query.purpose_contains }}" />
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Vehicle code:</label>
                    <input type="text" name="vehicle_contains" value="{{ query.vehicle_contains }}"/>
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Minimum log depth:</label>
                    <input type="number" name="log_depth_min" value="{{ query.log_depth_min }}"/> m
                    <br />(Enter 0 to disable)
                </p>
            </div>
        </div>
        <br>
        <b>Sort:</b>
        <br />
        <div class="floating-block">
            <p class="form">
                <label>Sort by:</label>
                <select name="sort">
                    <option value="logged_date">Logged date</option>
                    <option value="job_no">Job number</option>
                    <option value="obs_no">Obswell ID</option>
                    <option value="unit_hyphen">Unit number</option>
                    <option value="dh_no">Drillhole number</option>
                </select>
            </p>
            <p class="form">
                <label>Sort order:</label>
                <select name="order">
                    <option value="ascending">Ascending</option>
                    <option value="descending">Descending</option>
                </select>
            </p>
        </div>
        <b>Other</b>
        <br />
        <div class="floating-block">
            <label>SA Geodata environment:</label>
            <input type="text" name="env" value="{{ env }}" /> (prod, test, dev)
        </div>
        <br>
        <input type="reset">
        <button type="submit" formaction="/app/geophys_logs_summary">
            Load
        </button>
    </form>
</p>

    <p>Load <a href='/app/wells_summary?{{ wells_query_params }}&env={{ env }}'>{{ valid_dh_nos|length }}</a> wells - use this link to access CSV downloads etc.</p>

    {{ table|safe }}

{% endblock %}