{% extends "app_layout.html" %}

{% block header_title %}
{{ title }} - Permits
{% endblock %}

{% block title %}
Permits - {{ title }}
{% endblock %}

{% block content %}

<p>
    <form>
        <div class="floating-block">
            <p class="form">
                <label>From permit no:</label>
                <input type="number" name="permit_no_from" value="{{ query.permit_no_from }}"/>
            </p>
            <p class="form">
                <label>To permit no:</label>
                <input type="number" name="permit_no_to" value="{{ query.permit_no_to }}"/>
            </p>
            <p class="form">(Use 0 to disable)</p>
        </div>
        <div class="floating-block">
            <p class="form"></p>
                <label>Permit no:</label>
                <input type="number" name="permit_no" value="{{ query.permit_no }}" /> 
                <br />(Enter 0 to disable)
            </p>
        </div>
        <div class="floating-block">
            <p class="form">
                <label>Issue date from:</label>
                <input type="date" name="issue_date_from" value="{{ query.issue_date_from }}" />
            </p>
            <p class="form">
                <label>Issue date to:</label>
                <input type="date" name="issue_date_to" value="{{ query.issue_date_to }}" />
            </p>
        </div>
        <div class="floating-block">
            <p class="form">
                <label>Permit holder name:</label>
                <input type="text" name="holder_name" value="{{ query.holder_name }}"/>
                <br />(Use % as a wildcard e.g. "DON%" will match "DON DRAPER" as well as "DONNIE DARKO")
            </p>
        </div>
        <br />
        <b>Filter:</b>
        <br />
        <!-- <div class="floating-block">
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Location contains:</label>
                    <input type="text" name="location_contains" value="{{ query.location_contains }}" />
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Purpose code:</label>
                    <input type="text" name="purpose_contains" value="{{ query.purpose_contains }}" />
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Vehicle code:</label>
                    <input type="text" name="vehicle_contains" value="{{ query.vehicle_contains }}"/>
                </p>
            </div>
            <div class="invisible-floating-block">
                <p class="form">
                    <label>Minimum log depth:</label>
                    <input type="number" name="log_depth_min" value="{{ query.log_depth_min }}"/> m
                    <br />(Enter 0 to disable)
                </p>
            </div>
        </div> -->
        <br>
        <b>Sort:</b>
        <br />
        <!-- <div class="floating-block">
            <p class="form">
                <label>Sort by:</label>
                <select name="sort">
                    <option value="logged_date">Logged date</option>
                    <option value="job_no">Job number</option>
                    <option value="obs_no">Obswell ID</option>
                    <option value="unit_hyphen">Unit number</option>
                    <option value="dh_no">Drillhole number</option>
                </select>
            </p>
            <p class="form">
                <label>Sort order:</label>
                <select name="order">
                    <option value="ascending">Ascending</option>
                    <option value="descending">Descending</option>
                </select>
            </p>
        </div> -->
        <b>Other</b>
        <br />
        <div class="floating-block">
            <label>SA Geodata environment:</label>
            <input type="text" name="env" value="{{ env }}" /> (prod, test, dev)
        </div>
        <br>
        <input type="reset">
        <button type="submit" formaction="/app/permits">
            Load
        </button>
    </form>
</p>


    {{ permits_table|safe }}

{% endblock %}