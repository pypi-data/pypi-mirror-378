<?xml version="1.0"?>
<odoo>
  <record id="view_contract_form_tariff_change_wizard_button_switchboard" model="ir.ui.view">
    <field name="name">contract.form.tariff.change.wizard.button</field>
    <field name="model">contract.contract</field>
    <field name="inherit_id" ref="somconnexio.view_contract_form_tariff_change_wizard_button"/>
    <field name="arch" type="xml">
      <xpath expr="//form" position="inside">
        <field name="service_technology_id" invisible="1"/>
      </xpath>
      <xpath expr="//button[@name='%(somconnexio.action_contract_tariff_change_wizard)d'][2]" position="attributes">
        <attribute name="attrs">
                    {
                        'invisible': [
                            ('service_technology_id', 'not in', [
                                %(somconnexio.service_technology_fiber)d,
                                %(switchboard_somconnexio.service_technology_switchboard)d
                            ])
                        ]
                    }
                </attribute>
        <attribute name="string">Change Tariff BA or CV</attribute>
      </xpath>
    </field>
  </record>
</odoo>
