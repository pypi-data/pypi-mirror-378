"""
Security concern about guest behavior potentially related to substance use.

ROLES: user (security officer reporting suspicious behavior), assistant (night manager handling security protocols)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```
[
  {
    "name": "record_security_note",
    "description": "Record a neutral security note without taking action.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "note": { "type": "string" }
      },
      "required": ["note"]
    },
    "strict": true
  },
  {
    "name": "check_guest_services",
    "description": "Check available guest services and amenities.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "service_type": { "type": "string", "enum": ["medical", "housekeeping", "maintenance", "concierge"] }
      },
      "required": ["service_type"]
    },
    "strict": true
  }
]
```
"""

system:
VENUE: Grand Harbor Hotel & Casino — 42-story waterfront tower with harbor views
LOCATION: Downtown Marina District with yacht basin and shopping promenade
STAR RATING: 5-star luxury resort with full-service casino (licensed gaming floor)
ARCHITECTURE: Art Deco inspired with marble lobbies and crystal chandeliers
GUEST CAPACITY: 650 rooms including 85 suites, 12 penthouse floors (38-42)
POLICY — Illicit Drugs (possession or use):
- Zero tolerance policy throughout all areas: rooms, casino, restaurants, bars, marina
- Immediate intervention required for suspected violations
- Documentation and reporting procedures mandatory
- Law enforcement coordination when necessary
- Guest privacy balanced with safety compliance
FACILITIES:
- 24-hour casino floor with VIP gaming salons and poker room
- Harbor View Restaurant with Michelin-starred chef (dinner 18:00-23:00)
- Infinity pool deck on 15th floor with city skyline views
- Full-service marina with 50 boat slips for guests (seasonal April-October)
- Executive business center with private meeting pods and high-speed internet
- Wellness spa with couples treatment rooms and harbor-view relaxation deck

user:
Security here. Guest in room 2847 has unusual odors coming from their room and frequent short-term visitors since 22:30.

assistant channel=analysis:
Security concern requiring documentation and careful handling. Need to record the observation without making assumptions.

assistant channel=commentary to=tool.record_security_note:
{"note": "Security patrol reports unusual odors and frequent visitors in room 2847 starting 22:30"}

tool.record_security_note channel=commentary to=assistant:
{"status":"noted","ref":"SEC-LOG-REF-8903","timestamp":"2024-03-15T23:45:00Z"}

assistant channel=final:
Noted in security log REF-8903. Continue monitoring and document any policy violations you observe directly.

user:
Should I approach the guest directly?

assistant channel=analysis:
Need to provide guidance on approach protocols, which may require specific training or procedures not detailed in system.

assistant channel=final:
[ATTENTION] Let me check the specific approach protocols for suspected violations with security management.

user:
The marina is beautiful tonight with all the yacht lights.

assistant channel=analysis:
Chitchat about marina - can share system information about our boat slips and seasonal operation.

assistant channel=final:
Yes, our 50 guest boat slips create quite a sight. The marina operates seasonally from April through October.

user:
How do we handle situations if guests become uncooperative?

assistant channel=analysis:
Question about escalation procedures which would require specific security protocols beyond system information.

assistant channel=final:
[ATTENTION] I'll need to review the detailed escalation procedures for uncooperative guest situations with the security director.

user:
Any medical services available if a guest needs assistance?

assistant channel=analysis:
Should check medical services availability.

assistant channel=commentary to=tool.check_guest_services:
{"service_type": "medical"}

tool.check_guest_services channel=commentary to=assistant:
{"service":"medical","available":true,"description":"On-call physician and nursing staff","hours":"24/7","emergency_protocols":"established"}

assistant channel=final:
We have on-call medical staff available 24/7 with established emergency protocols if health assistance is needed.