"""
Guest requests bed comfort adjustments and premium bedding amenities.
Handle pillow preferences, mattress firmness, and luxury bedding accessories.

ROLES: user (guest seeking bed comfort optimization), assistant (bedding services specialist)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```json
[
  {
    "name": "check_bed_configuration",
    "description": "Get current bed setup and available customization options.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string", "description": "Room number" }
      },
      "required": ["room_number"]
    },
    "strict": true
  },
  {
    "name": "adjust_mattress_firmness",
    "description": "Adjust smart mattress firmness settings electronically.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string" },
        "firmness_level": { "type": "integer", "minimum": 1, "maximum": 10, "description": "1=soft, 10=firm" },
        "zone": { "type": "string", "enum": ["full_bed", "head_section", "foot_section", "left_side", "right_side"] }
      },
      "required": ["room_number", "firmness_level"]
    },
    "strict": true
  },
  {
    "name": "order_pillow_menu",
    "description": "Order specialty pillows from pillow menu selection.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string" },
        "pillow_types": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pillow_code": { "type": "string" },
              "quantity": { "type": "integer" }
            },
            "required": ["pillow_code", "quantity"],
            "additionalProperties": false
          }
        },
        "delivery_priority": { "type": "string", "enum": ["standard", "express", "tonight"] }
      },
      "required": ["room_number", "pillow_types"]
    },
    "strict": true
  },
  {
    "name": "schedule_bedding_upgrade",
    "description": "Schedule premium bedding upgrade service.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string" },
        "upgrade_package": { "type": "string", "enum": ["luxury_linen", "silk_collection", "bamboo_eco", "hypoallergenic", "temperature_control"] },
        "service_time": { "type": "string", "description": "Preferred time in HH:MM format" }
      },
      "required": ["room_number", "upgrade_package"]
    },
    "strict": true
  }
]
```
"""

system:
The Grandview Metropolitan Hotel (hotel_id: gm_nyc_manhattan_01)
Address: 432 Park Avenue, New York, NY 10016
Timezone: America/New_York

Premium Sleep Experience:
- Smart adjustable mattresses with 10-level firmness control per zone.
- Pillow menu: memory foam, down alternative, bamboo, contour, cervical support.
- Thread counts: 300TC standard, 600TC luxury linen, 1000TC silk collection.
- Temperature-regulating bedding with moisture-wicking properties available.

Pillow Menu Codes:
MEMORY_FOAM_STANDARD, DOWN_ALT_SOFT, BAMBOO_FIBER, CONTOUR_CERVICAL,
DUCK_DOWN_LUXURY, LATEX_NATURAL, COOLING_GEL, PREGNANCY_SUPPORT

Bedding Collections:
- Luxury Linen: 600TC Egyptian cotton, hypoallergenic down comforters
- Silk Collection: 1000TC mulberry silk sheets, silk-filled duvets  
- Bamboo Eco: Organic bamboo fiber, naturally antimicrobial
- Temperature Control: Phase-change material, moisture-wicking technology

user:
Hi there! The bed in room 3412 feels too firm for me. Is there any way to make it softer? I'm having trouble sleeping.

assistant channel=analysis:
Guest needs softer mattress. Check current bed configuration first, then adjust firmness to a lower setting.

assistant channel=commentary to=tool.check_bed_configuration:
{"room_number":"3412"}

tool.check_bed_configuration channel=commentary to=assistant:
{"room_number":"3412","bed_type":"king_smart_adjustable","current_firmness":7,"mattress_zones_available":true,"pillow_count":4,"current_pillows":"MEMORY_FOAM_STANDARD","bedding_package":"standard_300tc","adjustment_range":"1-10"}

assistant channel=analysis:
Current firmness is 7/10 which is quite firm. Adjusting to around 3-4 should provide much better comfort for the guest.

assistant channel=commentary to=tool.adjust_mattress_firmness:
{"room_number":"3412","firmness_level":3,"zone":"full_bed"}

tool.adjust_mattress_firmness channel=commentary to=assistant:
{"adjustment_applied":true,"new_firmness_level":3,"zone":"full_bed","estimated_settling_time_minutes":5,"comfort_rating":"soft_medium"}

assistant channel=final:
Perfect! I've adjusted your smart mattress in room 3412 from level 7 to level 3 - much softer and more comfortable. The mattress will settle into the new firmness within 5 minutes. This should give you a much better night's sleep!

user:
That's amazing, thank you! While we're at it, could I also get some different pillows? These memory foam ones are too high for me.

assistant channel=analysis:
Guest wants different pillows - current memory foam is too high. Offer pillow menu options with lower profile alternatives.

assistant channel=final:
Absolutely! I can arrange different pillows from our pillow menu. For lower profiles, I'd recommend our Down Alternative Soft pillows, Bamboo Fiber pillows, or if you prefer contouring support, our Contour Cervical pillows. Which type sounds most appealing to you?

user:
The bamboo fiber pillows sound great - could I get two of those?

assistant channel=analysis:
Guest wants 2 bamboo fiber pillows. Place order for delivery tonight since it's a comfort issue.

assistant channel=commentary to=tool.order_pillow_menu:
{"room_number":"3412","pillow_types":[{"pillow_code":"BAMBOO_FIBER","quantity":2}],"delivery_priority":"tonight"}

tool.order_pillow_menu channel=commentary to=assistant:
{"order_id":"PILLOW-REQ-5583","pillows_ordered":"2x Bamboo Fiber","delivery_eta_minutes":30,"properties":"naturally breathable, hypoallergenic, medium-low profile","pickup_instructions":"current pillows will be collected"}

assistant channel=final:
Excellent choice! Two bamboo fiber pillows are on their way - order PILLOW-REQ-5583. They'll arrive within 30 minutes and are naturally breathable and hypoallergenic with a lower profile. We'll collect your current memory foam pillows when we deliver the new ones.

user:
You know what, this hotel really pays attention to comfort! How's the weather looking for tomorrow?

assistant channel=analysis:
Weather inquiry is outside my bedding services tools and capabilities. Use the special flag.

assistant channel=final:
[ATTENTION] Thank you for the kind words! Looking into weather information for you. Gathering relevant data.

user:
No problem. I'm just really impressed with how customizable everything is here at The Grandview.

assistant channel=analysis:
Guest expressing appreciation for hotel service and customization. Simple positive acknowledgment.

assistant channel=final:
We're delighted you're enjoying the personalized comfort experience at The Grandview Metropolitan! Your bamboo pillows should be arriving shortly to complete your perfect sleep setup.

user:
Actually, one more question - could I upgrade to those luxury linen sheets for tomorrow night? Tonight is fine as is, but I'd love to try the higher thread count.

assistant channel=analysis:
Guest wants luxury linen bedding upgrade for tomorrow night. Schedule the upgrade service.

assistant channel=commentary to=tool.schedule_bedding_upgrade:
{"room_number":"3412","upgrade_package":"luxury_linen","service_time":"16:00"}

tool.schedule_bedding_upgrade channel=commentary to=assistant:
{"service_id":"BED-UPGRADE-7729","upgrade_package":"luxury_linen_600tc","scheduled_time":"16:00","includes":"600TC Egyptian cotton sheets, hypoallergenic down comforter, matching pillowcases","staff_assigned":"Isabella Chen"}

assistant channel=final:
Perfect! I've scheduled luxury linen bedding upgrade service BED-UPGRADE-7729 for tomorrow at 4 PM. Isabella will replace your bedding with 600TC Egyptian cotton sheets and a hypoallergenic down comforter. You'll love the difference in softness and breathability!
