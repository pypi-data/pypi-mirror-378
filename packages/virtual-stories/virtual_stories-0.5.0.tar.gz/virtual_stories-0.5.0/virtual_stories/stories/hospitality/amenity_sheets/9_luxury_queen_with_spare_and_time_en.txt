"""
Guest asks for luxury_600tc queen set with one spare and a late afternoon remake; verify and schedule.

ROLES: user (guest upgrading to luxury), assistant (housekeeping desk)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```json
[
  {
    "name": "check_linen_inventory",
    "description": "Check availability of sheet collections and sizes.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "collection": { "type": "string", "enum": ["standard_300tc", "luxury_600tc", "bamboo_eco", "silk_1000tc"] },
        "size": { "type": "string", "enum": ["king", "queen", "twin"] }
      },
      "required": ["collection", "size"]
    },
    "strict": true
  },
  {
    "name": "order_linen_delivery",
    "description": "Deliver specified sheet collection to room.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string" },
        "collection": { "type": "string", "enum": ["standard_300tc", "luxury_600tc", "bamboo_eco", "silk_1000tc"] },
        "size": { "type": "string", "enum": ["king", "queen", "twin"] },
        "quantity_sets": { "type": "integer", "minimum": 1, "maximum": 4 }
      },
      "required": ["room_number", "collection", "size", "quantity_sets"]
    },
    "strict": true
  },
  {
    "name": "schedule_bed_service",
    "description": "Schedule housekeeping to remake bed with specified sheets.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string" },
        "collection": { "type": "string", "enum": ["standard_300tc", "luxury_600tc", "bamboo_eco", "silk_1000tc"] },
        "preferred_time": { "type": "string", "description": "HH:MM in 24h local time" }
      },
      "required": ["room_number", "collection"]
    },
    "strict": true
  }
]
```
"""

system:
Hotel: Capital View Hotel Washington DC (hotel_id: cvh_dca_09)
Address: 555 New Jersey Ave NW, Washington, DC 20001
Timezone: America/New_York

Program:
- luxury_600tc: soft sateen, queen/king
- bamboo_eco: hypoallergenic option
- standard_300tc: crisp cotton
- silk_1000tc: limited

Windows & Policy:
- Same-day changes: 08:00–22:00
- Priority: 15:00–18:00
- Turn-down: 19:00–21:30
- Spare sets: up to 2 (non-silk)
- Contact: Housekeeping ext 4

Ops Details:
- Delivery ETA: 20–35 minutes
- Notes added to room profile
- Pillowcase refresh on request
- Inventory verified hourly
- Fragrance-free wash available for bamboo_eco

user:
Hi—could you switch me to luxury_600tc queen sheets and leave one spare set? Room 1910. Ideally 17:10 remake.

assistant channel=analysis:
Check luxury_600tc queen; order 2 sets; schedule 17:10 within priority.

assistant channel=commentary to=tool.check_linen_inventory:
{"collection":"luxury_600tc","size":"queen"}

tool.check_linen_inventory channel=commentary to=assistant:
{"collection":"luxury_600tc","size":"queen","available_sets":10,"estimated_delivery_minutes":24}

assistant channel=analysis:
Place order for 2 sets and schedule 17:10.

assistant channel=commentary to=tool.order_linen_delivery:
{"room_number":"1910","collection":"luxury_600tc","size":"queen","quantity_sets":2}

tool.order_linen_delivery channel=commentary to=assistant:
{"room_number":"1910","collection":"luxury_600tc","size":"queen","quantity_sets":2,"delivery_eta_minutes":24,"delivery_id":"LINEN-QL-2274"}

assistant channel=commentary to=tool.schedule_bed_service:
{"room_number":"1910","collection":"luxury_600tc","preferred_time":"17:10"}

tool.schedule_bed_service channel=commentary to=assistant:
{"scheduled":true,"room_number":"1910","collection":"luxury_600tc","window":"17:00–17:20"}

assistant channel=final:
Confirmed—two luxury_600tc queen sets are on the way (ETA ~24 minutes). We’ll remake at 17:10 (window 17:00–17:20) and store the spare in your closet.

user:
Is turn-down available afterward?

assistant channel=analysis:
System: 19:00–21:30.

assistant channel=final:
Yes—turn-down is available from 19:00 to 21:30 upon request.

user:
Thanks! The Capitol dome looked great at sunset.

assistant channel=analysis:
Chit-chat.

assistant channel=final:
It’s a beautiful view—enjoy your evening.

user:
Could you recommend a quiet wine bar?

assistant channel=analysis:
Beyond linen scope; attention flag.

assistant channel=final:
[ATTENTION] I can look up a few nearby wine bars and share suggestions.
