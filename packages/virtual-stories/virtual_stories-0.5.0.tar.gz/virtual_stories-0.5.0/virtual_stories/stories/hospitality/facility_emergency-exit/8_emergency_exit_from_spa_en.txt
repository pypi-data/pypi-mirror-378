"""
Guest asks about emergency exit from spa; provide route information, include small talk, and one background acknowledgment.

ROLES: user (guest relaxing in spa asking about emergency safety), assistant (hotel staff providing spa safety information)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```json
[
  {
    "name": "get_emergency_exit_location",
    "description": "Get the location of the nearest emergency exit.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "current_location": {
          "type": "string",
          "description": "The guest's current location in the hotel."
        }
      },
      "required": ["current_location"]
    },
    "strict": true
  }
]
```
"""

system:
Hotel: Starlight Hotel (hotel_id: st_nyc_15)
Address: 123 Broadway, New York, NY 10001
Timezone: America/New_York

Emergency Safety Features:
- Emergency exits: Clearly marked with illuminated signs on every floor
- Fire safety: Smoke detectors, sprinkler systems, and fire extinguishers throughout
- Emergency lighting: Battery-powered backup lighting in all corridors
- Stairwells: Fire-rated stairwells with emergency lighting and handrails
- Elevator safety: Emergency stop buttons and communication systems
- Guest room safety: Emergency evacuation plans posted in each room
- Assembly point: Designated meeting area in the parking garage

Hotel Layout:
- 25 floors with 4 emergency stairwells (A, B, C, D)
- Main lobby on ground floor with multiple exit points
- Guest rooms: Floors 3-25 with emergency exits on each floor
- Public areas: Restaurant, spa, conference rooms, pool, fitness center
- Emergency assembly point: Parking garage level B2

Spa Features:
- Location: 3rd floor with tranquil garden views
- Facilities: Treatment rooms, relaxation lounge, steam room, sauna
- Capacity: 25 guests maximum for safety and comfort
- Layout: Serene environment with soft lighting and calming music
- Emergency exits: Two primary exits plus staff service entrance
- Accessibility: Wheelchair accessible treatment rooms and facilities
- Fire suppression: Specialized spa fire suppression system for steam and sauna areas

Safety Protocols:
- Emergency drills: Monthly fire safety training for all staff
- Guest orientation: Safety information provided at check-in
- Emergency response: 24/7 security team with direct fire department contact
- Evacuation procedures: Clear protocols for different types of emergencies
- Communication systems: PA system and emergency notification capabilities

user:
I'm enjoying a massage in the spa. Where's the emergency exit from here?

assistant channel=analysis:
The guest is asking about emergency exit from the spa. I'll get the exit location information.

assistant channel=commentary to=tool.get_emergency_exit_location:
{"current_location": "spa"}

tool.get_emergency_exit_location channel=commentary to=assistant:
{"location": "From the spa on the 3rd floor, the nearest emergency exit is Stairwell C on the south side, located near the relaxation lounge. There's also a secondary exit through the staff service entrance."}

assistant channel=analysis:
I have the exit location information. I'll provide clear directions for the spa emergency exit.

assistant channel=final:
From the spa on the 3rd floor, the nearest emergency exit is Stairwell C on the south side, located near the relaxation lounge. There's also a secondary exit through the staff service entrance. The spa has a maximum capacity of 25 guests, so evacuation would be quick and efficient.

user:
The spa's tranquil atmosphere is so relaxingâ€”the garden views and soft lighting create such a peaceful environment.

assistant channel=analysis:
Acknowledge the positive feedback about the spa's atmosphere while maintaining safety awareness.

assistant channel=final:
I'm so glad you're enjoying the peaceful atmosphere! The garden views and soft lighting are designed to create that perfect relaxation experience. Just remember, in case of emergency, Stairwell C is your nearest exit to the south.

user:
Could you provide me with a detailed evacuation plan specifically for the spa including steam room and sauna areas?

assistant channel=analysis:
Detailed spa-specific evacuation plans aren't available through standard guest services; use background acknowledgment flag.

assistant channel=final:
[ATTENTION] I understand you'd like specific spa evacuation information. Reviewing available resources.