"""
Guest with mobility concerns asks about emergency exit accessibility; check accessibility features, provide information, include small talk, and one background acknowledgment.

ROLES: user (guest with mobility concerns asking about emergency accessibility), assistant (hotel staff providing accessibility and safety information)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```json
[
  {
    "name": "get_emergency_exit_location",
    "description": "Get the location of the nearest emergency exit.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "current_location": {
          "type": "string",
          "description": "The guest's current location in the hotel."
        }
      },
      "required": ["current_location"]
    },
    "strict": true
  },
  {
    "name": "check_accessibility_features",
    "description": "Check accessibility features for emergency exits and evacuation routes.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "location": { "type": "string" },
        "feature_type": { "type": "string", "enum": ["wheelchair_access", "visual_impairment", "hearing_impairment", "mobility_assistance"] }
      },
      "required": ["location", "feature_type"]
    },
    "strict": true
  }
]
```
"""

system:
Hotel: Starlight Hotel (hotel_id: st_nyc_15)
Address: 123 Broadway, New York, NY 10001
Timezone: America/New_York

Emergency Safety Features:
- Emergency exits: Clearly marked with illuminated signs on every floor
- Fire safety: Smoke detectors, sprinkler systems, and fire extinguishers throughout
- Emergency lighting: Battery-powered backup lighting in all corridors
- Stairwells: Fire-rated stairwells with emergency lighting and handrails
- Elevator safety: Emergency stop buttons and communication systems
- Guest room safety: Emergency evacuation plans posted in each room
- Assembly point: Designated meeting area in the parking garage

Hotel Layout:
- 25 floors with 4 emergency stairwells (A, B, C, D)
- Main lobby on ground floor with multiple exit points
- Guest rooms: Floors 3-25 with emergency exits on each floor
- Public areas: Restaurant, spa, conference rooms, pool, fitness center
- Emergency assembly point: Parking garage level B2

Accessibility Features:
- Wheelchair accessible emergency exits on all floors
- Wide doorways: 36-inch minimum width for wheelchair access
- Accessible stairwells: Handrails on both sides, non-slip surfaces
- Emergency evacuation chairs: Available in all stairwells for mobility assistance
- Visual alarms: Strobe lights for guests with hearing impairments
- Audio announcements: PA system with clear emergency instructions
- Braille signage: Emergency exit signs with tactile information
- Accessible assembly area: Wheelchair accessible meeting point in parking garage

Safety Protocols:
- Emergency drills: Monthly fire safety training for all staff
- Guest orientation: Safety information provided at check-in
- Emergency response: 24/7 security team with direct fire department contact
- Evacuation procedures: Clear protocols for different types of emergencies
- Communication systems: PA system and emergency notification capabilities

user:
I use a wheelchair and I'm concerned about emergency exits. Are the emergency exits accessible from the lobby?

assistant channel=analysis:
The guest has mobility concerns and needs information about accessible emergency exits. I'll check both the exit location and accessibility features.

assistant channel=commentary to=tool.get_emergency_exit_location:
{"current_location": "main lobby"}

tool.get_emergency_exit_location channel=commentary to=assistant:
{"location": "From the main lobby, the nearest emergency exit is located to the left of the front desk, past the elevators."}

assistant channel=commentary to=tool.check_accessibility_features:
{"location": "main lobby emergency exit", "feature_type": "wheelchair_access"}

tool.check_accessibility_features channel=commentary to=assistant:
{"accessible": true, "features": ["36_inch_wide_doorways", "automatic_door_opener", "accessible_ramp", "emergency_evacuation_chair_available"], "notes": "fully_ADA_compliant"}

assistant channel=analysis:
The emergency exit is accessible with multiple accessibility features. I'll provide comprehensive information about the accessible features.

assistant channel=final:
Absolutely! The emergency exit from the main lobby is fully accessible. It features 36-inch wide doorways, automatic door openers, and an accessible ramp. We also have emergency evacuation chairs available in all stairwells for additional mobility assistance. The exit is fully ADA compliant and designed to accommodate wheelchair users safely.

user:
The automatic door openers throughout the hotel are so convenientâ€”I really appreciate the accessibility features.

assistant channel=analysis:
Acknowledge the positive feedback about the accessibility features.

assistant channel=final:
I'm so glad you're finding the accessibility features helpful! We're committed to ensuring all our guests can move comfortably and safely throughout the hotel, including during emergency situations.

user:
Could you provide me with a personal emergency evacuation plan that includes specific assistance for my mobility needs?

assistant channel=analysis:
Personal evacuation plans with specific assistance aren't available through standard guest services; use background acknowledgment flag.

assistant channel=final:
[ATTENTION] I understand you'd like personalized evacuation assistance. Reviewing available resources.