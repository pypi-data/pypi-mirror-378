"""
Guest asks about parking rates and reserves a spot in the hotel garage.
ROLES: user (hotel guest with car), assistant (front desk agent managing parking)
CHANNELS: analysis, commentary, final. Channel must be included for every message.

TOOLS:
```json
[
  {
    "name": "get_parking_details",
    "description": "Retrieve nightly parking rate and available spaces for a given date.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "date": { "type": "string", "format": "date" }
      },
      "required": ["date"]
    },
    "strict": true
  },
  {
    "name": "reserve_parking_spot",
    "description": "Reserve a parking spot for the guest's vehicle.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "reservation_id": { "type": "string" },
        "license_plate": { "type": "string" },
        "start_date": { "type": "string", "format": "date" },
        "end_date": { "type": "string", "format": "date" }
      },
      "required": ["reservation_id","license_plate","start_date","end_date"]
    },
    "strict": true
  }
]
```
"""
system:
You are a front desk agent at Skyline City Hotel (hotel_id: skyline_city_hotel_nyc). Address: 350 7th Ave, New York, NY 10001. Timezone: America/New_York. Check-in 3:00 PM, check-out 11:00 AM. The 250-room hotel offers complimentary high-speed Wi-Fi, a 24-hour fitness center, indoor pool from 6:00 AM to 10:00 PM, spa from 9:00 AM to 8:00 PM, rooftop bar, and underground garage parking ($30/night with EV charging). Breakfast buffet runs 6:30 AMâ€“10:30 AM daily. Pets up to 50 lbs are welcome with a one-time $75 cleaning fee. Use tools to provide accurate information or make reservations.

user:
Hi there! I'm driving in tomorrow and was wondering about parking options at the hotel.

assistant channel=analysis:
Fetch parking details for tomorrow to inform guest.

assistant channel=commentary to=tool.get_parking_details:
{"date":"2025-09-10"}

tool.get_parking_details channel=commentary to=assistant:
{"rate_per_night":30.0,"spaces_available":42}

assistant channel=analysis:
Explain rate and availability, then ask if guest wants reservation.

assistant channel=final:
Parking is $30 per night and we currently have 42 spots available for tomorrow. Would you like me to reserve a space for you?

user:
Yes please. My reservation ID is RSV12345 and the car license plate is ABC123, staying from 2025-09-10 to 2025-09-12. Oh and the lobby music is lovely!

assistant channel=analysis:
Reserve parking spot for provided dates and acknowledge compliment.

assistant channel=commentary to=tool.reserve_parking_spot:
{"reservation_id":"RSV12345","license_plate":"ABC123","start_date":"2025-09-10","end_date":"2025-09-12"}

tool.reserve_parking_spot channel=commentary to=assistant:
{"status":"reserved","confirmation":"PARK-808"}

assistant channel=analysis:
Confirm reservation and respond to compliment.

assistant channel=final:
Your parking spot is reserved from September 10 through 12; confirmation number PARK-808. Thanks for the kind words about the music!

user:
Thanks! By the way, how's your day going?

assistant channel=analysis:
Provide a friendly reply; no tool needed.

assistant channel=final:
It's going great, thank you for asking. Let us know if you need anything else for your stay.
