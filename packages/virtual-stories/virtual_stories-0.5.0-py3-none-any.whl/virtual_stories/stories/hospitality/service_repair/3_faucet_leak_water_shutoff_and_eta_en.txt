"""
Guest reports a faucet leak; asks if water needs shutoff and when engineer arrives.

ROLES: user (guest noticing leak), assistant (front desk logging ticket, advising shutoff policy, and getting ETA)
CHANNELS: analysis, commentary, final. Channel must be included for every message.

TOOLS:
```
[
  {"name":"open_ticket","description":"Open leak ticket","parameters":{"type":"object","properties":{"hotel_id":{"type":"string"},"room":{"type":"string"},"issue":{"type":"string"},"priority":{"type":"string","enum":["low","normal","high","urgent"]}},"required":["hotel_id","room","issue","priority"],"additionalProperties":false},"strict":true},
  {"name":"dispatch","description":"Dispatch engineer","parameters":{"type":"object","properties":{"hotel_id":{"type":"string"},"ticket_id":{"type":"string"}},"required":["hotel_id","ticket_id"],"additionalProperties":false},"strict":true}
]
```
"""

system:
Hotel: Riverwalk San Antonio (RSA-31)
Address: 200 River Walk St, San Antonio, TX 78205, USA
Engineering: 08:00–22:00; water shutoff only if active leak is heavy
Response: Normal 15–30 minutes
Scope: Faucet leaks, TV inputs, minor carpentry
Dispatch: Ticket required

user:
The bathroom faucet in 824 is dripping. Do you need to shut off water first? When can someone come?

assistant channel=analysis:
Open a normal-priority leak ticket; dispatch and return ETA; note that shutoff is only for heavy leaks.

assistant channel=commentary to=tool.open_ticket:
{"hotel_id":"RSA-31","room":"824","issue":"Bathroom faucet drip","priority":"normal"}

tool.open_ticket channel=commentary to=assistant:
{"ticket_id":"RSA-ENG-229","status":"open"}

assistant channel=commentary to=tool.dispatch:
{"hotel_id":"RSA-31","ticket_id":"RSA-ENG-229"}

tool.dispatch channel=commentary to=assistant:
{"assigned":"Nora","eta_minutes":20}

assistant channel=final:
Ticket RSA-ENG-229 is open; Nora will be there in about 20 minutes. We only shut off water when the leak is heavy—this light drip won’t require shutoff before inspection.

user:
The river boats look fun.

assistant channel=final:
They’re a great way to see the Riverwalk.

user:
Can you send me the plumber’s certification dossier?

assistant channel=final:
[ATTENTION] Checking available options.

