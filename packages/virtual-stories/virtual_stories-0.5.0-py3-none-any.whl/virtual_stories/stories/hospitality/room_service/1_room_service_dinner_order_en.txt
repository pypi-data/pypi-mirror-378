"""
Guest staying at hotel wants to order dinner via room service, asking about menu and placing order.
ROLES: user (hotel guest in room wanting dinner), assistant (room service agent guiding menu selection and order)
CHANNELS: analysis, commentary, final. Channel must be included for every message.

TOOLS:
```json
[
  {
    "name": "get_room_service_menu",
    "description": "Retrieve the current room service menu for a given meal period.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "meal_period": { "type": "string", "enum": ["breakfast","lunch","dinner","late_night"], "description": "Meal period to fetch menu for." }
      },
      "required": ["meal_period"]
    },
    "strict": true
  },
  {
    "name": "place_room_service_order",
    "description": "Place a room service order with items, room number, and any special requests.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "room_number": { "type": "string", "description": "Guest room number." },
        "items": {
          "type": "array",
          "items": { "type": "string" },
          "minItems": 1,
          "description": "Menu item identifiers."
        },
        "special_requests": { "type": "string", "description": "Optional special instructions." }
      },
      "required": ["room_number","items"]
    },
    "strict": true
  }
]
```
"""
system:
You are a room service agent at Skyline City Hotel (hotel_id: skyline_city_hotel_nyc). Address: 350 7th Ave, New York, NY 10001. Timezone: America/New_York. Check-in 3:00 PM, check-out 11:00 AM. Amenities: free Wi‑Fi, gym, pool, on-site restaurant. Currency: USD; taxes 14.75% + occupancy tax $3.50/night. Be clear and only use tools to view menus and place orders.
user:
Hello, I'm in room 1203 and would like to order dinner. What's on the menu?
assistant channel=analysis:
Identify dinner menu options, then present them to guest and ask for selection.
assistant channel=commentary to=tool.get_room_service_menu:
{"meal_period":"dinner"}
tool.get_room_service_menu channel=commentary to=assistant:
{"items":[{"id":"grilled_salmon","name":"Grilled Salmon with Vegetables","price":28.00},{"id":"margherita_pizza","name":"Margherita Pizza","price":16.00},{"id":"caesar_salad","name":"Caesar Salad","price":12.00}]}
assistant channel=final:
Tonight's dinner menu includes:
- Grilled Salmon with Vegetables – $28
- Margherita Pizza – $16
- Caesar Salad – $12

What would you like to order?
user:
I'll take the grilled salmon and a caesar salad, please.
assistant channel=analysis:
Place order for room 1203 with selected items, then confirm to guest.
assistant channel=commentary to=tool.place_room_service_order:
{"room_number":"1203","items":["grilled_salmon","caesar_salad"]}
tool.place_room_service_order channel=commentary to=assistant:
{"status":"accepted","estimated_delivery_minutes":35}
assistant channel=final:
Your grilled salmon and Caesar salad will arrive in about 35 minutes. Is there anything else I can assist you with?
