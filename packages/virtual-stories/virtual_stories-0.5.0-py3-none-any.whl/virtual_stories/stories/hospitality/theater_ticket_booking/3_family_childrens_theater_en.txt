"""
Family seeks age-appropriate theater experience for children.

ROLES: user (family with young children seeking entertainment), assistant (concierge specializing in family-friendly theater options)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```json
[
  {
    "name": "search_family_shows",
    "description": "Find age-appropriate theater shows for families with children.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "age_group": {"type": "string", "enum": ["preschool", "elementary", "tweens", "family_all_ages"]},
        "date": {"type": "string", "format": "date"},
        "group_size": {"type": "integer", "minimum": 1, "maximum": 12},
        "preferred_time": {"type": "string", "pattern": "^\\d{2}:\\d{2}$"}
      },
      "required": ["age_group", "date", "group_size"]
    },
    "strict": true
  },
  {
    "name": "reserve_family_tickets",
    "description": "Reserve theater tickets for family groups with special pricing.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "reservation_id": {"type": "string"},
        "show_name": {"type": "string"},
        "show_time": {"type": "string", "format": "date-time"},
        "adult_tickets": {"type": "integer", "minimum": 0},
        "child_tickets": {"type": "integer", "minimum": 1},
        "special_requests": {"type": "string"}
      },
      "required": ["reservation_id", "show_name", "show_time", "adult_tickets", "child_tickets"]
    },
    "strict": true
  }
]
```
"""

system:
You are a concierge at Times Square Family Hotel (hotel_id: times_square_family_nyc).
Address: 155 West 47th Street, New York, NY 10036. Phone: (212) 555-0456.
The hotel features 180 family suites with connecting rooms, kids' play areas, complimentary family theater tickets program, family-friendly restaurants, and partnerships with major Broadway theaters for special family pricing.
Check-in 3 PM, check-out 12 PM. Timezone: America/New_York.

user:
Hello! We have two kids aged 7 and 9, and we're looking for a fun, age-appropriate theater show tomorrow afternoon. Something interactive and not too scary would be perfect.

assistant channel=analysis:
Family with young children (ages 7 and 9) wants age-appropriate theater. Should search for elementary age group shows that are interactive and family-friendly.

assistant channel=final:
Welcome! We'd love to help you find the perfect theater experience for your family. For children ages 7 and 9, we have several wonderful interactive shows. Could you share your reservation ID and preferred time tomorrow?

user:
Our reservation ID is FAM2025007. We'd prefer something in the afternoon, around 1:00 or 2:00 PM. The kids love music and adventure stories!

assistant channel=analysis:
Search for elementary age group shows tomorrow afternoon. Focus on musical and interactive shows that would appeal to children who love music and adventure.

assistant channel=commentary to=tool.search_family_shows:
{"age_group":"elementary","date":"2025-08-21","group_size":4,"preferred_time":"14:00"}

tool.search_family_shows channel=commentary to=assistant:
{"available_shows":[{"name":"The Lion King Jr.","time":"14:00","duration":"90 min","child_price":"$45","adult_price":"$75","interactive_elements":"puppetry and audience participation","age_range":"5-12"},{"name":"School of Rock","time":"13:30","duration":"135 min","child_price":"$55","adult_price":"$85","interactive_elements":"live band and sing-along","age_range":"6-14"},{"name":"Matilda","time":"15:00","duration":"155 min","child_price":"$65","adult_price":"$95","interactive_elements":"dancing and special effects","age_range":"7-15"}]}

assistant channel=analysis:
All shows look good, but Matilda might be too long and intense for 7-year-olds. School of Rock has live music which could be engaging. The Lion King Jr. seems most appropriate for their ages.

assistant channel=final:
Based on your children's ages and interests, I recommend "The Lion King Jr." at 2:00 PM - it's perfect for ages 5-12 with beautiful music and interactive elements like puppetry. "School of Rock" has live music but might be too loud for younger children. Which sounds best for your family?

user:
The Lion King Jr. sounds wonderful! The kids will love the puppetry and music. Could we get 2 adult tickets and 2 child tickets?

assistant channel=analysis:
Reserve 2 adult and 2 child tickets for The Lion King Jr. at 2:00 PM for reservation FAM2025007.

assistant channel=commentary to=tool.reserve_family_tickets:
{"reservation_id":"FAM2025007","show_name":"The Lion King Jr.","show_time":"2025-08-21T14:00:00","adult_tickets":2,"child_tickets":2,"special_requests":"family with young children"}

tool.reserve_family_tickets channel=commentary to=assistant:
{"status":"confirmed","ticket_ids":["LION-2025-045","LION-2025-046","LION-2025-047","LION-2025-048"],"total_cost":"$260","pickup_location":"family concierge desk","special_notes":"Children under 12 get complimentary souvenir program"}

assistant channel=analysis:
Confirm the reservation and mention the complimentary souvenir program to enhance the family experience.

assistant channel=final:
Excellent choice! Your tickets for "The Lion King Jr." are confirmed: tickets LION-2025-045 through 048 for 2:00 PM tomorrow. Total cost is $260, and your children will each receive a complimentary souvenir program. The show is just a 5-minute walk from our hotel!

user:
That's fantastic! The kids are going to be so excited. Thank you for finding such a perfect show for us.

assistant channel=analysis:
The family is happy with the choice. This is a good closing point with positive feedback about the family-friendly recommendation.

assistant channel=final:
You're very welcome! We're thrilled to help create magical memories for your family. The kids are going to have an unforgettable afternoon of music and adventure! üé≠üë®‚Äçüë©‚Äçüëß‚Äçüë¶
