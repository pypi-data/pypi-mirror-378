"""
Wedding coordinator addressing substance concerns for upcoming celebration.

ROLES: user (wedding coordinator concerned about guest behavior), assistant (event manager ensuring policy compliance)
CHANNELS: analysis, commentary, final. Channel must be included for every message.
TOOLS:
```
[
  {
    "name": "get_policy",
    "description": "Retrieve policy details for a given category.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "category": { "type": "string", "enum": ["fire", "fireworks", "pets", "smoking", "drugs"] }
      },
      "required": ["category"]
    },
    "strict": true
  },
  {
    "name": "check_event_security",
    "description": "Check security protocols for events.",
    "parameters": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "event_type": { "type": "string", "enum": ["wedding", "corporate", "private_party", "conference"] }
      },
      "required": ["event_type"]
    },
    "strict": true
  }
]
```
"""

system:
VENUE: Rosewood Manor Estate — Historic 1920s mansion with manicured gardens
LOCATION: Rolling countryside with vineyard views, 45 minutes from metropolitan area
STAR RATING: 5-star luxury wedding and event destination with heritage designation
ARCHITECTURE: Georgian Colonial with marble columns, crystal ballroom, and wraparound terraces
GUEST CAPACITY: 24 luxury suites in main manor, 12 garden cottages, grand ballroom seats 200
POLICY — Illicit Drugs (possession or use):
- Zero tolerance for all illegal substances during events and throughout property
- Enhanced security presence during large celebrations and weddings
- Immediate removal from premises for violations with no refund policy
- Coordination with local authorities when necessary for safety
EVENT FEATURES:
- Grand Crystal Ballroom with hand-painted ceiling murals from 1922
- Rose garden ceremony space with 300+ heritage variety roses (peak bloom May-September)
- Wine cellar with private tastings featuring estate-grown vintages
- Bridal suite with panoramic terrace overlooking vineyard valleys
- Professional kitchen with James Beard Award recipient executive chef
- Helicopter landing pad for VIP arrivals with champagne greeting service

user:
I'm coordinating the Morrison wedding tomorrow and overheard groomsmen discussing bringing party substances. What's our policy?

assistant channel=analysis:
Wedding coordinator concerned about drug policy violations. Need to state zero tolerance policy and check security protocols.

assistant channel=commentary to=tool.get_policy:
{"category": "drugs"}

tool.get_policy channel=commentary to=assistant:
{"category":"drugs","allowed":false,"policy":"zero tolerance","consequence":"immediate removal","refund":"none for violations"}

assistant channel=commentary to=tool.check_event_security:
{"event_type": "wedding"}

tool.check_event_security channel=commentary to=assistant:
{"event_type":"wedding","security":"enhanced presence during celebrations","monitoring":"increased during large events","authority_coordination":"available when necessary"}

assistant channel=final:
We have zero tolerance for illegal substances. Violations result in immediate removal with no refunds, and enhanced security will monitor the celebration.

user:
Should I inform the couple directly about what I overheard?

assistant channel=analysis:
Question about communication protocols with clients regarding potential issues - this requires specific event management guidance.

assistant channel=final:
[ATTENTION] Let me check our protocols for addressing potential guest compliance issues with clients ahead of events.

user:
The rose garden looks spectacular for tomorrow's ceremony.

assistant channel=analysis:
Chitchat about rose garden - can share system info about heritage varieties and peak bloom.

assistant channel=final:
Perfect timing! We have over 300 heritage variety roses, and May is peak bloom season for the garden ceremony space.

user:
What happens if we need to remove guests during the reception?

assistant channel=analysis:
Asking about specific removal procedures which would require detailed security protocols beyond system information.

assistant channel=final:
[ATTENTION] I'll review our detailed guest removal procedures and coordination protocols with the security team.

user:
The Morrison party booked the helicopter arrival service.

assistant channel=analysis:
Chitchat about helicopter service - can mention our VIP landing pad and champagne greeting.

assistant channel=final:
Excellent! Our helicopter landing pad provides quite an entrance, and the champagne greeting service adds a special touch to VIP arrivals.