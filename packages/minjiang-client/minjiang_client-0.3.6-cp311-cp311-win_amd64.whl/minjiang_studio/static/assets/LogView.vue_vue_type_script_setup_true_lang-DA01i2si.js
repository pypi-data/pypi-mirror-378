import{d as k}from"./dayjs.min-DIdtLxCY.js";import{d as T,e,f as r,h as d,b as A,C as S,a2 as U,aa as c,ab as m,z as l,a6 as _,s as t,i as p,t as n,l as o,N as B,j as I,a8 as R,E as L,Y as $}from"./index-Cb59vHe7.js";const X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},v=T({name:"ArrowRightAltRound",render:function(C,u){return r(),e("svg",X,u[0]||(u[0]=[d("path",{d:"M16.01 11H5c-.55 0-1 .45-1 1s.45 1 1 1h11.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V11z",fill:"currentColor"},null,-1)]))}}),j={style:{color:"#f1aa43"},class:"pr-1.5 inline-flex items-center gap-1"},q={style:{color:"#f1aa43"},class:"pr-1.5 inline-flex items-center gap-1"},F={style:{color:"#f1aa43"},class:"pr-1.5 inline-flex items-center gap-1"},J=["href"],G={key:1},K={key:2,class:"break-all"},Z=T({__name:"LogView",props:{logs:{}},setup(V){const{t:C}=A(),u=S(),a=U(),f={NODE:"#cb1e83",EXECUTION:a.value.infoColor,RESULT:a.value.primaryColor};return(H,P)=>{const h=B,i=I,O=$;return r(!0),e(c,null,m(H.logs,(s,z)=>{var E,w,N,Y,x,D,b,M;return r(),e("div",{key:z},[s.type==="NODE"?(r(),e("div",{key:0,style:_({color:f.NODE})},[d("span",j,[t(n(o(k)(s.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss"))+" ",1),p(h,{color:o(a).primaryColor,size:"20",component:o(v)},null,8,["color","component"])]),t(" "+n(s.msg)+" ",1),p(i,{dashed:"",class:"!my-1.5"})],4)):l("",!0),s.type==="EXECUTION"?(r(),e("div",{key:1,style:_({color:f.EXECUTION})},[d("span",q,[t(n(o(k)(s.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss"))+" ",1),p(h,{color:o(a).primaryColor,size:"20",component:o(v)},null,8,["color","component"])]),t(" "+n(s.msg)+" ",1),p(i,{dashed:"",class:"!my-1.5"})],4)):l("",!0),s.type==="RESULT"||!s.type?(r(),e("div",{key:2,style:_({color:f.RESULT})},[d("span",F,[t(n(o(k)(s.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss"))+" ",1),p(h,{color:o(a).primaryColor,size:"20",component:o(v)},null,8,["color","component"]),typeof(s==null?void 0:s.msg)=="string"?(r(),e(c,{key:0},[t(n(s.msg),1)],64)):o(R)((E=s==null?void 0:s.msg)==null?void 0:E.sub_process_ids)?l("",!0):(r(!0),e(c,{key:1},m((w=s==null?void 0:s.msg)==null?void 0:w.sub_process_ids,(g,y)=>(r(),e("a",{key:y,href:`/experiment/waveforms?device_group_name=${o(u).query.device_group_name}&exp_id=${g}&space_id=${o(u).query.space_id}`,class:"underline underline-offset-2 mr-4 cursor-pointer",style:_({color:o(a).infoColor}),target:"_blank"},n(o(C)("groupDetail.autoCali.check"))+" "+n(g)+n(y<(s==null?void 0:s.msg.sub_process_ids.length)-1?",":""),13,J))),128))]),d("div",null,[typeof(s==null?void 0:s.msg)=="string"?(r(),e(c,{key:0},[],64)):(r(),e(c,{key:1},[(N=s==null?void 0:s.msg)!=null&&N.details?(r(),e("div",{key:0,style:_({color:o(a).infoColor})},n((Y=s==null?void 0:s.msg)==null?void 0:Y.details),5)):l("",!0),(x=s==null?void 0:s.msg)!=null&&x.img_url?(r(),e("div",G,[(r(!0),e(c,null,m(Array.isArray((D=s==null?void 0:s.msg)==null?void 0:D.img_url)?s.msg.img_url:[(b=s.msg)==null?void 0:b.img_url],(g,y)=>(r(),L(O,{class:"w-20 h-14 rounded cursor-pointer mr-5 mt-1",src:g,key:y},null,8,["src"]))),128))])):l("",!0),o(R)((M=s==null?void 0:s.msg)==null?void 0:M.res)?l("",!0):(r(),e("div",K,n(JSON.stringify(s.msg.res)),1))],64))]),p(i,{dashed:"",class:"!my-1.5"})],4)):l("",!0)])}),128)}}});export{Z as _};
