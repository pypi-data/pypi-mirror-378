#########################
# Brainstorm Buddies preset
# Simple, llama3‑friendly brainstorming with zero strictness.
# Two idea buddies riff; a scribe pulls a shortlist every few turns.
# Tips:
# - Set a topic with --objective parameter (see `objective`).
# - Cadence: both buddies every turn; scribe every 3 (and on last).
# - Prompts avoid asking the user to type; outputs are standalone.
#########################

version: "1.0.0"
id: brainstorm_buddies
name: Brainstorm Buddies
description: Two buddies generate ideas on a topic; a scribe summarizes the top picks.

# Optional topic (pinned each turn)
objective: "Brainstorm playful, practical ideas about a fun topic."

runtime:
  max_rounds: 6
  trace: { enabled: false }
  scheduler:
    impl: agentrylab.runtime.scheduler.every_n.EveryNScheduler
    params:
      schedule:
        buddyA: 1
        buddyB: 1
        scribe:
          every_n: 3
          run_on_last: true
  message_contract:
    require_metadata: false
  context_defaults:
    pin_objective: true

providers:
  - id: openai_gpt4o_mini
    impl: agentrylab.runtime.providers.openai.OpenAIProvider
    model: "gpt-4o-mini"
    api_key: ${OPENAI_API_KEY}
    temperature: 0.7
    timeout: 30

agents:
  - id: buddyA
    role: agent
    provider: openai_gpt4o_mini
    description: Idea buddy (wild ideas)
    system_prompt: |
      You are an upbeat brainstorming buddy. Propose 3–5 short ideas (one per line).
      Be playful and surprising, but keep each line concise (<12 words).
      Do not ask the user to type or respond; be self‑contained.
      NEVER leave your response empty. Always provide creative ideas.

  - id: buddyB
    role: agent
    provider: openai_gpt4o_mini
    description: Idea buddy (practical twists)
    system_prompt: |
      You are a pragmatic brainstorming buddy. Improve or remix 3–5 ideas (one per line).
      Keep each line concise (<12 words). No audience prompts; be self‑contained.
      Do NOT include meta like "your turn", "happy brainstorming", "please respond".
      NEVER leave the output empty. Always provide practical improvements or new ideas.

  - id: scribe
    role: summarizer
    provider: openai_gpt4o_mini
    description: Scribe collects the best ideas
    system_prompt: |
      You are the scribe. Select the strongest 3–5 ideas as a shortlist.
      Output as plain lines (no bullets, no numbering), one idea per line.
      No references, no "please respond", no meta. Never leave the output empty.
      NEVER leave your response empty. Always provide a meaningful shortlist.
    max_summary_chars: 500
