#########################
# Solo Chat (User-in-the-Loop) preset
# Single assistant with a scheduled user turn before each response.
# Post messages via CLI/API to let a human steer the chat.
#   CLI: agentrylab say src/agentrylab/presets/solo_chat_user.yaml demo 'Hello!' --user-id user
#   Run: agentrylab run src/agentrylab/presets/solo_chat_user.yaml --thread-id demo --resume --max-iters 1
#########################

version: "1.0.0"
id: solo_chat_user
name: Solo Chat (User Turn)
description: A friendly assistant that responds after a scheduled user turn each round.

objective: "Say hello and ask a short question to the assistant."

runtime:
  trace: { enabled: false }
  scheduler:
    impl: agentrylab.runtime.scheduler.round_robin.RoundRobinScheduler
    params:
      order: ["assistant"]
  message_contract:
    require_metadata: false
  context_defaults:
    pin_objective: true
  max_rounds: 10

providers:
  - id: ollama_llama3
    impl: agentrylab.runtime.providers.ollama.OllamaProvider
    model: "llama3:latest"
    base_url: "http://localhost:11434"
    temperature: 0.7
    timeout: 30

tools: []
advisors: []

agents:
  - id: assistant
    role: agent
    display_name: "Assistant"
    description: Friendly conversational assistant
    provider: ollama_llama3
    temperature: 0.2
    tools: []
    context:
      max_messages: 5
      pin_objective: true
      running_summary: false
    system_prompt: |
      You are a helpful assistant. Always answer the user's LAST message directly.
      - Do NOT greet (no "Hello", no "I'm here to help").
      - Start with the answer.
      - Keep it concise: 2â€“4 sentences.
      - If the user asks "What is X?", give a clear definition and one concrete fact.
      - NEVER leave your response empty. Always provide a substantive answer.
