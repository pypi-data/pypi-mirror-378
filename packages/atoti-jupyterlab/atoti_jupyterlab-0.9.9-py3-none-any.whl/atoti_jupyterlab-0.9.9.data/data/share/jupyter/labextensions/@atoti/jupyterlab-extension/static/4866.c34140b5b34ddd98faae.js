"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[4866],{73649:(e,t,r)=>{r.d(t,{w:()=>n});var i=r(34936),o=r(5617);const n=e=>{if(0===e.horizontal.captions.length&&0===e.vertical.captions.length)return{};const t=(0,o.y)(e.vertical),r=(0,o.y)(e.horizontal),n=[];for(let e=0;e<t;e++){const t=[];for(let o=0;o<r;o++){const r=0===o?"x":`x${o+1}`,n=(0,i.D)(e);t.push(`${r}${n}`)}n.push(t)}return{grid:{rows:t,columns:r,subplots:n,pattern:"coupled"}}}},34936:(e,t,r)=>{function i(e){return 0===e?"y":"y"+(2*e+1)}r.d(t,{D:()=>i})},5617:(e,t,r)=>{r.d(t,{y:()=>i});const i=({captions:e,limit:t})=>Math.max(1,Math.min(e.length,t))},88442:(e,t,r)=>{var i=r(34231),o=r(68765).axisHoverFormat,n=r(47335).rb,a=r(47335).ay,s=r(4862),l=r(81670),c=r(16678),d=r(52973).k,u=r(44904).extendFlat,f=l({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),p=u({},i.marker.line.width,{dflt:0}),x=u({width:p,editType:"calc"},s("marker.line")),h=u({line:x,editType:"calc"},s("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:d,cornerradius:{valType:"any",editType:"calc",description:["Sets the rounding of corners. May be an integer number of pixels,","or a percentage of bar width (as a string ending in %). Defaults to `layout.barcornerradius`.","In stack or relative barmode, the first trace to set cornerradius is used for the whole stack."].join(" ")}});e.exports={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),text:i.text,texttemplate:a({editType:"plot"},{keys:c.eventDataKeys}),hovertext:i.hovertext,hovertemplate:n({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:u({},f,{description:"Sets the font used for `text`."}),insidetextfont:u({},f,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:u({},f,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:u({},i.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:h,offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:{opacity:i.selected.marker.opacity,color:i.selected.marker.color,editType:"style"},textfont:i.selected.textfont,editType:"style"},unselected:{marker:{opacity:i.unselected.marker.opacity,color:i.unselected.marker.color,editType:"style"},textfont:i.unselected.textfont,editType:"style"},zorder:i.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},16678:e=>{e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},55021:(e,t,r)=>{var i=r(35646),o=r(38338),n=r(84127),a=r(56471),s=r(44150),l=r(40004),c=r(7951),d=r(17468),u=r(88442),f=o.coerceFont;function p(e){if(i(e)){if((e=+e)>=0)return e}else if("string"==typeof e&&"%"===(e=e.trim()).slice(-1)&&i(e.slice(0,-1))&&(e=+e.slice(0,-1))>=0)return e+"%"}function x(e,t,r,i,n,a){var s=!(!1===(a=a||{}).moduleHasSelected),l=!(!1===a.moduleHasUnselected),c=!(!1===a.moduleHasConstrain),d=!(!1===a.moduleHasCliponaxis),u=!(!1===a.moduleHasTextangle),p=!(!1===a.moduleHasInsideanchor),x=!!a.hasPathbar,h=Array.isArray(n)||"auto"===n,y=h||"inside"===n,m=h||"outside"===n;if(y||m){var v=f(i,"textfont",r.font),g=o.extendFlat({},v),b=!(e.textfont&&e.textfont.color);if(b&&delete g.color,f(i,"insidetextfont",g),x){var k=o.extendFlat({},v);b&&delete k.color,f(i,"pathbar.textfont",k)}m&&f(i,"outsidetextfont",v),s&&i("selected.textfont.color"),l&&i("unselected.textfont.color"),c&&i("constraintext"),d&&i("cliponaxis"),u&&i("textangle"),i("texttemplate")}y&&p&&i("insidetextanchor")}e.exports={supplyDefaults:function(e,t,r,i){function d(r,i){return o.coerce(e,t,u,r,i)}if(s(e,t,i,d)){l(e,t,i,d),d("xhoverformat"),d("yhoverformat"),d("zorder"),d("orientation",t.x&&!t.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var f=d("textposition");x(e,0,i,d,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c(e,t,d,r,i);var p=(t.marker.line||{}).color,h=a.getComponentMethod("errorbars","supplyDefaults");h(e,t,p||n.defaultLine,{axis:"y"}),h(e,t,p||n.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(t,d)}else t.visible=!1},crossTraceDefaults:function(e,t){var r,i;function n(e,t){return o.coerce(i._input,i,u,e,t)}for(var a=0;a<e.length;a++)if("bar"===(i=e[a]).type){r=i._input;var s=n("marker.cornerradius",t.barcornerradius);i.marker&&(i.marker.cornerradius=p(s)),"group"===t.barmode&&d(r,i,t,n)}},handleText:x,validateCornerradius:p}},18402:(e,t,r)=>{var i=r(35646),o=r(1915),n=r(38338).isArrayOrTypedArray;t.coerceString=function(e,t,r){if("string"==typeof t){if(t||!e.noBlank)return t}else if(("number"==typeof t||!0===t)&&!e.strict)return String(t);return void 0!==r?r:e.dflt},t.coerceNumber=function(e,t,r){if(i(t)){t=+t;var o=e.min,n=e.max;if(!(void 0!==o&&t<o||void 0!==n&&t>n))return t}return void 0!==r?r:e.dflt},t.coerceColor=function(e,t,r){return o(t).isValid()?t:void 0!==r?r:e.dflt},t.coerceEnumerated=function(e,t,r){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==r?r:e.dflt},t.getValue=function(e,t){var r;return n(e)?t<e.length&&(r=e[t]):r=e,r},t.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:n(e.marker.line.width)?0:e.marker.line.width}},42470:(e,t,r)=>{var i=r(21132),o=r(84127),n=r(16566),a=r(38338),s=r(56471),l=r(56993).resizeText,c=r(88442),d=c.textfont,u=c.insidetextfont,f=c.outsidetextfont,p=r(18402);function x(e,t,r){n.pointStyle(e.selectAll("path"),t,r),h(e,t,r)}function h(e,t,r){e.selectAll("text").each((function(e){var o=i.select(this),s=a.ensureUniformFontSize(r,y(o,e,t,r));n.font(o,s)}))}function y(e,t,r,i){var o=i._fullLayout.font,n=r.textfont;if(e.classed("bartext-inside")){var a=k(t,r);n=v(r,t.i,o,a)}else e.classed("bartext-outside")&&(n=g(r,t.i,o));return n}function m(e,t,r){return b(d,e.textfont,t,r)}function v(e,t,r,i){var n=m(e,t,r);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(n={color:o.contrast(i),family:n.family,size:n.size,weight:n.weight,style:n.style,variant:n.variant,textcase:n.textcase,lineposition:n.lineposition,shadow:n.shadow}),b(u,e.insidetextfont,t,n)}function g(e,t,r){var i=m(e,t,r);return b(f,e.outsidetextfont,t,i)}function b(e,t,r,i){t=t||{};var o=p.getValue(t.family,r),n=p.getValue(t.size,r),a=p.getValue(t.color,r),s=p.getValue(t.weight,r),l=p.getValue(t.style,r),c=p.getValue(t.variant,r),d=p.getValue(t.textcase,r),u=p.getValue(t.lineposition,r),f=p.getValue(t.shadow,r);return{family:p.coerceString(e.family,o,i.family),size:p.coerceNumber(e.size,n,i.size),color:p.coerceColor(e.color,a,i.color),weight:p.coerceString(e.weight,s,i.weight),style:p.coerceString(e.style,l,i.style),variant:p.coerceString(e.variant,c,i.variant),textcase:p.coerceString(e.variant,d,i.textcase),lineposition:p.coerceString(e.variant,u,i.lineposition),shadow:p.coerceString(e.variant,f,i.shadow)}}function k(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}e.exports={style:function(e){var t=i.select(e).selectAll('g[class^="barlayer"]').selectAll("g.trace");l(e,t,"bar");var r=t.size(),o=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===o.barmode&&r>1||0===o.bargap&&0===o.bargroupgap&&!e[0].trace.marker.line.width)&&i.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){x(i.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)},styleTextPoints:h,styleOnSelect:function(e,t,r){var o=t[0].trace;o.selectedpoints?function(e,t,r){n.selectedPointStyle(e.selectAll("path"),t),function(e,t,r){e.each((function(e){var o,s=i.select(this);if(e.selected){o=a.ensureUniformFontSize(r,y(s,e,t,r));var l=t.selected.textfont&&t.selected.textfont.color;l&&(o.color=l),n.font(s,o)}else n.selectedTextStyle(s,t)}))}(e.selectAll("text"),t,r)}(r,o,e):(x(r,o,e),s.getComponentMethod("errorbars","style")(r))},getInsideTextFont:v,getOutsideTextFont:g,getBarColor:k,resizeText:l}},7951:(e,t,r)=>{var i=r(84127),o=r(28782).hasColorscale,n=r(83465),a=r(38338).coercePattern;e.exports=function(e,t,r,s,l){var c=r("marker.color",s),d=o(e,"marker");d&&n(e,t,l,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",i.defaultLine),o(e,"marker.line")&&n(e,t,l,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),a(r,"marker.pattern",c,d),r("selected.marker.color"),r("unselected.marker.color")}},56993:(e,t,r)=>{var i=r(21132),o=r(38338);function n(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:function(e,t,r){if(r.uniformtext.mode){var i=n(e),o=r.uniformtext.minsize,a=t.scale*t.fontSize;t.hide=a<o,r[i]=r[i]||1/0,t.hide||(r[i]=Math.min(r[i],Math.max(a,o)))}},clearMinTextSize:function(e,t){t[n(e)]=void 0},resizeText:function(e,t,r){var n=e._fullLayout,a=n["_"+r+"Text_minsize"];if(a){var s,l="hide"===n.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;if(t){t.scale=l&&t.hide?0:a/t.fontSize;var r=i.select(this).select("text");o.setTransormAndDisplay(r,t)}}))}}}}}]);