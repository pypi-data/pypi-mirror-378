const w=t=>{let e=window.scrollY;const r=t.map(o=>document.getElementById(o.hash.slice(1))).filter(o=>o!==null).reverse(),a=()=>{const o=window.scrollY,u=o<e&&o>0,d=r.find(l=>l.getBoundingClientRect().top<150)??r.at(-1);document.body.classList.toggle("show-back-to-top",u),t.forEach(l=>l.classList.toggle("current",l.hash===`#${d?.id}`)),e=o};a(),window.addEventListener("scroll",a)},v=t=>{t.forEach(e=>{const r=e.parentElement,a=r?.querySelector(".bz-dropdown-content"),o=()=>{e.setAttribute("aria-expanded","true"),a?.setAttribute("aria-hidden","false")},u=()=>{e.setAttribute("aria-expanded","false"),a?.setAttribute("aria-hidden","true")};r?.addEventListener("mouseenter",()=>o()),r?.addEventListener("mouseleave",()=>u()),e?.addEventListener("click",d=>{d.preventDefault(),o(),e.focus()}),r?.addEventListener("focusout",d=>{const l=d.relatedTarget;(!l||!r?.contains(l))&&u()})})};var y=(t=>(t.AUTO="auto",t.LIGHT="light",t.DARK="dark",t))(y||{});const E=t=>{const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=t==="auto"?e:t;document.documentElement.dataset.mode=t,document.documentElement.dataset.theme=r,localStorage.setItem("breeze-mode",t)},S=()=>{if((localStorage.getItem("breeze-mode")??"auto")==="auto"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";E(e==="light"?"dark":"light")}else E("auto")},L=t=>{t.forEach(e=>{e.ariaLabel=`Switch to ${document.documentElement.dataset.theme==="light"?"dark":"light"} mode`,e.dataset.tooltip=e.ariaLabel,e?.addEventListener("click",()=>{S(),e.ariaLabel=`Switch to ${document.documentElement.dataset.theme==="light"?"dark":"light"} mode`,e.dataset.tooltip=e.ariaLabel})})},k=t=>{t.forEach(e=>{const a=e.parentElement?.querySelector(".bz-dropdown-content ul"),o=e.dataset.url,u=e.dataset.current;!o||!a||fetch(o).then(d=>{if(!d.ok)throw new Error(`Failed to fetch versions from ${o}`);return d.json()}).then(d=>{Array.isArray(d)&&(a.innerHTML="",d.forEach(l=>{const c=document.createElement("li");if(l.version===u){const n=document.createElement("span");n.textContent=l.name,n.classList.add("current");const s=e.querySelector("span");s&&(s.textContent=l.name),c.appendChild(n)}else{const n=document.createElement("a");n.href=l.url,n.textContent=l.name,c.appendChild(n)}a.appendChild(c)}))}).catch(d=>{console.error("Version switcher error:",d)})})},g=t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)},A=window.matchMedia("(prefers-color-scheme: dark)");A.addEventListener("change",t=>{if(localStorage.getItem("mode")===y.AUTO){const r=t.matches?y.DARK:y.LIGHT;document.documentElement.dataset.theme=r}});const I=()=>{const t=DOCUMENTATION_OPTIONS?.BUILDER||"html";console.log(t),document.addEventListener("keydown",e=>{if((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="k"){e.preventDefault();const r=document.documentElement.dataset.content_root||"./";let a="";t==="dirhtml"?a=`${r}search/`:a=`${r}search.html`,window.location.href=`${a}#q`}})};document.addEventListener("keydown",t=>{const e=DOCUMENTATION_OPTIONS?.BUILDER||"html";if((t.ctrlKey||t.metaKey)&&t.key.toLowerCase()==="k"){t.preventDefault();const r=document.documentElement.dataset.content_root||"./";let a="";e==="dirhtml"?a=`${r}search/`:a=`${r}search.html`,window.location.href=`${a}#q`}});g(()=>{q(),I(),w(Array.from(document.querySelectorAll(".bz-sidebar-toc ul a[href^='#']:not([href='#'])"))),L(Array.from(document.querySelectorAll(".bz-theme-switcher button"))),v(Array.from(document.querySelectorAll(".bz-dropdown button"))),k(Array.from(document.querySelectorAll(".bz-version-switcher button")));const t=Array.from(document.querySelectorAll("#bz-sidebar-primary-toggle, #bz-sidebar-secondary-toggle")),e=["a[href]","summary","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'];function r(c){return Array.from(c.querySelectorAll(e.join(","))).filter(n=>{if(n.offsetParent===null)return!1;const s=n.closest("details");return!(s&&!s.open&&!n.matches("summary"))})}t.forEach(c=>{let n=null;const s=c.parentElement;s&&(s.querySelectorAll("a[href]").forEach(m=>{m.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),c.checked=!1,m.click())})}),c.addEventListener("change",()=>{const m=document.querySelector(`label[role="button"][for="${c.id}"]`);if(c.checked){const i=r(s);if(console.log(i),i.length===0)return;setTimeout(()=>{i[0].focus()},1),n=f=>{if(f.key==="Escape")c.checked=!1,s.removeEventListener("keydown",n),n=null,m?.focus();else if(f.key==="Tab"){const h=r(s),p=h[0],b=h[h.length-1];f.shiftKey?document.activeElement===p&&(f.preventDefault(),b.focus()):document.activeElement===b&&(f.preventDefault(),p.focus())}},s.addEventListener("keydown",n)}else!c.checked&&n&&(s.removeEventListener("keydown",n),n=null)}))});const o=document.querySelector(".bz-header-nav-menu")?.querySelector("ul"),u=document.querySelector(".bz-header-nav > ul"),d=u.querySelectorAll("li");u.style.overflowX="hidden",d.forEach((c,n)=>{c.dataset.tabId||(c.dataset.tabId=String(n))});const l=new IntersectionObserver(c=>{c.forEach(n=>{const s=n.target,m=s.dataset.tabId;if(n.isIntersecting){s.style.visibility="";const i=o.querySelector(`[data-tab-id="${m}"]`);i&&i.remove()}else{if(o.querySelector(`[data-tab-id="${m}"]`))return;const i=s.cloneNode(!0);i.dataset.tabId=m;const f=Array.from(o.children).find(h=>Number(h.dataset.tabId)>Number(m));f?o.insertBefore(i,f):o.appendChild(i),s.style.visibility="hidden"}})},{root:u,threshold:1});d.forEach(c=>l.observe(c))});function q(){document.querySelectorAll('label[role="button"][for]').forEach(e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0");const r=e.getAttribute("for");if(!r)return;const a=document.getElementById(r);a&&e.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(a.click?.(),o.preventDefault())})})}
