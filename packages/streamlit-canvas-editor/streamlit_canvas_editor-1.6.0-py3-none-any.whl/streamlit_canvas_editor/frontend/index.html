<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Canvas Editor</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="root">
    <div id="main-container">
      <div id="canvas-section">
        <div id="canvas-wrapper">
          <div id="canvas-container">
            <canvas id="drawing-canvas"></canvas>
          </div>
        </div>
        <div id="controls">
          <!-- Mode Toggle -->
          <div class="control-group mode-controls">
            <button id="pan-mode-btn" class="mode-btn" title="Pan Mode (V)">
              <span class="mode-icon">‚úã</span> Pan
            </button>
            <button id="draw-mode-btn" class="mode-btn active" title="Draw Mode (D)">
              <span class="mode-icon">‚úèÔ∏è</span> Draw
            </button>
          </div>

          <div class="control-group">
            <button id="undo-btn" title="Undo (Ctrl+Z)">‚Ü∂ Undo</button>
            <button id="redo-btn" title="Redo (Ctrl+Y)">‚Ü∑ Redo</button>
          </div>
          <div class="control-group zoom-controls">
            <button id="zoom-in-btn" title="Zoom In">üîç+</button>
            <button id="zoom-out-btn" title="Zoom Out">üîç‚àí</button>
            <button id="zoom-reset-btn" title="Reset Zoom (100%)">‚Ü∫</button>
            <span id="zoom-level">100%</span>
          </div>
          <span id="status-info">Ready</span>
        </div>
      </div>

      <div id="properties-panel" style="display: none;">
        <div class="panel-header">
          <!-- give the title the class JS expects -->
          <h3 class="panel-title">Box Properties</h3>
          <button id="close-panel" class="close-btn" title="Close">√ó</button>
        </div>

        <div class="panel-content">
          <!-- Block ID (Read-only) -->
          <div class="property-section">
            <div class="property-group">
              <label for="content-id">Block ID</label>
              <input type="text" id="content-id" readonly class="readonly-field" />
            </div>
          </div>

          <!-- Block Type -->
          <div class="property-section">
            <div class="property-group">
              <label for="block-type">Block Type</label>
              <select id="block-type">
                <option value="Text">Text</option>
                <option value="SectionHeader">SectionHeader</option>
                <option value="PageHeader">PageHeader</option>
                <option value="PageFooter">PageFooter</option>
                <option value="Figure">Figure</option>
                <option value="Table">Table</option>
                <option value="Caption">Caption</option>
                <option value="ListItem">ListItem</option>
                <option value="ListGroup">ListGroup</option>
                <option value="Line">Line</option>
                <option value="Span">Span</option>
                <option value="FigureGroup">FigureGroup</option>
                <option value="TableGroup">TableGroup</option>
                <option value="PictureGroup">PictureGroup</option>
                <option value="Picture">Picture</option>
                <option value="Code">Code</option>
                <option value="Equation">Equation</option>
                <option value="Form">Form</option>
                <option value="Footnote">Footnote</option>
                <option value="Handwriting">Handwriting</option>
                <option value="TextInlineMath">TextInlineMath</option>
                <option value="TableOfContents">TableOfContents</option>
                <option value="Document">Document</option>
                <option value="ComplexRegion">ComplexRegion</option>
                <option value="TableCell">TableCell</option>
                <option value="Reference">Reference</option>
              </select>
            </div>
          </div>

          <!-- Text Content -->
          <div class="property-section">
            <div class="property-group">
              <label for="text-content">Text Content</label>
              <div class="text-content-wrapper">
                <textarea id="text-content" rows="4" placeholder="Enter text content"></textarea>
                <button id="ocr-btn" class="ocr-btn" title="Extract text using OCR" style="display: none;">
                  <span class="ocr-icon">üîç</span> OCR
                </button>
              </div>
            </div>
          </div>

          <!-- Text ID -->
          <div class="property-section">
            <div class="property-group">
              <label for="text-id">Text ID</label>
              <input type="text" id="text-id" placeholder="Enter requirement ID (if existing)" />
            </div>
          </div>
        </div>

        <div class="panel-footer">
          <div class="button-group">
            <button id="save-properties" class="save-btn">Save Properties</button>
            <button id="reset-properties" class="reset-btn" title="Clear all content">Reset Content</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="streamlit-component-lib.js"></script>
  <script src="main.js"></script>
</body>
</html>