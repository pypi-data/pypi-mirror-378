model_path: models/resnet50/resnet50_w1a2_exported.onnx
folding_config_file: models/resnet50/U250_folding_config_live_fifo.json
specialize_layers_config_file: models/resnet50/U250_specialize_layers.json

#vitis_floorplan_file: models/resnet50/floorplan_resnet50.json
# This floorplan is for U250 (4 SLRs), do not specify it here for two reasons:
# 1) We might want to target different devices
# 2) It appears to cause the following error for U250 (TODO):
# ERROR: [v++ 60-397] Max number of compute units in binary 'xcl_v++' exceeded. The target platform only supports 60 compute units in a binary.

steps:
  - finn.builder.custom_step_library.resnet.step_resnet50_tidy # Custom step
  - finn.builder.custom_step_library.resnet.step_resnet50_streamline # Custom step
  - finn.builder.custom_step_library.resnet.step_resnet50_convert_to_hw # Custom step
  - step_create_dataflow_partition
  - step_specialize_layers
  - step_apply_folding_config
  - step_minimize_bit_width
  - step_generate_estimate_reports
  - step_set_fifo_depths
  - step_hw_codegen
  - step_hw_ipgen
  - step_create_stitched_ip
  - step_measure_rtlsim_performance
  - step_out_of_context_synthesis
  - step_synthesize_bitfile
  - step_make_driver
  - step_deployment_package

# folding config comes with FIFO sizes
auto_fifo_depths: False
