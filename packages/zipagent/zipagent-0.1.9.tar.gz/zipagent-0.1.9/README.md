<div align="center">

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼** â­

<p align="center">
  <img src="docs/assets/logo.jpg" alt="ZipAgent Logo" width="120"/>
  &nbsp;&nbsp;&nbsp;&nbsp;
  <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&size=45&duration=3000&pause=1000&color=2E86AB&center=true&vCenter=true&width=300&height=60&lines=ZipAgent" alt="ZipAgent Title"/>
</p>

[![PyPI version](https://badge.fury.io/py/zipagent.svg)](https://badge.fury.io/py/zipagent)
[![Downloads](https://pepy.tech/badge/zipagent)](https://pepy.tech/project/zipagent)
[![Python version](https://img.shields.io/pypi/pyversions/zipagent.svg)](https://pypi.org/project/zipagent/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[ğŸ“š æ–‡æ¡£](https://jiayuxu0.github.io/zipagent) | [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) | [ğŸ’¬ è®¨è®º](https://github.com/JiayuXu0/ZipAgent/discussions) | [ğŸ› é—®é¢˜åé¦ˆ](https://github.com/JiayuXu0/ZipAgent/issues) | [ğŸŒ English](README_EN.md)

</div>

ZipAgent æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Python AI Agent æ¡†æ¶ï¼Œä¸“æ³¨äºç®€æ´ã€é«˜æ•ˆå’Œæ˜“æ‰©å±•ã€‚**ä»…ç”¨ 700 è¡Œæ ¸å¿ƒä»£ç å®ç° Agent å¼•æ“ã€å·¥å…·ç³»ç»Ÿã€å¯¹è¯ç®¡ç†çš„å®Œæ•´æ™ºèƒ½ä½“æ¡†æ¶ï¼Œè®©ä½ å¿«é€Ÿæ„å»ºä¸“å±çš„ AI åŠ©æ‰‹ã€‚**

## ğŸ¯ åº”ç”¨åœºæ™¯

<table>
<tr>
<td align="center">
  <img src="docs/assets/icon_chatbot.png" width="60px" alt="æ™ºèƒ½å®¢æœ"/>
  <br/><b>æ™ºèƒ½å®¢æœ</b><br/>
  <small>è‡ªåŠ¨å›ç­”å¸¸è§é—®é¢˜<br/>å¤„ç†è®¢å•æŸ¥è¯¢</small>
</td>
<td align="center">
  <img src="docs/assets/icon_code.png" width="60px" alt="ä»£ç åŠ©æ‰‹"/>
  <br/><b>ä»£ç åŠ©æ‰‹</b><br/>
  <small>ä»£ç reviewå’Œç”Ÿæˆ<br/>bugä¿®å¤å»ºè®®</small>
</td>
<td align="center">
  <img src="docs/assets/icon_data.png" width="60px" alt="æ•°æ®åˆ†æ"/>
  <br/><b>æ•°æ®åˆ†æ</b><br/>
  <small>è‡ªåŠ¨ç”ŸæˆæŠ¥è¡¨<br/>æ•°æ®æ´å¯Ÿå‘ç°</small>
</td>
</tr>
<tr>
<td align="center">
  <img src="docs/assets/icon_content.png" width="60px" alt="å†…å®¹ç”Ÿæˆ"/>
  <br/><b>å†…å®¹ç”Ÿæˆ</b><br/>
  <small>æ–‡ç« å†™ä½œåŠ©æ‰‹<br/>è¥é”€æ–‡æ¡ˆç”Ÿæˆ</small>
</td>
<td align="center">
  <img src="docs/assets/icon_automation.png" width="60px" alt="å·¥ä½œæµè‡ªåŠ¨åŒ–"/>
  <br/><b>å·¥ä½œæµè‡ªåŠ¨åŒ–</b><br/>
  <small>ä»»åŠ¡è°ƒåº¦æ‰§è¡Œ<br/>æµç¨‹è‡ªåŠ¨åŒ–</small>
</td>
<td align="center">
  <img src="docs/assets/icon_qa.png" width="60px" alt="çŸ¥è¯†é—®ç­”"/>
  <br/><b>çŸ¥è¯†é—®ç­”</b><br/>
  <small>ä¼ä¸šçŸ¥è¯†åº“<br/>æ™ºèƒ½é—®ç­”ç³»ç»Ÿ</small>
</td>
</tr>
</table>

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¯ ç®€æ´ API**: æç®€è®¾è®¡ï¼Œå‡ è¡Œä»£ç æ„å»º AI Agent
- **ğŸ”§ å·¥å…·ç³»ç»Ÿ**: å¼ºå¤§çš„ `@function_tool` è£…é¥°å™¨ï¼Œè½»æ¾æ‰©å±• AI èƒ½åŠ›
- **ğŸŒŠ æµå¼è¾“å‡º**: å®Œæ•´çš„æµå¼å¤„ç†æ”¯æŒï¼Œæä¾›å®æ—¶äº¤äº’ä½“éªŒ
- **ğŸ“ ä¸Šä¸‹æ–‡ç®¡ç†**: è‡ªåŠ¨ç®¡ç†å¯¹è¯å†å²å’Œä¸Šä¸‹æ–‡çŠ¶æ€
- **ğŸ”— MCP é›†æˆ**: åŸç”Ÿæ”¯æŒ Model Context Protocolï¼Œé›†æˆå¤–éƒ¨å·¥å…·
- **âš¡ ç°ä»£åŒ–**: åŸºäº Python 3.10+ï¼Œæ”¯æŒå¼‚æ­¥ç¼–ç¨‹
- **ğŸ§ª é«˜è´¨é‡**: 120+ æµ‹è¯•ç”¨ä¾‹ï¼Œ78% ä»£ç è¦†ç›–ç‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
pip install zipagent
```

### 5åˆ†é’Ÿä¸Šæ‰‹

```python
from zipagent import Agent, Runner, function_tool

# 1. å®šä¹‰å·¥å…·
@function_tool
def calculate(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    return str(eval(expression))

# 2. åˆ›å»º Agent
agent = Agent(
    name="MathAssistant",
    instructions="ä½ æ˜¯ä¸€ä¸ªæ•°å­¦åŠ©æ‰‹",
    tools=[calculate]
)

# 3. å¼€å§‹å¯¹è¯
result = Runner.run(agent, "è®¡ç®— 23 + 45")
print(result.content)  # "23 + 45 çš„è®¡ç®—ç»“æœæ˜¯ 68"
```

## ğŸ“š åŠŸèƒ½å±•ç¤º

### ğŸŒŠ æµå¼è¾“å‡º

```python
from zipagent import StreamEventType

# å®æ—¶æµå¼å“åº”
for event in Runner.run_stream(agent, "è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½"):
    if event.type == StreamEventType.ANSWER_DELTA:
        print(event.content, end="", flush=True)  # æ‰“å­—æœºæ•ˆæœ
    elif event.type == StreamEventType.TOOL_CALL:
        print(f"ğŸ”§ è°ƒç”¨å·¥å…·: {event.tool_name}")
```

### ğŸ“ ä¸Šä¸‹æ–‡ç®¡ç†

```python
from zipagent import Context

# å¤šè½®å¯¹è¯
context = Context()

result1 = Runner.run(agent, "æˆ‘å«å°æ˜", context=context)
result2 = Runner.run(agent, "æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ", context=context)
print(result2.content)  # "ä½ å«å°æ˜"

# å¯¹è¯ç»Ÿè®¡
print(f"å¯¹è¯è½®æ•°: {context.turn_count}")
print(f"Token ä½¿ç”¨: {context.usage}")
```

### ğŸ”— MCP å·¥å…·é›†æˆ

```python
from zipagent import MCPTool

# è¿æ¥å¤–éƒ¨ MCP å·¥å…·
async def demo():
    # è¿æ¥é«˜å¾·åœ°å›¾å·¥å…·
    amap_tools = await MCPTool.connect(
        command="npx",
        args=["-y", "@amap/amap-maps-mcp-server"],
        env={"AMAP_MAPS_API_KEY": "your_key"}
    )
    
    # æ··åˆä½¿ç”¨æœ¬åœ°å·¥å…·å’Œ MCP å·¥å…·
    agent = Agent(
        name="MapAssistant",
        instructions="ä½ æ˜¯ä¸€ä¸ªåœ°å›¾åŠ©æ‰‹",
        tools=[calculate, amap_tools]  # ç»Ÿä¸€æ¥å£ï¼
    )
    
    result = Runner.run(agent, "åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ")
    print(result.content)
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### å¼‚å¸¸å¤„ç†

```python
from zipagent import ToolExecutionError, MaxTurnsError

try:
    result = Runner.run(agent, "è®¡ç®— 10 / 0", max_turns=3)
except ToolExecutionError as e:
    print(f"å·¥å…·æ‰§è¡Œå¤±è´¥: {e.details['tool_name']}")
except MaxTurnsError as e:
    print(f"è¾¾åˆ°æœ€å¤§è½®æ¬¡: {e.details['max_turns']}")
```

### è‡ªå®šä¹‰æ¨¡å‹

```python
from zipagent import OpenAIModel

# è‡ªå®šä¹‰æ¨¡å‹é…ç½®
model = OpenAIModel(
    model="gpt-4",
    api_key="your_api_key",
    base_url="https://api.openai.com/v1"
)

agent = Agent(
    name="CustomAgent",
    instructions="ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹",
    tools=[calculate],
    model=model
)
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **ğŸ’¬ èŠå¤©æœºå™¨äºº**: å®¢æœã€é—®ç­”ã€é—²èŠæœºå™¨äºº
- **ğŸ”§ æ™ºèƒ½åŠ©æ‰‹**: ä»£ç åŠ©æ‰‹ã€å†™ä½œåŠ©æ‰‹ã€æ•°æ®åˆ†æåŠ©æ‰‹  
- **ğŸŒ å·¥å…·é›†æˆ**: é›†æˆ APIã€æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹æœåŠ¡
- **ğŸ“Š å·¥ä½œæµè‡ªåŠ¨åŒ–**: å¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡è‡ªåŠ¨åŒ–
- **ğŸ” çŸ¥è¯†é—®ç­”**: åŸºäºçŸ¥è¯†åº“çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ

## ğŸ“– å®Œæ•´ç¤ºä¾‹

æŸ¥çœ‹ `examples/` ç›®å½•è·å–æ›´å¤šç¤ºä¾‹ï¼š

- [`basic_demo.py`](examples/basic_demo.py) - åŸºç¡€åŠŸèƒ½æ¼”ç¤º
- [`stream_demo.py`](examples/stream_demo.py) - æµå¼è¾“å‡ºæ¼”ç¤º
- [`mcp_demo.py`](examples/mcp_demo.py) - MCP å·¥å…·é›†æˆæ¼”ç¤º

```bash
# è¿è¡Œç¤ºä¾‹
python examples/basic_demo.py
python examples/stream_demo.py
python examples/mcp_demo.py
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
ZipAgent/
â”œâ”€â”€ src/zipagent/           # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ agent.py            # Agent æ ¸å¿ƒç±»
â”‚   â”œâ”€â”€ context.py          # ä¸Šä¸‹æ–‡ç®¡ç†
â”‚   â”œâ”€â”€ model.py            # LLM æ¨¡å‹æŠ½è±¡
â”‚   â”œâ”€â”€ runner.py           # æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ tool.py             # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ stream.py           # æµå¼å¤„ç†
â”‚   â”œâ”€â”€ mcp_tool.py         # MCP å·¥å…·é›†æˆ
â”‚   â””â”€â”€ exceptions.py       # å¼‚å¸¸ç³»ç»Ÿ
â”œâ”€â”€ examples/               # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ tests/                  # æµ‹è¯•å¥—ä»¶ï¼ˆ120+ æµ‹è¯•ï¼‰
â””â”€â”€ docs/                   # æ–‡æ¡£
```


## ğŸ› ï¸ å¼€å‘

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/JiayuXu0/ZipAgent.git
cd ZipAgent

# ä½¿ç”¨ uv ç®¡ç†ä¾èµ–ï¼ˆæ¨èï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh
uv sync

# è¿è¡Œæµ‹è¯•
uv run pytest

# ä»£ç æ£€æŸ¥
uv run ruff check --fix
uv run pyright
```

### è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

1. ğŸ› **æŠ¥å‘Š Bug**: æäº¤ [Issue](https://github.com/JiayuXu0/ZipAgent/issues)
2. ğŸ’¡ **åŠŸèƒ½å»ºè®®**: è®¨è®ºæ–°åŠŸèƒ½æƒ³æ³•
3. ğŸ“ **æ–‡æ¡£æ”¹è¿›**: å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
4. ğŸ”§ **ä»£ç è´¡çŒ®**: æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç¤¾åŒºæ”¯æŒï¼

- OpenAI - æä¾›å¼ºå¤§çš„ LLM API
- MCP ç¤¾åŒº - Model Context Protocol æ ‡å‡†
- Python ç”Ÿæ€ - ä¼˜ç§€çš„å¼€å‘å·¥å…·é“¾