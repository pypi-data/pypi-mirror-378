interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/accounts/verify_credentials
  response:
    body:
      string: '{"id":"113998800956287197","username":"admin","acct":"admin","display_name":"","locked":false,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-02-13T00:00:00.000Z","note":"","url":"http://localhost:3000/@admin","uri":"http://localhost:3000/users/admin","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":3,"last_status_at":"2025-02-13","hide_collections":null,"noindex":false,"source":{"privacy":"public","sensitive":false,"language":null,"note":"","fields":[],"follow_requests_count":0,"hide_collections":null,"discoverable":null,"indexable":false},"emojis":[],"roles":[{"id":"3","name":"Owner","color":""}],"fields":[],"role":{"id":"3","name":"Owner","permissions":"1048575","color":"","highlighted":true}}'
    headers:
      Cache-Control:
      - private, no-store
      Content-Length:
      - '1010'
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      Content-Type:
      - application/json; charset=utf-8
      ETag:
      - W/"0639284d096e9b3b6d2071dbb3808b81"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server-Timing:
      - cache_read.active_support;dur=0.04, sql.active_record;dur=1.25, cache_generate.active_support;dur=1.75,
        cache_write.active_support;dur=0.11, instantiation.active_record;dur=0.31,
        start_processing.action_controller;dur=0.00, render.active_model_serializers;dur=4.27,
        process_action.action_controller;dur=23.91
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-RateLimit-Limit:
      - '300'
      X-RateLimit-Remaining:
      - '299'
      X-RateLimit-Reset:
      - '2025-02-13T22:00:00.711642Z'
      X-Request-Id:
      - 4f908022-f8d7-4795-a084-ec9b869fdc49
      X-Runtime:
      - '0.038257'
      X-XSS-Protection:
      - '0'
      vary:
      - Authorization, Origin
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/accounts/113998800956287197/unfollow
  response:
    body:
      string: '{"id":"113998800956287197","following":false,"showing_reblogs":false,"notifying":false,"languages":null,"followed_by":false,"blocking":false,"blocked_by":false,"muting":false,"muting_notifications":false,"requested":false,"requested_by":false,"domain_blocking":false,"endorsed":false,"note":"top
        ebayer gerne wieder"}'
    headers:
      Cache-Control:
      - private, no-store
      Content-Length:
      - '317'
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      Content-Type:
      - application/json; charset=utf-8
      ETag:
      - W/"980c7f806d79f9d809d65077d0616e26"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server-Timing:
      - cache_read.active_support;dur=0.02, sql.active_record;dur=1.75, cache_generate.active_support;dur=0.91,
        cache_write.active_support;dur=0.09, instantiation.active_record;dur=0.57,
        start_processing.action_controller;dur=0.00, cache_read_multi.active_support;dur=0.05,
        cache_write_multi.active_support;dur=0.07, render.active_model_serializers;dur=0.16,
        process_action.action_controller;dur=29.44
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-RateLimit-Limit:
      - '300'
      X-RateLimit-Remaining:
      - '299'
      X-RateLimit-Reset:
      - '2025-02-13T22:00:00.774332Z'
      X-Request-Id:
      - 81f73c48-23f7-40dd-a17e-6fd2bb4d84bb
      X-Runtime:
      - '0.050194'
      X-XSS-Protection:
      - '0'
      vary:
      - Authorization, Origin
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/instance/
  response:
    body:
      string: '{"uri":"localhost:3000","title":"Mastodon","short_description":"","description":"","email":"","version":"4.3.0","urls":{"streaming_api":"ws://localhost:4000"},"stats":{"user_count":4,"status_count":8,"domain_count":1},"thumbnail":"http://localhost:3000/packs/media/images/preview-6399aebd96ccf025654e2977454f168f.png","languages":["en"],"registrations":true,"approval_required":false,"invites_enabled":true,"configuration":{"accounts":{"max_featured_tags":10},"statuses":{"max_characters":500,"max_media_attachments":4,"characters_reserved_per_url":23},"media_attachments":{"supported_mime_types":["image/jpeg","image/png","image/gif","image/heic","image/heif","image/webp","image/avif","video/webm","video/mp4","video/quicktime","video/ogg","audio/wave","audio/wav","audio/x-wav","audio/x-pn-wave","audio/vnd.wave","audio/ogg","audio/vorbis","audio/mpeg","audio/mp3","audio/webm","audio/flac","audio/aac","audio/m4a","audio/x-m4a","audio/mp4","audio/3gpp","video/x-ms-asf"],"image_size_limit":16777216,"image_matrix_limit":33177600,"video_size_limit":103809024,"video_frame_rate_limit":120,"video_matrix_limit":8294400},"polls":{"max_options":4,"max_characters_per_option":50,"min_expiration":300,"max_expiration":2629746}},"contact_account":null,"rules":[]}'
    headers:
      Cache-Control:
      - max-age=300, public, stale-while-revalidate=30, stale-if-error=86400
      Content-Length:
      - '1259'
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 13 Feb 2025 21:58:02 GMT
      ETag:
      - W/"9e90825f65abe02ff7c7610104210987"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server-Timing:
      - cache_read.active_support;dur=0.13, sql.active_record;dur=1.64, cache_generate.active_support;dur=11.21,
        cache_write.active_support;dur=0.31, instantiation.active_record;dur=0.16,
        start_processing.action_controller;dur=0.00, cache_fetch_hit.active_support;dur=0.00,
        render.active_model_serializers;dur=14.11, process_action.action_controller;dur=30.34
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-RateLimit-Limit:
      - '300'
      X-RateLimit-Remaining:
      - '299'
      X-RateLimit-Reset:
      - '2025-02-13T22:00:00.826272Z'
      X-Request-Id:
      - 1d13018c-e4c9-428d-94ed-f64501ff47ac
      X-Runtime:
      - '0.045043'
      X-XSS-Protection:
      - '0'
      vary:
      - Accept, Origin
    status:
      code: 200
      message: OK
- request:
    body: status=it%27s+cool+guy
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses
  response:
    body:
      string: '{"id":"113998816073673525","created_at":"2025-02-13T21:58:07.842Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"private","language":"ja","uri":"http://localhost:3000/users/mastodonpy_test/statuses/113998816073673525","url":"http://localhost:3000/@mastodonpy_test/113998816073673525","replies_count":0,"reblogs_count":0,"favourites_count":0,"edited_at":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003eit\u0026#39;s
        cool guy\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"113998801242326861","username":"mastodonpy_test","acct":"mastodonpy_test","display_name":"John
        Lennon","locked":true,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-02-13T00:00:00.000Z","note":"\u003cp\u003eI
        walk funny\u003c/p\u003e","url":"http://localhost:3000/@mastodonpy_test","uri":"http://localhost:3000/users/mastodonpy_test","avatar":"http://localhost:3000/system/accounts/avatars/113/998/801/242/326/861/original/369fe73b2cc12cbe.jpg","avatar_static":"http://localhost:3000/system/accounts/avatars/113/998/801/242/326/861/original/369fe73b2cc12cbe.jpg","header":"http://localhost:3000/system/accounts/headers/113/998/801/242/326/861/original/c49892714f54f7f9.jpg","header_static":"http://localhost:3000/system/accounts/headers/113/998/801/242/326/861/original/c49892714f54f7f9.jpg","followers_count":0,"following_count":0,"statuses_count":4,"last_status_at":"2025-02-13","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"bread","value":"toasty.","verified_at":null},{"name":"lasagna","value":"no!!!","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"card":null,"poll":null}'
    headers:
      Cache-Control:
      - private, no-store
      Content-Length:
      - '1851'
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      Content-Type:
      - application/json; charset=utf-8
      ETag:
      - W/"224720016da9c1f208d300f6fefaa3ca"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server-Timing:
      - cache_read.active_support;dur=0.05, sql.active_record;dur=10.31, cache_generate.active_support;dur=3.09,
        cache_write.active_support;dur=0.14, instantiation.active_record;dur=0.43,
        start_processing.action_controller;dur=0.00, transaction.active_record;dur=4.57,
        render.active_model_serializers;dur=10.47, process_action.action_controller;dur=44.40
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-RateLimit-Limit:
      - '300'
      X-RateLimit-Remaining:
      - '240'
      X-RateLimit-Reset:
      - '2025-02-14T00:00:00.865233Z'
      X-Request-Id:
      - cfd1ee0d-9301-4c28-9920-62c202b79a0c
      X-Runtime:
      - '0.060757'
      X-XSS-Protection:
      - '0'
      vary:
      - Authorization, Origin
    status:
      code: 200
      message: OK
- request:
    body: status=it%27s+cool+guy+too
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      Content-Length:
      - '26'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses
  response:
    body:
      string: '{"id":"113998816079491680","created_at":"2025-02-13T21:58:07.932Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"en","uri":"http://localhost:3000/users/admin/statuses/113998816079491680","url":"http://localhost:3000/@admin/113998816079491680","replies_count":0,"reblogs_count":0,"favourites_count":0,"edited_at":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003eit\u0026#39;s
        cool guy too\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"113998800956287197","username":"admin","acct":"admin","display_name":"","locked":false,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-02-13T00:00:00.000Z","note":"","url":"http://localhost:3000/@admin","uri":"http://localhost:3000/users/admin","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":4,"last_status_at":"2025-02-13","hide_collections":null,"noindex":false,"emojis":[],"roles":[{"id":"3","name":"Owner","color":""}],"fields":[]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"card":null,"poll":null}'
    headers:
      Cache-Control:
      - private, no-store
      Content-Length:
      - '1478'
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      Content-Type:
      - application/json; charset=utf-8
      ETag:
      - W/"9468a4b640ff16041839e27fdb6e5e9e"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server-Timing:
      - cache_read.active_support;dur=0.05, sql.active_record;dur=9.91, cache_generate.active_support;dur=2.77,
        cache_write.active_support;dur=0.15, instantiation.active_record;dur=0.46,
        start_processing.action_controller;dur=0.00, transaction.active_record;dur=3.96,
        render.active_model_serializers;dur=9.65, process_action.action_controller;dur=44.49
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-RateLimit-Limit:
      - '300'
      X-RateLimit-Remaining:
      - '286'
      X-RateLimit-Reset:
      - '2025-02-14T00:00:00.953861Z'
      X-Request-Id:
      - 57675417-bd35-45fa-9e47-4207cd44ca13
      X-Runtime:
      - '0.059205'
      X-XSS-Protection:
      - '0'
      vary:
      - Authorization, Origin
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:4000/api/v1/streaming/user
  response:
    body:
      string: ':)

        event: update

        data: {"id":"113998816073673525","created_at":"2025-02-13T21:58:07.842Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"private","language":"ja","uri":"http://localhost:3000/users/mastodonpy_test/statuses/113998816073673525","url":"http://localhost:3000/@mastodonpy_test/113998816073673525","replies_count":0,"reblogs_count":0,"favourites_count":0,"edited_at":null,"content":"<p>it&#39;s
        cool guy</p>","reblog":null,"application":{"name":"Mastodon.py test suite","website":null},"account":{"id":"113998801242326861","username":"mastodonpy_test","acct":"mastodonpy_test","display_name":"John
        Lennon","locked":true,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-02-13T00:00:00.000Z","note":"<p>I
        walk funny</p>","url":"http://localhost:3000/@mastodonpy_test","uri":"http://localhost:3000/users/mastodonpy_test","avatar":"http://localhost:3000/system/accounts/avatars/113/998/801/242/326/861/original/369fe73b2cc12cbe.jpg","avatar_static":"http://localhost:3000/system/accounts/avatars/113/998/801/242/326/861/original/369fe73b2cc12cbe.jpg","header":"http://localhost:3000/system/accounts/headers/113/998/801/242/326/861/original/c49892714f54f7f9.jpg","header_static":"http://localhost:3000/system/accounts/headers/113/998/801/242/326/861/original/c49892714f54f7f9.jpg","followers_count":0,"following_count":0,"statuses_count":4,"last_status_at":"2025-02-13","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"bread","value":"toasty.","verified_at":null},{"name":"lasagna","value":"no!!!","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"card":null,"poll":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"filtered":[]}


        :'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - no-store
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream
      Date:
      - Thu, 13 Feb 2025 21:58:02 GMT
      Keep-Alive:
      - timeout=5
      Transfer-Encoding:
      - chunked
      X-Powered-By:
      - Express
      X-Request-Id:
      - ccc9df71-f038-4fee-88b3-c13df9208da7
    status:
      code: 200
      message: OK
version: 1
