{
  "version": 3,
  "sources": ["../src/js/components/table-of-content.js", "../src/js/nbconvert.js", "../src/js/nbprint.js"],
  "sourcesContent": ["export function createToc(config) {\n  const content = config.content;\n  const tocElement = config.tocElement;\n  const titleElements = config.titleElements;\n\n  let tocElementDiv = content.querySelector(tocElement);\n  if (tocElementDiv) {\n    let tocUl = document.createElement(\"ul\");\n    tocUl.id = \"list-toc-generated\";\n    tocElementDiv.appendChild(tocUl);\n\n    // add class to all title elements\n    let tocElementNbr = 0;\n    for (var i = 0; i < titleElements.length; i++) {\n      let titleHierarchy = i + 1;\n      let titleElement = content.querySelectorAll(titleElements[i]);\n\n      // filter by position in dom, only include things after the ToC\n      titleElement = Array.from(titleElement).filter((elem) => {\n        return tocElementDiv.compareDocumentPosition(elem) & 0x04;\n      });\n\n      titleElement.forEach((element) => {\n        // add classes to the element\n        element.classList.add(\"title-element\");\n        element.setAttribute(\"data-title-level\", titleHierarchy);\n\n        tocElementNbr++;\n        // set ID to avoid dupes\n        element.id = \"title-element-\" + tocElementNbr;\n      });\n    }\n\n    // create toc list\n    let tocElements = content.querySelectorAll(\".title-element\");\n\n    for (var i = 0; i < tocElements.length; i++) {\n      let tocElement = tocElements[i];\n\n      let tocNewLi = document.createElement(\"li\");\n\n      // Add class for the hierarcy of toc\n      tocNewLi.classList.add(\"toc-element\");\n      tocNewLi.classList.add(\n        \"toc-element-level-\" + tocElement.dataset.titleLevel,\n      );\n\n      // Keep class of title elements\n      let classTocElement = tocElement.classList;\n      for (var n = 0; n < classTocElement.length; n++) {\n        if (classTocElement[n] != \"title-element\") {\n          tocNewLi.classList.add(classTocElement[n]);\n        }\n      }\n\n      // Create the element\n      tocNewLi.innerHTML =\n        '<a href=\"#' + tocElement.id + '\">' + tocElement.innerHTML + \"</a>\";\n      tocUl.appendChild(tocNewLi);\n    }\n  }\n}\n", "export * from \"./components/table-of-content\";\nimport { createToc } from \"./components/table-of-content\";\nimport { Previewer, registerHandlers, Handler } from \"pagedjs\";\nimport \"@fortawesome/fontawesome-free/js/all\";\n\nexport class handlers extends Handler {\n  constructor(chunker, polisher, caller) {\n    super(chunker, polisher, caller);\n  }\n\n  beforeParsed(content) {\n    createToc({\n      content,\n      tocElement: \"#toc\",\n      titleElements: [\"h1\", \"h2\", \"h3\", \"h4\"],\n    });\n  }\n}\n\nexport const build = async () => {\n  const config = {\n    auto: true,\n    before: undefined,\n    after: undefined,\n    content: undefined,\n    stylesheets: undefined,\n    renderTo: undefined,\n    settings: undefined,\n  };\n\n  const previewer = new Previewer(config);\n  registerHandlers(handlers);\n\n  if (config.before) {\n    await config.before();\n  }\n\n  if (config.auto !== false) {\n    const done = await previewer.preview(\n      config.content,\n      config.stylesheets,\n      config.renderTo,\n    );\n  }\n\n  if (config.after) {\n    await config.after(done);\n  }\n};\n", "import { build as buildpagedjs } from \"./nbconvert\";\n\nexport class NBPrint {\n  constructor({ configuration, notebook_info }) {\n    this._configuration = configuration;\n    this._notebook_info = notebook_info;\n  }\n\n  async process() {\n    // remap element hierarchy\n    document.querySelectorAll(\"[data-nbprint-parent-id]\").forEach((elem) => {\n      // read the parent ID from the element\n      let parent_id = elem.getAttribute(\"data-nbprint-parent-id\");\n\n      // grab the parent element\n      let parent_elem = document.querySelector(\n        `[data-nbprint-id=\"${parent_id}\"`,\n      );\n\n      if (parent_elem) {\n        parent_elem.appendChild(elem);\n      }\n    });\n\n    // hoist global styles\n    let styles = Array.from(\n      document.querySelector(\"main\").querySelectorAll(\"style\"),\n    ).filter((val) => !val.textContent.includes(\"@scope\"));\n    for (let style of styles) {\n      document.head.appendChild(style);\n    }\n\n    const myEvent = new CustomEvent(\"nbprint-ready\", {\n      detail: {\n        nbprint: this,\n      },\n      bubbles: true,\n      cancelable: true,\n      composed: false,\n    });\n    document.dispatchEvent(myEvent);\n  }\n\n  async build() {\n    await buildpagedjs();\n  }\n\n  async postprocess() {\n    const myEvent = new CustomEvent(\"nbprint-done\", {\n      detail: {\n        nbprint: this,\n      },\n      bubbles: true,\n      cancelable: true,\n      composed: false,\n    });\n    document.dispatchEvent(myEvent);\n  }\n\n  debug() {\n    return this._configuration.debug;\n  }\n\n  buildPagedJS() {\n    return (\n      this._configuration.pagedjs !== false &&\n      this._configuration.debug !== true\n    );\n  }\n}\n\nexport function initializeNBPrint() {\n  let nbp = new NBPrint({\n    configuration: window._nbprint_configuration,\n    notebook_info: window._nbprint_notebook_info,\n  });\n\n  // set global for use in templates\n  window.NBPRINT = nbp;\n  window._n = nbp;\n\n  // alert in console for now\n  console.debug(\"NBPrint Initialized!\");\n\n  // dispatch initialization event\n  const myEvent = new CustomEvent(\"nbprint-initialized\", {\n    detail: {\n      nbprint: nbp,\n    },\n    bubbles: true,\n    cancelable: true,\n    composed: false,\n  });\n  document.dispatchEvent(myEvent);\n\n  // return object\n  return nbp;\n}\n"],
  "mappings": "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",
  "names": ["createToc", "config", "content", "tocElement", "titleElements", "tocElementDiv", "tocUl", "tocElementNbr", "i", "titleHierarchy", "titleElement", "elem", "element", "tocElements", "tocNewLi", "classTocElement", "n", "Previewer", "registerHandlers", "Handler", "handlers", "chunker", "polisher", "caller", "content", "createToc", "build", "config", "previewer", "done", "NBPrint", "configuration", "notebook_info", "elem", "parent_id", "parent_elem", "styles", "val", "style", "myEvent", "build", "initializeNBPrint", "nbp"]
}
