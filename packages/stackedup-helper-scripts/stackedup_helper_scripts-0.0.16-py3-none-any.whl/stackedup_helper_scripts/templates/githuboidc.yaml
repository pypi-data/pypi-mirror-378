---
Description: OMBU / GithubOidc

# The GithubOidc stack will create an OIDC Provider for roles and users to
# attach to.

Parameters:

  EnvironmentType:
    Description: The environment.
    Type: String

Resources:

  GithubOidc:
    Type: AWS::IAM::OIDCProvider
    Properties:
      Url: https://token.actions.githubusercontent.com
      ClientIdList:
        - sts.amazonaws.com
      ThumbprintList:
        - 6938fd4d98bab03faadb97b34396831e3780aea1
      Tags:
        -
          Key: Environment
          Value: !Ref EnvironmentType

Outputs:

  GithubOidc:
    Description: GithubOidc ID
    Value: !Ref GithubOidc
